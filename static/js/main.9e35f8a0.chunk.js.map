{"version":3,"sources":["lib/react-query.js","components/Elements/TabPanel/TabPanel.js","assets/thoth-logo.png","components/Elements/SearchBar/SearchBar.js","config/index.js","features/misc/api/getPackageMetadata.js","features/home/components/PackageSearch.js","features/home/api/postAdvise.js","features/home/components/ComboBox/ComboBox.js","features/home/components/AdviseCreation.js","features/home/routes/index.js","features/misc/routes/NotFound.js","components/Footer/Footer.js","components/Layout/MainLayout.js","components/Layout/AdviseLayout.js","components/Elements/InfoCard/InfoCard.js","components/Elements/IconText/IconText.js","features/advise/utils/formatLockfile.js","utils/timeSince.js","features/advise/utils/calcTime.js","features/advise/utils/discoverPackageChanges.js","features/advise/components/AdviseHeader/CustomAlert/CustomAlert.js","features/advise/components/AdviseHeader/AdviseHeader.js","components/Elements/ProgressBar/ProgressBar.js","features/advise/components/AdviseMetric/AdviseMetric.js","features/advise/components/CustomCardAction/CustomCardAction.js","features/advise/components/DependenciesMetric/DependenciesMetric.js","features/advise/components/LicenseMetric/LicenseGroup/LicenseGroup.js","features/advise/components/LicenseMetric/LicenseMetric.js","features/advise/components/AdviseTableView/utils.js","features/advise/components/AdviseTableView/EnhancedTableHead/EnhancedTableHead.js","utils/Node.js","utils/Graph.js","features/advise/features/components/Popup/Popup.js","features/advise/features/components/NetworkGraphView/NetworkGraphView.js","features/advise/features/components/SelectedPackage/SelectedPackage.js","features/advise/routes/AdviseDetails.js","features/advise/components/AdviseTableView/AdviseTableView.js","features/advise/components/LockfileView/LockfileView.js","features/advise/routes/AdviseSummary.js","features/advise/api/getPackageDependencies.js","features/advise/api/getAdviseDocument.js","features/advise/hooks/useGraph.js","features/advise/hooks/useMetrics.js","features/advise/routes/AdviseNotFound.js","components/Layout/NavigationLayout.js","features/advise/routes/index.js","features/advise/hooks/useMergeGraphs.js","features/package/components/PackageHeader/PackageHeader.js","features/package/routes/PackageOverview.js","features/package/components/PackageDependencies/PackageDependencies.js","features/package/components/PackageLicenses/PackageLicenses.js","features/package/routes/PackageNotFound.js","features/package/routes/index.js","routes/RouterConfig.js","styles/Theme.js","stores/Global.js","providers/app.js","App.js","index.js"],"names":["queryClient","QueryClient","defaultOptions","queries","useErrorBoundary","refetchOnWindowFocus","retry","TabPanel","children","value","index","props","role","hidden","id","className","SearchBar","onChange","onEnter","label","helpertext","boxprops","error","lefticon","righticon","Box","Typography","variant","sx","color","Paper","component","p","display","alignItems","borderColor","undefined","paddingLeft","paddingRight","InputBase","ml","flex","placeholder","e","target","onKeyPress","ev","key","preventDefault","THOTH_URL","options","manipulation","enabled","editNode","nodeData","callback","fixed","x","interaction","hover","hoverConnectedEdges","selectConnectedEdges","selectable","edges","chosen","smooth","arrowStrikethrough","arrows","from","type","nodes","background","border","shape","size","borderWidth","labelHighlightBold","font","strokeWidth","physics","hierarchicalRepulsion","damping","springLength","solver","minVelocity","getPackageMetadata","name","version","a","axios","get","params","headers","accept","catch","response","status","isAxiosError","getPackageMetadataPyPi","PYPI_URL","PackageSearch","navigate","useNavigate","useState","searchQuery","setSearchQuery","searchError","setSearchError","handleAnalyze","then","data","info","Grid","container","justifyContent","alignSelf","item","xs","minHeight","spacing","md","handleChange","mr","Button","onClick","minWidth","postAdvise","pipfile","pipfileLock","runtime_environment","application_stack","requirements","requirements_format","requirements_lock","post","recommendation_type","force","filter","createFilterOptions","ComboBox","suggestions","help","required","setValue","useMemo","map","suggestion","title","Autocomplete","event","newValue","inputValue","filterOptions","filtered","isExisting","some","option","push","selectOnFocus","clearOnBlur","handleHomeEndKeys","getOptionLabel","renderOption","freeSolo","renderInput","fullWidth","helperText","reducer","state","action","loading","payload","param","Error","initState","lookupType","operating_system_name","operating_system_version","platform","python_version","cuda_version","cudnn_version","mkl_version","openblas_version","openmpi_version","base_image","AdviseCreation","useReducer","dispatch","isValid","valid","operating_system","analysis_id","includes","Collapse","in","mt","backgroundColor","padding","marginBottom","multiline","rows","sm","TextField","LoadingButton","Home","mode","setMode","theme","useTheme","matches","useMediaQuery","breakpoints","up","style","maxWidth","marginLeft","marginRight","marginTop","alt","src","logo","height","width","align","mb","direction","stat","i","ToggleButtonGroup","exclusive","newMode","ToggleButton","Divider","NotFound","Footer","pb","pt","textAlign","useStyles","makeStyles","root","MainLayout","classes","AdviseLayout","header","location","useLocation","Tabs","pathname","split","at","indicatorColor","textColor","Tab","RouterLink","to","bullet","margin","transform","fontSize","pos","InfoCard","cardMeta","cardBody","cardAction","Card","CardHeader","subheader","subTitle","CardContent","IconText","text","icon","link","href","formatLockfile","lockfile","Object","entries","default","replace","timeSince","date","seconds","Math","floor","Date","interval","num","discoverPackageChanges","justifications","justifiedPackages","Map","forEach","justification","package_name","has","set","node","package","change","depth","reasons","start","packages","visited","visitList","reasonNodes","pop","parents","adj","length","reason","oldVersion","whyRemoved","thoth","CustomAlert","Alert","severity","toLowerCase","message","titleRow","linksRow","alert","AdviseHeader","finished_at","started_at","datetime","adviseDocument","React","expandAlerts","setExpandAlerts","report","ERROR","toUpperCase","statusText","statusColor","alerts","stack_info","metadata","document_id","parameters","Chip","timeout","unmountOnExit","slice","CustomLinearProgress","withStyles","borderRadius","colorPrimary","palette","grey","bar","LinearProgress","gridTemplateColumns","gridGap","whiteSpace","overflow","textOverflow","ProgressBar","total","AdviseMetric","metric","added","removed","unchanged","gutterBottom","build","Skeleton","CustomCardAction","DependenciesMetric","all","roots","totalDependencies","direct","indirect","List","TransitionGroup","t","ListItem","ListItemText","primary","LicenseGroup","totalLicenses","open","setOpen","isOsiApproved","keys","my","sort","b","k","v","LicenseMetric","more","setMore","licenses","reduce","sum","val","descendingComparator","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","el","headCells","numeric","EnhancedTableHead","onRequestSort","TableHead","TableRow","headCell","TableCell","sortDirection","TableSortLabel","active","property","visuallyHidden","Node","this","adjacents","Set","add","Array","Graph","vertex","source","destination","sourceNode","destinationNode","addAdjacent","isAdjacent","first","shift","getAdjacents","path","newPath","nextPath","findPath","parent","paths","findAllPaths","Popup","summary","license","latestVersion","flexFlow","canvas","NetworkGraph","mergedGraph","visJsRef","useRef","selected","useContext","SelectedPackageContext","useEffect","findAllNodesOnAllPaths","convertedNodes","DataSet","popup","document","createElement","ReactDOM","render","visData","visEdges","network","current","Network","networkCanvas","getElementById","getElementsByTagName","on","changeCursor","isCluster","newCursorStyle","cursor","ref","SelectedPackage","setSelected","selectedPackage","dependents","Link","underline","advisory","Fragment","NetworkGraphView","createContext","AdviseDetails","search","setSearch","Provider","s","AdviseTableView","filteredGraph","setOrder","setOrderBy","page","setPage","rowsPerPage","setRowsPerPage","setRows","console","log","newRows","warnings","dependencies","emptyRows","max","TableContainer","Table","TableBody","row","labelId","iconColor","tabIndex","scope","paddingBottom","paddingTop","colSpan","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","AdviseSummary","metrics","setPipfile","handlePipfile","newPipfile","advise","getPackageDependencies","getAdviseDocument","useGraph","knownRoots","config","allMetadata","useQueries","queryKey","queryFn","allDependencies","usePackagesDependencies","allMetadataStatus","success","query","allDependenciesStatus","isLoading","graph","setGraph","tempGraph","reformattedDeps","isSuccess","addVertex","notRoot","dep","adjacentNode","addEdge","requires_dist","app","adjs","min","useDependencyMetric","setMetric","base","bfs","graphSearch","useLicenseMetric","packageLicenses","classifier","classifiers","parsed","generalLicense","specificLicense","specific","useAdviseMetric","os_release","python","implementation_name","major","minor","micro","analyzer","analyzer_version","products","AdviseNotFound","NavigationLayout","AdviseRoutes","useParams","useQuery","useAdviseDocument","refetchInterval","initGraphData","result","project","requirements_locked","adviseGraphData","initGraph","adviseGraph","oldGraph","newGraph","visGraphEdges","combinedNode","main","useMergeGraphs","adviseMetric","oldDependencyMetric","newDependencyMetric","oldLicenseMetric","newLicenseMetric","useMetrics","CircularProgress","element","PackageHeader","all_versions","latest_version","flexGrow","PackageOverview","PackageNotFound","package_version","PackageRoutes","RouterConfig","basename","exact","themeLight","createTheme","light","dark","secondary","priamry","typography","fontFamily","h4","fontWeight","lineHeight","h5","h6","body1","body2","subtitle1","subtitle2","Theme","ThemeProvider","CssBaseline","StateContext","DispatchContext","Global","ErrorFallback","window","assign","origin","AppProvider","FallbackComponent","client","App","StrictMode"],"mappings":"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","file":"static/js/main.9e35f8a0.chunk.js","sourcesContent":["import { QueryClient } from 'react-query';\n\nconst queryConfig = {\n    queries: {\n        useErrorBoundary: true,\n        refetchOnWindowFocus: false,\n        retry: false,\n    },\n};\n\nexport const queryClient = new QueryClient({ defaultOptions: queryConfig });","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\n/**\n * A tab panel used to encapsulate different tab content.\n */\nconst TabPanel = ({ children, value, index, ...props }) => {\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      className={`${props.className}`}\n      {...props}\n    >\n      {value === index && children}\n    </div>\n  );\n};\n\nTabPanel.propTypes = {\n  /** The body of the tab. */\n  children: PropTypes.node,\n  /** The unique identifier of the tab. */\n  index: PropTypes.any.isRequired,\n  /** The state variable passed in from the parent which is compared to the index */\n  value: PropTypes.any.isRequired\n};\n\nexport default TabPanel;\n","export default __webpack_public_path__ + \"static/media/thoth-logo.1a28a729.png\";","// material ui\nimport {Typography, Box, Paper, InputBase} from \"@material-ui/core\";\n\n// react\nimport PropTypes from \"prop-types\";\n\n/**\n *\n */\nconst SearchBar = props => {\n    const {\n        onChange,\n        onEnter,\n        label,\n        helpertext,\n        boxprops,\n        error = false,\n        lefticon,\n        righticon\n    } = props;\n\n    return (\n        <Box>\n            <Typography\n                variant={\"body1\"}\n                sx={{ color: error ? \"error.main\" : \"text.secondary\" }}\n            >\n                {label}\n            </Typography>\n            <Paper\n                component=\"form\"\n                variant=\"outlined\"\n                sx={{\n                    p: \"8px 4px\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    borderColor: error ? \"red\" : undefined,\n                    paddingLeft: 2,\n                    paddingRight: 2\n                }}\n                {...boxprops}\n            >\n                {lefticon}\n                <InputBase\n                    sx={{ ml: 1, flex: 1 }}\n                    placeholder={helpertext}\n                    error={error}\n                    onChange={e => onChange(e.target.value)}\n                    onKeyPress={(ev) => {\n                        if (ev.key === 'Enter') {\n                            onEnter()\n                            ev.preventDefault();\n                        }\n                    }}\n                    {...props}\n                />\n                {righticon}\n            </Paper>\n        </Box>\n    );\n};\n\n\nSearchBar.propTypes = {\n    /** The error text or default label text */\n    label: PropTypes.string,\n    /** callback function when textbox content changes */\n    onChange: PropTypes.func.isRequired,\n    /** callback function when textbox ENTER is pressed */\n    onEnter: PropTypes.func,\n    /** helper text for the search bar */\n    helpertext: PropTypes.string,\n    /** if there is an error or not */\n    error: PropTypes.bool,\n    /** icon displayed on the left of the text box */\n    lefticon: PropTypes.element,\n    /** icon displayed on the right of the text box */\n    righticon: PropTypes.element\n};\n\nexport default SearchBar;\n","export const PYPI_URL = \"https://pypi.org/pypi\";\nexport const THOTH_URL = \"https://khemenu.thoth-station.ninja/api/v1\";\nexport const LICENSES_URL = \"https://raw.githubusercontent.com/spdx/license-list-data/master/json/licenses.json\";\n\n/**\n * used for vis-js graph render engine\n */\nexport const options = {\n  manipulation: {\n    enabled: false,\n    editNode: function(nodeData, callback) {\n      nodeData.fixed = !nodeData.fixed.x;\n      callback(nodeData);\n    }\n  },\n  interaction: {\n    hover: true,\n    hoverConnectedEdges: false,\n    selectConnectedEdges: false,\n    selectable: true\n  },\n  edges: {\n    chosen: false,\n    smooth: false,\n    color: {\n      color: \"#5c6470\"\n    },\n    arrowStrikethrough: false,\n    arrows: {\n      from: {\n        enabled: true,\n        type: \"triangle\"\n      }\n    }\n  },\n\n  nodes: {\n    chosen: false,\n    color: {\n      background: \"#5c6470\",\n      border: \"#fff\",\n      hover: {\n        background: \"#f39200\",\n        border: \"#fff\"\n      }\n    },\n    shape: \"dot\",\n    size: 10,\n    borderWidth: 2,\n    labelHighlightBold: false,\n    font: {\n      color: \"#393e46\",\n      strokeWidth: 2,\n      size: 15\n    }\n  },\n  physics: {\n    hierarchicalRepulsion: {\n      damping: 0.1,\n      springLength: 200\n    },\n    solver: \"hierarchicalRepulsion\",\n    minVelocity: 0.15\n  }\n};\n","import axios from \"axios\";\nimport {THOTH_URL, PYPI_URL} from \"config\"\nimport {useQueries, useQuery} from 'react-query';\n\n\nexport const getPackageMetadata = async (\n    name,\n    version,\n    index = \"https://pypi.org/simple\"\n) => {\n    return axios\n        .get(THOTH_URL + \"/python/package/metadata\", {\n            params: {\n                name: name,\n                version: version,\n                index: index\n            },\n            headers: {\n                accept: \"application/json\"\n            }\n        })\n        .catch(e => {\n            if (e?.response?.status === 404 || e?.isAxiosError) {\n                return  getPackageMetadataPyPi(name, version)\n            } else {\n                throw e;\n            }\n        });\n};\n\nexport const getPackageMetadataPyPi = (name, version) => {\n    return axios\n        .get(PYPI_URL + \"/\" + name + (version ? \"/\" + version : \"\") + \"/json\").catch(() => { return undefined })\n}\n\nexport const usePackageMetadata = (name, version, config) => {\n    return useQuery({\n        ...config,\n        queryKey: ['packageMetadata', name, version],\n        queryFn: () => getPackageMetadata(name, version),\n    });\n};\n\nexport const usePackagesMetadata = (packages, config) => {\n    return useQueries(packages.map(p => {\n        return {\n            ...config,\n            queryKey: ['packageMetadata', p.name, p.version],\n            queryFn: () => getPackageMetadata(p.name, p.version),\n        }\n    }))\n};","import {Button, Grid, Typography} from \"@material-ui/core\";\nimport SearchBar from \"../../../components/Elements/SearchBar\";\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\nimport React, {useState} from \"react\";\nimport {getPackageMetadataPyPi} from \"../../misc/api\";\nimport {useNavigate} from \"react-router-dom\";\n\nexport const PackageSearch = () => {\n    const navigate = useNavigate();\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [searchError, setSearchError] = useState(\"\");\n\n\n    const handleAnalyze = async () => {\n        // if no query\n        if (searchQuery === \"\") {\n            return;\n        }\n\n        getPackageMetadataPyPi(searchQuery)\n            .then(response => {\n                navigate(\"/package/\" + response.data.info.name);\n            })\n            .catch(() => {\n                setSearchError(\"Package does not exist\");\n            });\n    }\n\n    const handleChange = (e) => {\n        setSearchQuery(e.target.value);\n        if (searchError !== \"\") {\n            setSearchError(\"\");\n        }\n    };\n\n    return(\n\n            <Grid container justifyContent=\"center\">\n                <Grid alignSelf=\"flex-start\" item xs={12}>\n                    <Typography\n                        color=\"error\"\n                        variant=\"body1\"\n                        sx={{ minHeight: 30 }}\n                    >\n                        {searchError ?? \"\"}\n                    </Typography>\n                </Grid>\n                <Grid container spacing={2} item xs={12}>\n                    <Grid item xs={12} md={10}>\n                        <SearchBar\n                            error={searchError !== \"\"}\n                            onChange={e => handleChange(e)}\n                            helpertext={\"Search for a Python package\"}\n                            type=\"search\"\n                            boxprops={{ mr: 2 }}\n                            lefticon={<SearchRoundedIcon />}\n                        />\n                    </Grid>\n                    <Grid item xs={12} md={2}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={() => handleAnalyze()}\n                            sx={{ minHeight: \"100%\", minWidth: \"100%\" }}\n                        >\n                            <b>Analyze</b>\n                        </Button>\n                    </Grid>\n                </Grid>\n\n            </Grid>\n    )\n}","import axios from \"axios\";\nimport {THOTH_URL} from \"config\"\n\n\nexport const postAdvise = (pipfile, pipfileLock, runtime_environment) => {\n    const data = {\n        application_stack: {\n            requirements: pipfile,\n            requirements_format: \"pipenv\",\n            requirements_lock: pipfileLock\n        },\n        runtime_environment: runtime_environment\n    };\n\n    return axios.post(THOTH_URL + \"/advise/python\", data, {\n        params: {\n            recommendation_type: \"stable\",\n            force: true\n        },\n        headers: {\n            \"accept\": \"application/json\",\n            \"Content-Type\": \"application/json\"\n        }\n    });\n};","import * as React from 'react';\nimport TextField from '@mui/material/TextField';\nimport Autocomplete, {createFilterOptions} from '@mui/material/Autocomplete';\nimport {useMemo} from \"react\";\n\nconst filter = createFilterOptions();\n\nexport default function ComboBox({suggestions, label, help, required, error, value, setValue}) {\n\n    suggestions = useMemo(() => {\n        return suggestions.map(suggestion => {\n            return {\n                title: suggestion\n            }\n        })\n    }, [suggestions])\n\n    return (\n        <Autocomplete\n            value={value}\n            onChange={(event, newValue) => {\n                if (typeof newValue === 'string') {\n                    setValue(newValue);\n                } else if (newValue && newValue.inputValue) {\n                    // Create a new value from the user input\n                    setValue(newValue.inputValue);\n                } else {\n                    setValue(newValue);\n                }\n            }}\n            filterOptions={(options, params) => {\n                const filtered = filter(options, params);\n\n                const { inputValue } = params;\n                // Suggest the creation of a new value\n                const isExisting = options.some((option) => inputValue === option.title);\n                if (inputValue !== '' && !isExisting) {\n                    filtered.push({\n                        inputValue,\n                        title: `Add \"${inputValue}\"`,\n                    });\n                }\n\n                return filtered;\n            }}\n            selectOnFocus\n            clearOnBlur\n            handleHomeEndKeys\n            id=\"free-solo-with-text-demo\"\n            options={suggestions ?? []}\n            getOptionLabel={(option) => {\n                // Value selected with enter, right from the input\n                if (typeof option === 'string') {\n                    return option;\n                }\n                // Add \"xxx\" option created dynamically\n                if (option.inputValue) {\n                    return option.inputValue;\n                }\n                // Regular option\n                return option.title;\n            }}\n            renderOption={(props, option) => <li {...props}>{option.title}</li>}\n            freeSolo\n            renderInput={(params) => (\n                <TextField fullWidth {...params} label={label} required={required} error={error !== undefined} helperText={help}/>\n            )}\n        />\n    );\n}","import {Button, Collapse, Grid, Paper, TextField, Typography} from \"@material-ui/core\";\nimport SearchBar from \"components/Elements/SearchBar\";\nimport React, {useReducer} from \"react\";\nimport {useNavigate} from \"react-router-dom\";\nimport LoadingButton from \"@material-ui/lab/LoadingButton\";\nimport {postAdvise} from \"../api\";\nimport ComboBox from \"./ComboBox/ComboBox\";\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case \"loading\":\n            return {...state, loading: action.payload};\n        case \"error\":\n            return {...state, error: {...state.error, [action.param]: action.payload}};\n        case \"clear-error\":\n            state.error = {};\n            return state;\n        case \"input\":\n            return {...state, [action.param]: action.payload, error: {...state.error, [action.param]: undefined}};\n        default:\n            throw new Error(\"Advise state dispatch error\");\n    }\n}\n\nexport const initState = {\n    error: {},\n    loading: false,\n    lookupType: \"id\",\n    operating_system_name: \"ubi\",\n    operating_system_version: \"8\",\n    platform: \"linux-x86_64\",\n    python_version: \"3.6\",\n    cuda_version: \"\",\n    cudnn_version: \"\",\n    mkl_version: \"\",\n    name: \"\",\n    openblas_version: \"\",\n    openmpi_version: \"\",\n    base_image: \"\"\n};\n\n\nexport const AdviseCreation = () => {\n    const navigate = useNavigate();\n    const [state, dispatch] = useReducer(reducer, initState)\n\n\n    const isValid = () =>{\n        if(state.lookupType === \"id\") {\n            if(!state.id || state.id === \"\") {\n                dispatch({type: \"error\", param: \"id\", payload: \"Field cant be empty\"})\n                return false\n            }\n        }\n        else {\n            let valid = true;\n            if(!state.pipfile) {\n                valid = false\n                dispatch({type: \"error\", param: \"pipfile\", payload: \"Field cant be empty\"})\n            }\n            if(!state.pipfileLock) {\n                valid = false\n                dispatch({type: \"error\", param: \"pipfileLock\", payload: \"Field cant be empty\"})\n            }\n            if(!state.name) {\n                valid = false\n                dispatch({type: \"error\", param: \"name\", payload: \"Field cant be empty\"})\n            }\n\n            return valid\n        }\n\n        return true\n    }\n\n    const handleAnalyze = async () => {\n        if(state.loading || !isValid()) { return; }\n\n        if(state.lookupType === \"id\") {\n            navigate( \"/advise/\" + state.id);\n        }\n        else {\n            dispatch({type: \"loading\", payload: true});\n            const runtime_environment = {\n                operating_system: {\n                    name: state.operating_system_name,\n                    version: state.operating_system_version\n                },\n                platform: state.platform,\n                python_version: state.python_version,\n                base_image: state.base_image,\n                cuda_version: state.cuda_version,\n                cudnn_version: state.cudnn_version,\n                mkl_version: state.mkl_version,\n                name: state.name,\n                openblas_version: state.openblas_version,\n                openmpi_version: state.openmpi_version,\n            }\n            postAdvise(state.pipfile, state.pipfileLock, runtime_environment)\n                .then(response => {\n                    dispatch({type: \"loading\", payload: false});\n                    navigate( \"/advise/\" + response.data.analysis_id);\n                })\n                .catch(error => {\n                    dispatch({type: \"loading\", payload: false});\n                    if (error?.response?.status === 400) {\n                        if (error?.response?.data?.error?.includes(\"Pipfile.lock\")) {\n                            dispatch({type: \"error\", param: \"pipfileLock\", payload: error?.response?.data?.error})\n                        } else if (error?.response?.data?.error?.includes(\"Pipfile\")) {\n                            dispatch({type: \"error\", param: \"pipfile\", payload: error?.response?.data?.error})\n                        }\n                    }\n                });\n        }\n    }\n\n\n    return(\n        <>\n            <Collapse in={state.lookupType === \"id\"}>\n                <>\n                    <Grid container justifyContent=\"center\">\n                        <Grid item xs={12}>\n                            <Typography\n                                color=\"error\"\n                                variant=\"body1\"\n                                sx={{ minHeight: 30 }}\n                            >\n                                {state.error?.id}\n                            </Typography>\n                        </Grid>\n                        <Grid container item xs={12} spacing={2}>\n                            <Grid item xs={12} md={10}>\n                                <SearchBar\n                                    error={state.error?.id}\n                                    onChange={e => dispatch({type: \"input\", param: \"id\", payload: e.target.value})}\n                                    helpertext={\"Analysis ID\"}\n                                    type=\"search\"\n                                    boxprops={{ mr: 2 }}\n                                    lefticon={<SearchRoundedIcon />}\n                                />\n                            </Grid>\n                            <Grid item xs={12} md={2}>\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    onClick={() => handleAnalyze()}\n                                    sx={{ minHeight: \"100%\", minWidth: \"100%\" }}\n                                >\n                                    <b>Analyze</b>\n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                    <Button onClick={() => dispatch({type: \"input\", param: \"lookupType\", payload: \"manual\"})}>New Advise</Button>\n                </>\n            </Collapse>\n\n            <Collapse in={state.lookupType === \"manual\"}>\n                <>\n                    <Typography variant={\"h6\"} mt={3}>Advise Parameters</Typography>\n                    <Paper sx={{backgroundColor: \"white\", padding: 3, marginBottom: 5}} variant=\"outlined\">\n                        <Grid container spacing={2}>\n                            <Grid item xs={12} md={6}>\n                                <SearchBar\n                                    label={\n                                        state.error?.pipfile ? state.error?.pipfile : \"Pipfile contents\"\n                                    }\n                                    onChange={e => dispatch({type: \"input\", param: \"pipfile\", payload: e.target.value})}\n                                    error={state.error?.pipfile !== undefined}\n                                    multiline\n                                    rows={8}\n                                />\n                            </Grid>\n                            <Grid item xs={12} md={6}>\n                                <SearchBar\n                                    label={\n                                        state.error?.pipfileLock\n                                            ? state.error?.pipfileLock\n                                            : \"Pipfile.lock contents\"\n                                    }\n                                    onChange={e => dispatch({type: \"input\", param: \"pipfileLock\", payload: e.target.value})}\n                                    error={state.error?.pipfileLock !== undefined}\n                                    multiline\n                                    rows={8}\n                                />\n                            </Grid>\n                        </Grid>\n                        <Grid container mt={4} spacing={2}>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <TextField onChange={e => dispatch({type: \"input\", param: \"base_image\", payload: e.target.value})} value={state.base_image} sx={{minWidth: \"100%\"}} label=\"Base Image\" required={false} helperText=\"A base container image used to run the application.\" error={state.error?.base_image} />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox setValue={e => dispatch({type: \"input\", param: \"cuda_version\", payload: e?.title ?? \"\"})} value={state.cuda_version} suggestions={[\"9.0\"]} label=\"CUDA Version\" required={false} help=\"Nvidia CUDA version which the application uses.\" error={state.error?.cuda_version}/>\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox setValue={e => dispatch({type: \"input\", param: \"cudnn_version\", payload: e?.title ?? \"\"})} value={state.cudnn_version} suggestions={[\"8\"]} label=\"cuDNN Version\" required={false} help=\"NVIDIA cuDNN version used, if any.\" error={state.error?.cudnn_version}/>\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox setValue={e => dispatch({type: \"input\", param: \"mkl_version\", payload: e?.title ?? \"\"})} value={state.mkl_version} suggestions={[\"2021.1.1\"]} label=\"MKL Version\" required={false} help=\"Intel® Math Kernel Library version used, if any.\" error={state.error?.mkl_version}/>\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox setValue={e => dispatch({type: \"input\", param: \"name\", payload: e.title ?? \"\"})} value={state.name} suggestions={[\"ubi:8-prod\"]} label=\"Name\" required={true} help=\"User defined name of the runtime environment.\" error={state.error?.name}/>\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox setValue={e => dispatch({type: \"input\", param: \"openblas_version\", payload: e?.title ?? \"\"})} value={state.openblas_version} suggestions={[\"0.3.13\"]} label=\"OpenBLAS Version\" required={false} help=\"OpenBLAS version used, if any.\" error={state.error?.openblas_version}/>\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox setValue={e => dispatch({type: \"input\", param: \"openmpi_version\", payload: e?.title ?? \"\"})} value={state.openmpi_version} suggestions={[\"4.1\"]} label=\"Open MPI Version\" required={false} help=\"Open MPI version used, if any.\" error={state.error?.openmpi_version}/>\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <TextField onChange={e => dispatch({type: \"input\", param: \"operating_system_name\", payload: e.target.value})} value={state.operating_system_name} sx={{minWidth: \"100%\"}} label=\"Operating System Name\" required={false} helperText=\"Operating system name used.\" error={state.error?.operating_system_name}/>\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <TextField onChange={e => dispatch({type: \"input\", param: \"operating_system_version\", payload: e.target.value})} value={state.operating_system_version} sx={{minWidth: \"100%\"}} label=\"Operating System Version\" required={false} helperText=\"Operating system version used.\" error={state.error?.operating_system_version}/>\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox setValue={e => dispatch({type: \"input\", param: \"platform\", payload: e?.title ?? \"\"})} value={state.platform} suggestions={[\"linux-x86_64\"]} label=\"Platform\" required={false} help=\"Platform used - corresponds to sysconfig.get_platform() call.\" error={state.error?.platform}/>\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox setValue={e => dispatch({type: \"input\", param: \"python_version\", payload: e?.title ?? \"\"})} value={state.python_version} suggestions={[\"2.7\", \"3.6\", \"3.7\", \"3.8\", \"3.9\"]} label=\"Python Version\" required={false} help=\"Python version on which the application runs on.\" error={state.error?.python_version}/>\n                            </Grid>\n                            <Grid container item xs={12} spacing={2}>\n                                <Grid item xs={6} md={6}>\n                                    <Button\n                                        variant=\"outlined\"\n                                        color=\"primary\"\n                                        onClick={() => dispatch({type: \"input\", param: \"lookupType\", payload: \"id\"})}\n\n                                        sx={{ minHeight: \"100%\", minWidth: \"100%\" }}\n                                    >\n                                        <b>Cancel</b>\n                                    </Button>\n                                </Grid>\n                                <Grid item xs={6}>\n                                    <LoadingButton\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        onClick={() => handleAnalyze()}\n                                        loading={state.loading}\n                                        sx={{ minHeight: \"100%\", minWidth: \"100%\" }}\n                                    >\n                                        <b>Analyze</b>\n                                    </LoadingButton>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Paper>\n                </>\n            </Collapse>\n        </>\n    )\n}","// react\nimport React, { useState } from \"react\";\n\n// material-ui\nimport {Typography, Grid, Divider, ToggleButtonGroup, ToggleButton, Box} from \"@material-ui/core\";\n\nimport { useTheme } from '@mui/material/styles';\nimport useMediaQuery from '@mui/material/useMediaQuery';\n\n// local\nimport TabPanel from \"components/Elements/TabPanel\";\nimport logo from \"assets/thoth-logo.png\";\n\nimport {PackageSearch, AdviseCreation} from \"../components\";\n\nexport const Home = () => {\n    // utility states\n    const [mode, setMode] = useState(\"multiple\");\n\n    const theme = useTheme();\n    const matches = useMediaQuery(theme.breakpoints.up('sm'));\n\n    // change mode view\n    const handleMode = (event, newMode) => {\n        if (newMode) {\n            setMode(newMode);\n        }\n    };\n\n\n    return (\n        <div style={{maxWidth: \"1000px\", marginLeft: \"auto\", marginRight: \"auto\"}}>\n        <Grid container justifyContent=\"center\">\n            <Grid item>\n                <Box sx={{ marginTop: 10 }}>\n                    <img alt=\"Thoth Logo\" src={logo} height={!matches ? \"auto\" : 300} width={\"100%\"} />\n                </Box>\n            </Grid>\n            <Grid container item justifyContent=\"center\" mt={5} spacing={0}>\n                <Grid container item sm={12} md={6} align=\"center\" mr={5}>\n                    <Grid item xs={12} align=\"left\" mb={3}>\n                        <Typography variant=\"h4\" >\n                            <b>Thoth Search</b>\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} align=\"left\">\n                        <Typography variant=\"subtitle1\">\n                            Thoth Search is a tool that runs analysis on a Python application.\n                            It utilizes package metadata and Thoth Adviser to analyse and\n                            recommend a software stack. You can run analysis on an entire\n                            Python application using a properly formatted Pipfile and\n                            Pipfile.lock. Alternatively, you can analyse a single Python\n                            package to see what Thoth knows about the package.\n                        </Typography>\n                    </Grid>\n                </Grid>\n\n                <Grid\n                    item\n                    container\n                    sm={12} md={5}\n                    direction=\"column\"\n                    justifyContent=\"center\"\n                    spacing={1}\n                >\n                    {[\n                        [\"One\", \"100k\"],\n                        [\"Two\", \"20%\"],\n                        [\"Three\", \"62\"],\n                        [\"Four\", \"N/A\"]\n                    ].map((stat, i) => {\n                        return (\n                            <Grid item container alignItems=\"center\" key={i}>\n                                <Grid item xs={6}>\n                                    <Typography variant=\"h6\">\n                                        <b>Thoth Statistic {stat[0]}</b>\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={6}>\n                                    <Typography variant=\"h5\" align=\"right\">\n                                        {stat[1]}\n                                    </Typography>\n                                </Grid>\n                            </Grid>\n                        );\n                    })}\n                </Grid>\n                <Grid item xs={12} align=\"center\" mt={3} mb={4}>\n                    <ToggleButtonGroup\n                        value={mode}\n                        exclusive\n                        onChange={handleMode}\n                        size={!matches ? \"small\" : \"large\"}\n                    >\n                        <ToggleButton value=\"single\">\n                            <b>single package analysis</b>\n                        </ToggleButton>\n                        <ToggleButton value=\"multiple\">\n                            <b>Python application analysis</b>\n                        </ToggleButton>\n                    </ToggleButtonGroup>\n                </Grid>\n\n                <Grid item xs={12}>\n                    <Divider sx={{marginBottom: 3}}/>\n                    <TabPanel value={mode} index=\"single\">\n                        <PackageSearch />\n                    </TabPanel>\n                    <TabPanel value={mode} index={\"multiple\"}>\n                       <AdviseCreation />\n                    </TabPanel>\n                </Grid>\n            </Grid>\n        </Grid>\n        </div>\n    );\n};","export const NotFound = () => {\n    return <div>404</div>;\n};","import {Box} from \"@material-ui/core\";\n\nexport const Footer = () => {\n    return(\n        <Box pb={3} pt={6} sx={{backgroundColor: \"#444f60\", textAlign: \"center\", color: \"white\"}}>\n            This is a footer\n        </Box>\n    )\n}","import * as React from 'react';\nimport {makeStyles} from \"@material-ui/styles\";\nimport {Footer} from \"../Footer\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        paddingRight: theme.spacing(3),\n        paddingLeft: theme.spacing(3),\n        marginTop: theme.spacing(4),\n        marginBottom: theme.spacing(15),\n        minHeight: \"100vh\",\n    },\n\n}));\n\n/**\n * Main layout adds margins and spacing to the whole app.\n */\nexport const MainLayout = ({ children }) => {\n    const classes = useStyles();\n\n    return (\n        <>\n            <div className={classes.root}>\n                {children}\n            </div>\n            <Footer />\n        </>\n\n    );\n};","import * as React from 'react';\nimport {Tab, Tabs} from \"@material-ui/core\";\nimport {Link as RouterLink, useLocation} from 'react-router-dom';\n\n/**\n * A layout used for the advise feature tabs. It formats the tabs as router links.\n */\nexport const AdviseLayout = ({ children, header }) => {\n    const location = useLocation();\n\n    return (\n        <>\n            <div>\n                {header}\n                <Tabs\n                    value={location.pathname.split(\"/\").at(-1)}\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                >\n                    <Tab\n                        label=\"Summary\"\n                        value={\"summary\"}\n                        component={RouterLink}\n                        to=\"summary\">\n                    </Tab>\n                    <Tab\n                        label=\"Advise Results\"\n                        value={\"details\"}\n                        component={RouterLink}\n                        to=\"details\">\n                    </Tab>\n                </Tabs>\n            </div>\n            <div>\n                {children}\n            </div>\n        </>\n    );\n};","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Card, CardContent, CardHeader, Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n    height: \"100%\"\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\"\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\n\n/** Card template for metric cards. */\nconst InfoCard = ({ cardMeta, cardBody, cardAction }) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root}>\n      <CardHeader\n        action={cardAction}\n        title={<Typography variant=\"h5\">{cardMeta.title}</Typography>}\n        subheader={cardMeta.subTitle}\n      />\n      <CardContent>{cardBody}</CardContent>\n    </Card>\n  );\n};\n\nInfoCard.propTypes = {\n  /** card header info */\n  cardMeta: PropTypes.shape({\n    /** card title */\n    title: PropTypes.string.isRequired,\n    /** optional subtitle */\n    subTitle: PropTypes.string,\n  }),\n  /** optional card action component (usually some button) */\n  cardAction: PropTypes.element,\n  /** Card body content */\n  cardBody: PropTypes.element\n};\n\nexport default InfoCard;\n","// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// react\nimport PropTypes from \"prop-types\";\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\"\n  }\n}));\n\n/**\n * Text with an icon to the right of it.\n */\nconst IconText = ({ text, icon, link, ...props }) => {\n  const classes = useStyles();\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      {icon}\n      <Typography href={link ? link : null} variant=\"body2\" marginLeft>\n        {text}\n      </Typography>\n    </div>\n  );\n};\n\nexport default IconText;\n\nIconText.propTypes = {\n  /** The text shown */\n  text: PropTypes.string.isRequired,\n  /** The icon component to be displayed */\n  icon: PropTypes.element.isRequired,\n  /** Optional link if text is selected */\n  link: PropTypes.string\n};\n","export function formatLockfile(lockfile) {\n    return Object.entries(lockfile.default).map(([key, value]) => {\n        return ({\n            name: key,\n            version: value.version.replace(\"==\", \"\")\n        })\n    })\n}","export default function timeSince(date) {\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = seconds / 31536000;\n\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" year\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 2592000;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" month\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 86400;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" day\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 3600;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" hour\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 60;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" minute\" + (num !== 1 ? \"s\" : \"\");\n  }\n  const num = Math.floor(seconds);\n  return num + \" second\" + (num !== 1 ? \"s\" : \"\");\n}\n","import timeSince from \"utils/timeSince\";\n\n/**\n * Given either a date and time, calculated time since that date.\n * This is used to calculate how long ago an Advisor document was generated or has been generating.\n * It is specific to the document formatting\n *\n * @param {string} finished_at - for when the advise document is completed\n * @param {string} started_at - the time at which the document was started (is preceded by finished at)\n * @param {string} datetime - fallback to datetime\n * @returns {string} - English version of date\n */\nexport const calcTime = (finished_at, started_at, datetime) => {\n    // if status says finished\n    if (finished_at) {\n        return \"Advise finished \" + timeSince(new Date(finished_at)) + \" ago.\";\n    }\n    // if status is pending\n    else if (started_at) {\n        return \"Advise started \" + timeSince(new Date(started_at)) + \" ago.\";\n    }\n    // if status is nulled so use metadata end date\n    else if (datetime) {\n        return \"Advise finished \" + timeSince(new Date(datetime + \"Z\")) + \" ago.\";\n    } else {\n        return \"Time started/finished not available\";\n    }\n};\n","const whyRemoved = (start, packages) => {\n    const visited = new Map();\n    const visitList = [];\n\n    visitList.push(start);\n\n    const reasonNodes = [];\n\n    while (visitList.length !== 0) {\n        const node = visitList.pop();\n        if (node && !visited.has(node)) {\n            visited.set(node);\n\n            if (node.key === \"*App\") {\n                continue;\n            } else if (node.value.change === \"version\") {\n                reasonNodes.push(node);\n            } else {\n                node.parents.forEach(adj => {\n                    if (adj === \"*App\" && node.key !== start.key) {\n                        reasonNodes.push(node);\n                    }\n                    visitList.push(packages.get(adj));\n                });\n            }\n        }\n    }\n\n    return reasonNodes.map(node => {\n        const reason =\n            node.value.change === \"version\"\n                ? \" had its version changed to \" +\n                node.value.version +\n                \" from \" +\n                node.value.oldVersion +\n                \". Version \" +\n                node.value.oldVersion +\n                \" of \" +\n                node.key +\n                \" included package \" +\n                start.value.label +\n                \" as a dependency, where version \" +\n                node.value.version +\n                \" does not. \"\n                : \" did not have any dependents and was removed by the Thoth resolver.\";\n        return {\n            package: node.key,\n            reason: reason\n        };\n    });\n};\n\nexport const discoverPackageChanges = (nodes, justifications) => {\n    if (!nodes || !justifications) {\n        return;\n    }\n\n    const justifiedPackages = new Map();\n    justifications.forEach(justification => {\n        if (justification.package_name) {\n            if (justifiedPackages.has(justification.package_name)) {\n                justifiedPackages.set(justification.package_name, [\n                    ...justifiedPackages.get(justification.package_name),\n                    justification\n                ]);\n            } else {\n                justifiedPackages.set(justification.package_name, [justification]);\n            }\n        }\n    });\n\n    nodes.forEach(node => {\n        let justification = {\n            package: node.key\n        };\n\n        if (node.value.change === \"removed\") {\n            // set header\n            justification.header = `${node.value.label} was ${\n                node.value.depth === 0 ? \"directly\" : \"indirectly\"\n            } removed by Thoth resolver.`;\n\n            // set reasons for removal\n            justification.reasons = whyRemoved(node, nodes);\n\n            // if no reasons for removal\n            if (justification.reasons.length === 0) {\n                justification.header = `${node.value.label} was removed for an unknown reason. The package does not have dependents in the Pipfile.lock.`;\n            }\n        }\n        // if added\n        else if (node.value.change === \"added\") {\n            justification.header = `${node.value.label} was added to the Pipfile.lock by Thoth resolver.`;\n        }\n\n        // if added\n        else if (node.value.change === \"version\") {\n            justification.header = `${node.key} had its version changed from ${node.value.oldVersion} to ${node.value.version}.`;\n        }\n\n        // if unchanged\n        else {\n            justification.header =\n                \"Thoth resolver did not remove or change package \" +\n                node.value.label +\n                \".\";\n        }\n\n        // check if there is a justification for change\n        if (justifiedPackages.has(node.key)) {\n            const reasons = justifiedPackages.get(node.key);\n            justification = {\n                ...justification,\n                thoth: reasons\n            };\n        }\n\n        node.value.justifications = justification;\n    }, []);\n};\n","import { Button, Alert } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\n/**\n * A custom alert card.\n */\nconst CustomAlert = ({ info, ...props }) => {\n  return (\n    <Alert\n      className={props?.className}\n      action={\n        <Button color=\"inherit\" size=\"small\" href={info?.link}>\n          DETAILS\n        </Button>\n      }\n      severity={info.type.toLowerCase()}\n    >\n      {info?.message}\n    </Alert>\n  );\n};\n\nCustomAlert.propTypes = {\n    /** The alert content. */\n    info: PropTypes.shape({\n        /** Link to navigate to if alert is actioned on. */\n        link: PropTypes.string.isRequired,\n        /** Text displayed in the alert. */\n        message: PropTypes.string.isRequired,\n        /** Severity (color) of alert: `[\"ERROR\", \"WARNING\", \"INFO\", \"SUCCESS\"]`. */\n        type: PropTypes.oneOf([\"ERROR\", \"WARNING\", \"INFO\", \"SUCCESS\"]).isRequired\n    }).isRequired,\n    /** The `material-ui` styling classname */\n    classname: PropTypes.string\n}\n\nexport default CustomAlert;\n","// React\nimport React, { useMemo } from \"react\";\n\n// material-ui\nimport {Typography, Chip, Button, Collapse} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport AccessTimeIcon from \"@material-ui/icons/AccessTime\";\n// local\nimport IconText from \"components/Elements/IconText\";\n\n// utils\nimport { calcTime } from \"../../utils\";\n\n// local\nimport CustomAlert from \"./CustomAlert\";\nimport PropTypes from \"prop-types\";\n\n// component styling\n\nconst useStyles = makeStyles(theme => ({\n  titleRow: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(1)\n  },\n  marginLeft: {\n    marginLeft: theme.spacing(2)\n  },\n  marginRight: {\n    marginRight: theme.spacing(2)\n  },\n  linksRow: {\n    display: \"flex\",\n    marginBottom: theme.spacing(3),\n    alignItems: \"center\"\n  },\n  alert: {\n    width: \"100%\",\n    marginTop: theme.spacing(1)\n  }\n}));\n\n/**\n * Displays basic Advise document information and\n * displays any errors, info, or warnings that came up\n * in the document generation.\n */\nexport const AdviseHeader = ({ adviseDocument }) => {\n  const classes = useStyles();\n  const [expandAlerts, setExpandAlerts] = React.useState(false);\n\n  // get status of the report\n  const [statusText, statusColor] = useMemo(() => {\n    // if report is done\n    if (adviseDocument?.report) {\n      if (adviseDocument.report.ERROR) {\n        return [\"ERROR\", \"error\"];\n      } else {\n        return [\"COMPLETE\", \"success\"];\n      }\n    }\n    // if report is not done\n    else if (adviseDocument?.status?.state) {\n      return [adviseDocument.status.state.toUpperCase(), \"info\"];\n    } else {\n      return [\"UNKNOWN\", undefined];\n    }\n  }, [adviseDocument]);\n\n  // get alerts from report\n  const alerts = useMemo(() => {\n        if (adviseDocument?.report) {\n          return adviseDocument?.report?.stack_info\n              ? adviseDocument.report.stack_info.filter(alert => {\n                return alert.type === \"ERROR\";\n              })\n              : null\n        }\n      }, [adviseDocument]\n  );\n\n\n  return (\n    <div>\n      <Typography variant=\"h4\">\n        <b>{adviseDocument?.metadata?.document_id ?? adviseDocument?.parameters?.analysis_id}</b>\n      </Typography>\n      <div className={classes.linksRow}>\n        <Chip label={statusText} color={statusColor} />\n        <IconText\n          className={classes.marginLeft}\n          text={calcTime(\n            adviseDocument?.status?.finished_at,\n            adviseDocument?.status?.started_at,\n            adviseDocument?.metadata?.datetime\n          )}\n          icon={<AccessTimeIcon />}\n        />\n      </div>\n      <Typography variant={\"subtitle2\"}>{adviseDocument?.error}</Typography>\n      {alerts?.length > 0 ? (\n        <div>\n          <CustomAlert info={alerts[0]} />\n          <Collapse in={expandAlerts} timeout=\"auto\" unmountOnExit>\n            {alerts?.slice(1).map((info, i) => {\n              return <CustomAlert key={i} info={info} className={classes.alert} />;\n            })}\n          </Collapse>\n\n          <Button\n            color=\"inherit\"\n            size=\"small\"\n            onClick={() => setExpandAlerts(!expandAlerts)}\n          >\n            {alerts?.length > 1 ? (expandAlerts ? \"LESS\" : \"MORE\") : null}\n          </Button>\n        </div>\n      ) : null}\n\n      {statusText === \"COMPLETE\" ? (\n        <Typography variant=\"body1\" sx={{ color: \"text.secondary\" }}>\n          Thoth has added and removed packages from the original Pipfile.lock,\n          resulting in a <i>new</i> Pipfile.lock. Switch between the new and old\n          Python environments to see the differences.\n        </Typography>\n      ) : null}\n    </div>\n  );\n};\n\nAdviseHeader.propTypes = {\n  /** the Advise document id*/\n  adviseDocument: PropTypes.object.isRequired\n}","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { withStyles, makeStyles } from \"@material-ui/styles\";\nimport { LinearProgress, Typography, Grid } from \"@material-ui/core\";\n\nconst CustomLinearProgress = withStyles(theme => ({\n  root: {\n    height: 10,\n    borderRadius: 5\n  },\n  colorPrimary: {\n    backgroundColor:\n      theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700]\n  },\n  bar: {\n    borderRadius: 5,\n    backgroundColor: \"#1a90ff\"\n  }\n}))(LinearProgress);\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(6,1fr)\",\n    alignItems: \"center\",\n    gridGap: theme.spacing(1)\n  },\n  label: {\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\"\n  },\n  value: {\n    textAlign: \"end\"\n  }\n}));\n\n/**\n * A horizontal bar for showing a percent of a total.\n */\nconst ProgressBar = ({ value, total, label, action }) => {\n  const classes = useStyles();\n  return (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={5}>\n        <Typography variant=\"body2\" className={classes.label}>\n          {label}\n        </Typography>\n      </Grid>\n      <Grid item xs={1.75}>\n        <Typography className={classes.value} variant=\"body2\">\n          {value}\n        </Typography>\n      </Grid>\n      <Grid item xs>\n        <CustomLinearProgress\n          variant=\"determinate\"\n          value={total > 0 ? (value / total) * 100 : 0}\n        />\n      </Grid>\n      <Grid item xs={1}>\n        <div>{action ?? null}</div>\n      </Grid>\n    </Grid>\n  );\n};\n\nProgressBar.propTypes = {\n  /** the amount (numerator) for the bar */\n  value: PropTypes.number.isRequired,\n  /** the total (denominator) for the bar */\n  total: PropTypes.number.isRequired,\n  /** optional label */\n  label: PropTypes.string\n};\n\nexport default ProgressBar;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport {Typography, Divider, Skeleton, Box} from \"@material-ui/core\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\n\n/**\n * A metric card that aggregates changes between the initial dependency\n * graph and the Thoth made dependency graph.\n */\nexport const AdviseMetric = ({ metric }) => {\n  const total = metric?.added + metric?.removed + metric?.version + metric?.unchanged;\n\n  if(!metric) {\n      return (\n          <Box>\n              <Skeleton />\n              <Skeleton />\n              <Skeleton width={\"60%\"}/>\n          </Box>\n      )\n  }\n\n  return (\n    <>\n      <Typography variant=\"body2\" gutterBottom>\n        {metric?.build}\n      </Typography>\n      <Typography variant=\"h6\" gutterBottom mt={2}>\n        What Thoth Changed\n      </Typography>\n      <Divider mb={1} />\n      <ProgressBar\n        value={metric?.added ?? 0}\n        total={total}\n        label={\"Added Packages\"}\n        mb={1}\n      />\n      <ProgressBar\n        value={metric?.removed ?? 0}\n        total={total}\n        label={\"Removed Packages\"}\n        mb={1}\n      />\n      <ProgressBar\n        value={metric?.version ?? 0}\n        total={total}\n        label={\"Version Changes\"}\n      />\n      <Typography variant=\"h6\" mt={3} gutterBottom>\n        Noteworthy Justifications\n      </Typography>\n      <Divider mb={1} />\n      {Object.entries(metric?.justification ?? {}).map(([key, value]) => {\n        return (\n          <Typography variant=\"body2\" gutterBottom key={key}>\n            {key}: {value}\n          </Typography>\n        );\n      })}\n    </>\n  );\n};\n\nAdviseMetric.propTypes = {\n    /** The metric object info of aggregated data */\n    metric: PropTypes.shape({\n        /** The number of new dependencies */\n        added: PropTypes.number,\n        /** The number of removed dependencies */\n        removed: PropTypes.number,\n        /** The number of dependencies whose version was changed*/\n        version: PropTypes.number,\n        /** The number of dependencies that did not change*/\n        unchanged: PropTypes.number,\n        /** The number Thoth justification (warnings) that were produced */\n        justification: PropTypes.object,\n    })\n };","import { ToggleButtonGroup, ToggleButton } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\n/**\n * A button group for toggling between old and new dependency graphs.\n * It takes two parameters, a callback function and a state variable.\n */\nexport const CustomCardAction = ({ value, onChange }) => {\n  return (\n    <ToggleButtonGroup value={value} exclusive size=\"small\" onChange={onChange}>\n      <ToggleButton value=\"oldGraph\">Old</ToggleButton>\n      <ToggleButton value=\"newGraph\">New</ToggleButton>\n    </ToggleButtonGroup>\n  );\n};\n\nCustomCardAction.propTypes = {\n    /** The state variable the buttons use to control the active value */\n    value: PropTypes.string.isRequired,\n    /** The callback function that runs when a button is changed */\n    onChange: PropTypes.func.isRequired\n}","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\n\n\n// material-ui\nimport { TransitionGroup } from \"react-transition-group\";\n\nimport {\n    Typography,\n    Divider,\n    List,\n    ListItem,\n    ListItemText,\n    Grid,\n    Collapse, Box, Skeleton\n} from \"@material-ui/core\";\n\n/**\n * A metric card that displays direct, indirect, and root packages of a dependency graph.\n */\nexport const DependenciesMetric = ({ all, roots }) => {\n  const totalDependencies =\n    (all?.direct ?? 0) +\n    (all?.indirect ?? 0) +\n    (all?.roots ?? 0);\n\n  if(!all || !roots) {\n      return (\n          <Box>\n              <Skeleton />\n              <Skeleton />\n              <Skeleton width={\"60%\"}/>\n          </Box>\n      )\n  }\n\n  return (\n    <>\n      <Typography variant=\"h6\" gutterBottom>\n        All Packages\n      </Typography>\n      <Divider mb={1} />\n      <ProgressBar\n        value={all?.roots ?? 0}\n        total={totalDependencies}\n        label={\"Root\"}\n        mb={1}\n      />\n      <ProgressBar\n        value={all?.direct ?? 0}\n        total={totalDependencies}\n        label={\"Direct\"}\n        mb={1}\n      />\n      <ProgressBar\n        value={all?.indirect ?? 0}\n        total={totalDependencies}\n        label={\"Indirect\"}\n      />\n      <Typography variant=\"h6\" gutterBottom mt={2}>\n        Root Packages\n      </Typography>\n      <Divider mb={1} />\n      <List component=\"nav\">\n        <TransitionGroup>\n          {Object.entries(roots ?? {})?.map(([key, value], i) => {\n            const t =\n              (roots[key].direct ?? 0) +\n              (roots[key].indirect ?? 0);\n            return (\n              <Collapse key={key}>\n                <div>\n                  <ListItem>\n                    <Grid container alignItems=\"center\">\n                      <Grid item xs>\n                        <ListItemText primary={key} />\n                      </Grid>\n                      <Grid item xs>\n                        <Grid container direction=\"column\">\n                          <Grid item xs>\n                            <ProgressBar\n                              value={roots?.[key]?.direct ?? 0}\n                              total={t}\n                              label={\"Direct\"}\n                            />\n                          </Grid>\n                          <Grid item xs>\n                            <ProgressBar\n                              value={roots?.[key]?.indirect ?? 0}\n                              total={t}\n                              label={\"Indirect\"}\n                            />\n                          </Grid>\n                        </Grid>\n                      </Grid>\n                    </Grid>\n                  </ListItem>\n                  <Divider variant={\"middle\"} mb={1} />\n                </div>\n              </Collapse>\n            );\n          })}\n        </TransitionGroup>\n      </List>\n    </>\n  );\n};\n\nDependenciesMetric.propTypes = {\n    /** summary object of all roots aggregated */\n    all: PropTypes.shape({\n        /** number of dependencies directly related to root packages */\n        direct: PropTypes.number,\n        /** number of dependencies directly or indirectly related to the direct packages*/\n        indirect: PropTypes.number,\n        /** number of dependencies that have no dependents*/\n        roots: PropTypes.number\n    }),\n    /** an object of key (package name) value pairs of specific roots with direct and indirect parameters for each value */\n    roots: PropTypes.objectOf(PropTypes.shape({\n        /** roots own direct packages */\n        direct: PropTypes.number,\n        /** roots own indirect packages */\n        indirect: PropTypes.number\n    }))\n};","import React from \"react\";\n\n// material-ui\nimport { Divider, Collapse, Chip, Grid, Box } from \"@material-ui/core\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport CheckRoundedIcon from \"@material-ui/icons/CheckRounded\";\nimport HelpOutlineRoundedIcon from \"@material-ui/icons/HelpOutlineRounded\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\nimport PropTypes from \"prop-types\";\n\n/**\n * A custom list item displaying the number of packages under a particular license.\n */\nconst LicenseGroup = ({ name, metadata, packages, totalLicenses }) => {\n  const [open, setOpen] = React.useState(false);\n\n  return (\n    <Grid container>\n      <Grid item xs={1}>\n        {metadata?.isOsiApproved === null ? (\n          <HelpOutlineRoundedIcon />\n        ) : metadata?.isOsiApproved ? (\n          <CheckRoundedIcon />\n        ) : null}\n      </Grid>\n      <Grid item xs>\n        <Box onClick={() => setOpen(!open)}>\n          <ProgressBar\n            key={name}\n            value={Object.keys(packages).length ?? 0}\n            total={totalLicenses}\n            label={name}\n            action={open ? <ExpandLess /> : <ExpandMore />}\n          />\n        </Box>\n        <Collapse in={open} timeout=\"auto\" unmountOnExit>\n          <Box my={1}>\n            {Object.entries(packages)\n              .sort((a, b) => {\n                return a[1] - b[1];\n              })\n              .map(([k, v]) => {\n                return (\n                  <Chip\n                    key={k}\n                    sx={{ margin: 0.5 }}\n                    color={\n                      v.depth === 0\n                        ? \"primary\"\n                        : v.depth === 1\n                        ? \"secondary\"\n                        : \"default\"\n                    }\n                    label={k}\n                  />\n                );\n              })}\n          </Box>\n          <Divider />\n        </Collapse>\n      </Grid>\n    </Grid>\n  );\n};\n\nLicenseGroup.propTypes ={\n    /** The license name */\n    name: PropTypes.string.isRequired,\n    /** License specific infomration */\n    metadata: PropTypes.shape({\n        /** If license is approved by OSI standards */\n        isOsiApproved: PropTypes.bool\n    }),\n    /** The packages that use this license as an object */\n    packages: PropTypes.objectOf(PropTypes.shape({\n        depth: PropTypes.number.isRequired\n    })).isRequired,\n    /** The total number of packages that have licenses. (used to add a total to the metric bar) */\n    totalLicenses: PropTypes.number.isRequired\n\n\n}\n\nexport default LicenseGroup;\n","// react\nimport React, { useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport {\n    Typography,\n    Divider,\n    Collapse,\n    Button,\n    Box,\n    Grid, Skeleton\n} from \"@material-ui/core\";\nimport { TransitionGroup } from \"react-transition-group\";\n\n// local\nimport LicenseGroup from \"./LicenseGroup\";\n\n/**\n * A metric card that visualizes license data for all packages in the graph.\n */\nexport const LicenseMetric = ({ metric }) => {\n  const [more, setMore] = React.useState(false);\n\n  const licenses = useMemo(\n    () =>\n      Object.entries(metric ?? {}).sort((a, b) => {\n        return Object.keys(b[1]).length - Object.keys(a[1]).length;\n      }),\n    [metric]\n  );\n\n  const totalLicenses = useMemo(\n    () =>\n      Object.entries(metric ?? {}).reduce((sum, [key, val]) => {\n        return sum + Object.keys(val.packages).length;\n      }, 0),\n    [metric]\n  );\n\n    if(!metric) {\n        return (\n            <Box>\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"}/>\n            </Box>\n        )\n    }\n\n  return (\n    <div>\n      <Grid container>\n        <Grid item xs={1}>\n          <Typography variant=\"h6\" gutterBottom>\n            OSI\n          </Typography>\n        </Grid>\n        <Grid item xs>\n          <Typography variant=\"h6\" gutterBottom>\n            Dependency Licenses\n          </Typography>\n        </Grid>\n      </Grid>\n\n      <Divider />\n        <TransitionGroup>\n          {licenses?.slice(0, 10).map(([key, value]) => {\n            return (\n              <Collapse key={key}>\n                <LicenseGroup\n                  name={key}\n                  metadata={value.metadata}\n                  packages={value.packages}\n                  totalLicenses={totalLicenses}\n                />\n              </Collapse>\n            );\n          })}\n        </TransitionGroup>\n\n        <Collapse in={more} timeout=\"auto\" unmountOnExit>\n          <TransitionGroup>\n            {licenses.slice(10).map(([key, value]) => {\n              return (\n                <Collapse key={key}>\n                  <LicenseGroup\n                    name={key}\n                    metadata={value.metadata}\n                    packages={value.packages}\n                    totalLicenses={totalLicenses}\n                  />\n                </Collapse>\n              );\n            })}\n          </TransitionGroup>\n        </Collapse>\n        <Box textAlign=\"center\">\n          <Button onClick={() => setMore(!more)} color=\"primary\">\n            {more ? \"Less\" : \"More\"}\n          </Button>\n        </Box>\n    </div>\n  );\n};\n\nLicenseMetric.propTypes = {\n    /** Key value pairs of license names (keys) and license information (values).*/\n    metric: PropTypes.objectOf(PropTypes.shape({\n        metadata: PropTypes.object,\n        packages: PropTypes.object.isRequired\n    }))\n};\n","function descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nexport function getComparator(order, orderBy) {\n  return order === \"desc\"\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nexport function stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(el => el[0]);\n}\n","import {\n  TableHead,\n  TableRow,\n  TableSortLabel,\n  Box,\n  TableCell\n} from \"@material-ui/core\";\n\nimport { visuallyHidden } from \"@material-ui/utils\";\n\nimport PropTypes from \"prop-types\";\n\nconst headCells = [\n  {\n    id: \"name\",\n    numeric: false,\n    label: \"Package\"\n  },\n  {\n    id: \"depth\",\n    numeric: true,\n    label: \"Depth\"\n  },\n  {\n    id: \"license\",\n    numeric: false,\n    label: \"License\"\n  },\n  {\n    id: \"dependencies\",\n    numeric: true,\n    label: \"Direct Dependencies\"\n  }\n];\n\n/**\n * A specific custom table header for packages.\n * It handles sorting individual columns.\n */\nfunction EnhancedTableHead({ order, orderBy, onRequestSort }) {\n  const createSortHandler = property => event => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        {headCells.map(headCell => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? \"right\" : \"left\"}\n            padding=\"normal\"\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : \"asc\"}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <Box component=\"span\" sx={visuallyHidden}>\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\n                </Box>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  /** the function used to sort an individual column */\n  onRequestSort: PropTypes.func.isRequired,\n  /** the order in which the column is sorted on*/\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\n  /** The column in which to order the table by */\n  orderBy: PropTypes.string.isRequired\n};\n\nexport default EnhancedTableHead;\n","/**\n * Graph node/vertex that hold adjacencies nodes\n * For performance, uses a HashSet instead of array for adjacents.\n */\nexport class Node {\n  constructor(key, value) {\n    this.adjacents = new Set(); // adjacency list\n    this.key = key; // key\n    this.value = value;\n  }\n\n  /**\n   * Add node to adjacency list\n   * Runtime: O(1)\n   * @param {Node} node\n   */\n  addAdjacent(node) {\n    this.adjacents.add(node);\n  }\n\n  /**\n   * Check if a Node is adjacent to other\n   * Runtime: O(1)\n   * @param {Node} node\n   */\n  isAdjacent(node) {\n    return this.adjacents.has(node);\n  }\n\n  /**\n   * Get all adjacent nodes\n   */\n  getAdjacents() {\n    return Array.from(this.adjacents);\n  }\n}\n","import { Node } from \"utils/Node\";\n\n/**\n * Graph data structure implemented with an adjacent list\n */\nexport class Graph {\n  constructor() {\n    this.nodes = new Map();\n  }\n\n  /**\n   * Add a node to the graph.\n   */\n  addVertex(key, value) {\n    if (this.nodes.has(key)) {\n      return this.nodes.get(key);\n    }\n\n    const vertex = new Node(key, value);\n    this.nodes.set(key, vertex);\n    return vertex;\n  }\n\n  /**\n   * Create a connection between the source node and the destination node.\n   * If the nodes don't exist, then it will make them on the fly.\n   */\n  addEdge(source, destination) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n\n    sourceNode.addAdjacent(destinationNode);\n\n    return [sourceNode, destinationNode];\n  }\n\n  /**\n   * True if two nodes are adjacent.\n   */\n  areAdjacents(source, destination) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n\n    if (sourceNode && destinationNode) {\n      return sourceNode.isAdjacent(destinationNode);\n    }\n\n    return false;\n  }\n\n  /**\n   * Generic graph search where we can pass a bfs or dfs\n   */\n  *graphSearch(first, type = \"bfs\") {\n    const visited = new Map();\n    const visitList = [];\n\n    visitList.push(first);\n\n    while (visitList.length !== 0) {\n      const node = type === \"dfs\" ? visitList.pop() : visitList.shift();\n      if (node && !visited.has(node)) {\n        yield node;\n        visited.set(node);\n        node.getAdjacents().forEach(adj => visitList.push(adj));\n      }\n    }\n  }\n\n  /**\n   * Find a path between source and destination\n   * It might not be the optimal path\n   */\n  findPath(source, destination, path = new Map()) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n    const newPath = new Map(path);\n\n    if (!destinationNode || !sourceNode) return [];\n\n    newPath.set(sourceNode);\n\n    if (source === destination) {\n      return Array.from(newPath.keys());\n    }\n\n    // eslint-disable-next-line no-restricted-syntax\n    for (const node of sourceNode.getAdjacents()) {\n      if (!newPath.has(node)) {\n        const nextPath = this.findPath(node.value, destination, newPath);\n        if (nextPath.length) {\n          return nextPath;\n        }\n      }\n    }\n\n    return [];\n  }\n\n  findAllNodesOnAllPaths(source, destination, visited = new Map()) {\n    const visitList = [];\n\n    visitList.push(source);\n\n    while (visitList.length !== 0) {\n      const node = visitList.pop();\n      if (node.key === destination) {\n        continue;\n      }\n      if (node && !visited.has(node.key)) {\n        visited.set(node.key, node);\n        node.parents.forEach(parent => visitList.push(this.nodes.get(parent)));\n      }\n    }\n\n    return visited;\n  }\n\n  /**\n   * Find all paths from source to destination\n   */\n  findAllPaths(source, destination, path = new Map()) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n    const newPath = new Map(path);\n\n    if (!destinationNode || !sourceNode) return [];\n\n    newPath.set(sourceNode);\n\n    if (source === destination) {\n      return [Array.from(newPath.keys())];\n    }\n\n    const paths = [];\n    sourceNode.getAdjacents().forEach(node => {\n      if (!newPath.has(node)) {\n        const nextPaths = this.findAllPaths(\n          node.value.id,\n          destination,\n          newPath\n        );\n        nextPaths.forEach(nextPath => {\n          paths.push(nextPath);\n        });\n      }\n    });\n    return paths;\n  }\n}\n","// react\nimport React from \"react\";\n\nimport { Typography, Grid } from \"@material-ui/core\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\n\n// local\nimport IconText from \"components/Elements/IconText\";\nimport PropTypes from \"prop-types\";\n\nimport {Node} from \"utils/Node\";\n\n/**\n * Graph hover model appears when you hover over a node on the graph.\n */\nconst Popup = ({ node }) => {\n  return (\n    <div>\n      <Grid container alignItems=\"center\">\n        <Grid item sx={6}>\n          <Typography variant=\"h6\">\n            <b>{node.value.id}</b>\n          </Typography>\n        </Grid>\n        <Grid item sx={6}>\n          <Typography ml={2} variant=\"body1\">\n            v{node.value.version ?? \"NaN\"}\n          </Typography>\n        </Grid>\n      </Grid>\n      <Typography gutterBottom variant=\"body2\">\n        {node.value?.metadata?.summary ?? \"NaN\"}\n      </Typography>\n      <Grid container spacing={2}>\n        <Grid item>\n          <IconText\n            text={node.value?.metadata?.license ?? \"NaN\"}\n            icon={<GavelIcon />}\n          />\n        </Grid>\n        <Grid item>\n          <IconText\n            ml={2}\n            text={\n              node.value?.latestVersion\n                ? \"Latest version is installed\"\n                : \"Installed version is NOT the latest.\"\n            }\n            icon={<BookmarkIcon />}\n          />\n        </Grid>\n      </Grid>\n      <Typography variant=\"body2\" mt={2}>\n        {node.value?.justifications?.header}\n      </Typography>\n    </div>\n  );\n};\n\nPopup.propTypes = {\n    /** The graph node to display */\n    node: PropTypes.objectOf(Node).isRequired\n}\n\nexport default Popup;\n","// react\nimport React, { useEffect, useRef, useContext } from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// utils and configs\nimport { options } from \"config\";\n\n// vis-network\nimport { Network, DataSet } from \"vis-network/standalone\";\n\n// material ui\nimport { makeStyles } from \"@material-ui/styles\";\n\n// local\nimport Popup from \"../Popup\";\nimport {SelectedPackageContext} from \"../../../routes/AdviseDetails\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\"\n  },\n  canvas: {\n    flex: \"1 1 auto\",\n    height: \"50vh\"\n  }\n}));\n\n/**\n * Renders a network graph visualization using `vis-network`.\n */\nconst NetworkGraph = ({ mergedGraph, ...props }) => {\n  const classes = useStyles();\n  const visJsRef = useRef(null);\n  const {selected} = useContext(SelectedPackageContext)\n\n\n  // create the graph\n  useEffect(() => {\n    if (!selected || mergedGraph) {\n      return;\n    }\n\n    let nodes = mergedGraph.findAllNodesOnAllPaths(selected, \"*App\");\n\n    nodes.set(\"*App\");\n\n    // convert to vis graph format\n    const convertedNodes = new DataSet();\n    nodes.forEach(value => {\n      // popup element\n      var popup = document.createElement(\"div\");\n      ReactDOM.render(<Popup node={value} />, popup);\n\n      // default colors\n      let color = value.value.color ?? options.nodes.color;\n      let font = undefined;\n\n      // if node is root\n      if (value.key === \"*App\") {\n        color = \"#4fc1ea\";\n        font = { color: \"#4fc1ea\", strokeWidth: 3, size: 20 };\n      }\n      // if selected node\n      else if (value.key === selected.key) {\n        color = \"#f39200\";\n      }\n\n      convertedNodes.add({\n        ...value.value,\n        color: color,\n        title:\n          value.key === selected.key || value.key === \"*App\" ? undefined : popup,\n        font: font\n      });\n    });\n    const visData = {\n      nodes: convertedNodes,\n      edges: new DataSet(mergedGraph.visEdges)\n    };\n\n    const network =\n      visJsRef.current && new Network(visJsRef.current, visData, options);\n\n    // change curser when hovering and grabbing\n    // Get the canvas HTML element\n    var networkCanvas = document\n      .getElementById(\"mynetwork\")\n      .getElementsByTagName(\"canvas\")[0];\n\n    // changes the curser graphic depedning on where and what the mouse is doing\n    function changeCursor(newCursorStyle) {\n      networkCanvas.style.cursor = newCursorStyle;\n    }\n    network.on(\"hoverNode\", function() {\n      changeCursor(\"grab\");\n    });\n    network.on(\"blurNode\", function() {\n      changeCursor(\"default\");\n    });\n    network.on(\"dragStart\", function() {\n      changeCursor(\"grabbing\");\n    });\n    network.on(\"dragging\", function() {\n      changeCursor(\"grabbing\");\n    });\n    network.on(\"dragEnd\", function() {\n      changeCursor(\"grab\");\n    });\n\n    // fix (stick in place) node when done dragging\n    network.on(\"dragEnd\", function(params) {\n      if (params.nodes.length !== 0 && !network.isCluster(params.nodes[0])) {\n        network.editNode(params.nodes[0]);\n      }\n    });\n\n    // hover over node\n    network.on(\"dragEnd\", function(params) {\n      if (params.nodes.length !== 0 && !network.isCluster(params.nodes[0])) {\n        network.editNode(params.nodes[0]);\n      }\n    });\n  }, [selected, mergedGraph]);\n\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      <div ref={visJsRef} id=\"mynetwork\" className={classes.canvas} />\n    </div>\n  );\n};\n\nNetworkGraph.propTypes = {\n}\n\nexport default NetworkGraph;\n","// React\nimport React, { useContext } from \"react\";\n\n// material-ui\nimport { Typography, Grid, Box, Paper, Link, Button } from \"@material-ui/core\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\n\n// local\nimport IconText from \"components/Elements/IconText\";\nimport NetworkGraphView from \"../NetworkGraphView\";\n\n// redux\nimport {SelectedPackageContext} from \"../../../routes/AdviseDetails\";\n\n/**\n * Renders the selected package context variable's data. It will preform\n * a search of the list of packages using the selected package variable.\n */\nexport const SelectedPackage = ({mergedGraph}) => {\n  const {selected, setSelected} = useContext(SelectedPackageContext)\n\n  const selectedPackage = mergedGraph.nodes.get(selected);\n\n  const dependents = { removed: [], added: [], version: [], unchanged: [] };\n  [...selectedPackage?.parents]\n    .filter(p => p !== \"*App\")\n    .forEach(node => {\n      dependents[mergedGraph.nodes.get(node).value.change].push(node);\n    });\n\n  return (\n    <Box>\n      <Paper sx={{ padding: 2 }}>\n        <Grid container alignItems=\"center\" mb={1}>\n          <Grid item sx={6}>\n            <Typography variant=\"h3\">\n              <b>{selectedPackage?.value?.metadata?.name}</b>\n            </Typography>\n          </Grid>\n          <Grid item sx={6}>\n            <Typography ml={2} variant=\"h6\">\n              v{selectedPackage?.value?.metadata?.version ?? \"NaN\"}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <Typography gutterBottom variant=\"body1\">\n          {selectedPackage?.value?.metadata?.summary ?? \"NaN\"}\n        </Typography>\n        <Grid container spacing={2}>\n          <Grid item>\n            <IconText\n              text={selectedPackage?.value?.metadata?.license ?? \"NaN\"}\n              icon={<GavelIcon />}\n            />\n          </Grid>\n          <Grid item>\n            <IconText\n              ml={2}\n              text={\n                selectedPackage?.value?.latestVersion\n                  ? \"Latest version is installed\"\n                  : \"Installed version is NOT the latest.\"\n              }\n              icon={<BookmarkIcon />}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n\n      <Paper sx={{ padding: 2, marginTop: 2 }}>\n        <Typography variant=\"h5\">Thoth Justifications</Typography>\n        <Typography variant=\"body1\" mt={2}>\n          {selectedPackage?.value?.justifications?.header}\n        </Typography>\n        {selectedPackage?.value?.justifications?.reasons?.length ? (\n          <ul>\n            {selectedPackage?.value?.justifications?.reasons.map(reason => {\n              return (\n                <li key={reason.package}>\n                  <Typography variant=\"body1\" mt={2}>\n                    <Link\n                      underline=\"hover\"\n                      onClick={() => setSelected(reason.package)}\n                    >\n                      {reason.package}\n                    </Link>\n                    {reason.reason}\n                  </Typography>\n                </li>\n              );\n            })}\n          </ul>\n        ) : null}\n\n        {selectedPackage?.value?.justifications?.thoth?.length > 0 ? (\n          <Typography variant=\"h6\" mt={2}>\n            Security Reasonings\n          </Typography>\n        ) : null}\n        {selectedPackage?.value?.justifications?.thoth?.map(reason => {\n          return (\n            <Grid container alignItems=\"center\" ml={3}>\n              <Grid item xs={10}>\n                <Typography variant=\"body1\" mt={1}>\n                  {reason.message}\n                </Typography>\n                <Typography variant=\"body2\" ml={3} mt={0.5}>\n                  {reason.advisory}\n                </Typography>\n              </Grid>\n              <Grid item>\n                <Button href={reason.link}>READ MORE</Button>\n              </Grid>\n            </Grid>\n          );\n        })}\n      </Paper>\n\n      <Paper sx={{ padding: 2, marginTop: 2 }}>\n        <Typography variant=\"h5\" mb={2}>\n          Package Origins\n        </Typography>\n        <Typography variant=\"body1\" mb={2}>\n          {[...selectedPackage?.parents].filter(p => p !== \"*App\")?.length === 0\n            ? selectedPackage?.value?.label +\n              \" is not a dependent of any package in this Python environment\"\n            : \"There are \" +\n              [...selectedPackage?.parents].filter(p => p !== \"*App\")?.length +\n              \" package(s) that have \" +\n              selectedPackage?.value?.label +\n              \" as a direct dependency. Of those package(s)\"}\n\n          {Object.keys(dependents).map((change) => {\n            if (dependents[change].length === 0) {\n              return null;\n            }\n\n            return (\n              <React.Fragment>\n                {\", \" +\n                  dependents[change].length +\n                  (change === \"version\"\n                    ? \" had a version change \"\n                    : (dependents[change].length === 1 ? \" was \" : \" were \") +\n                      change) +\n                  \" (\"}\n                {dependents[change].map((p, i, a) => {\n                  let text = p;\n                  if (i !== a.length - 1) {\n                    text += \", \";\n                  }\n                  return (\n                    <Link underline=\"hover\" onClick={() => setSelected(p)}>\n                      {text}\n                    </Link>\n                  );\n                })}\n                {\")\"}\n              </React.Fragment>\n            );\n          })}\n          {\".\"}\n        </Typography>\n\n        <NetworkGraphView mergedGraph={mergedGraph}/>\n      </Paper>\n    </Box>\n  );\n};","import React, {useState} from \"react\";\nimport {Grid, Paper, Typography} from \"@material-ui/core\";\nimport SearchBar from \"components/Elements/SearchBar\";\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\nimport {AdviseTableView} from \"../components\";\nimport {SelectedPackage} from \"../features\"\n\nexport const SelectedPackageContext = React.createContext();\n\nexport const AdviseDetails = ({mergedGraph}) => {\n    const [search, setSearch] = useState(\"\");\n    const [selected, setSelected] = useState();\n\n    const handleSearch = event => {\n        setSearch(event.target.value);\n    };\n\n    if(!mergedGraph) {\n        return null\n    }\n\n    return (\n            <SelectedPackageContext.Provider value={{selected, setSelected}}>\n                <Grid\n                    container\n                    spacing={2}\n                    justifyContent=\"center\"\n                    alignItems=\"flex-start\"\n                    mt={2}\n                >\n                    <Grid item s={12} md={6}>\n                        <Paper sx={{ padding: 2 }}>\n                            <SearchBar\n                                onChange={handleSearch}\n                                lefticon={<SearchRoundedIcon />}\n                            />\n                            <AdviseTableView\n                                search={search}\n                                filteredGraph={mergedGraph}\n                            />\n                        </Paper>\n                    </Grid>\n                    <Grid item s={12} md={6}>\n                        {!selected ? (\n                            <Typography variant=\"body1\" align=\"center\">\n                                No package selected\n                            </Typography>\n                        ) : (\n                            <SelectedPackage mergedGraph={mergedGraph}/>\n                        )}\n                    </Grid>\n                </Grid>\n            </SelectedPackageContext.Provider>\n    );\n};","import React, {useContext, useEffect, useState} from \"react\";\n\nimport {\n  Box,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TablePagination,\n  TableRow,\n  Typography\n} from \"@material-ui/core\";\n\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\nimport RemoveRoundedIcon from \"@material-ui/icons/RemoveRounded\";\nimport CircleOutlinedIcon from \"@material-ui/icons/CircleOutlined\";\n\n// utils\nimport { getComparator, stableSort } from \"./utils\";\n\n// local\nimport EnhancedTableHead from \"./EnhancedTableHead\";\nimport PropTypes from \"prop-types\";\nimport {Graph} from \"utils/Graph\";\nimport {SelectedPackageContext} from \"../../routes/AdviseDetails\";\n\n/**\n * The table cells and total structure specific to\n * python packages.\n */\nexport function AdviseTableView({\n  search =\"\",\n  filteredGraph\n}) {\n  const [order, setOrder] = useState(\"asc\");\n  const [orderBy, setOrderBy] = React.useState(\"name\");\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(25);\n  const [rows, setRows] = React.useState([]);\n  const {selected, setSelected} = useContext(SelectedPackageContext) ?? {setSelected: () => console.log(\"missing callback\")}\n\n\n  // format data\n  useEffect(() => {\n    if (!filteredGraph) {\n      return;\n    }\n\n    setPage(0);\n\n    const newRows = [];\n    filteredGraph.nodes.forEach(node => {\n      if (node.value.depth === -1) {\n        return;\n      }\n      newRows.push({\n        name: node.value.label,\n        key: node.key,\n        warnings: [],\n        depth: node.value?.depth ?? -1,\n        license: node?.value?.metadata?.license,\n        dependencies: node.adjacents.size,\n        change: node.value?.change,\n        summary: node?.value?.metadata?.summary\n      });\n    });\n    setRows(newRows);\n  }, [filteredGraph]);\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === \"asc\";\n    setOrder(isAsc ? \"desc\" : \"asc\");\n    setOrderBy(property);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  // Avoid a layout jump when reaching the last page with empty rows.\n  const emptyRows =\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0;\n\n  return (\n    <Box sx={{ width: \"100%\" }}>\n      <TableContainer>\n        <Table sx={{ minWidth: 750 }} size=\"medium\">\n          <EnhancedTableHead\n            order={order}\n            orderBy={orderBy}\n            onRequestSort={handleRequestSort}\n          />\n          <TableBody>\n            {stableSort(rows, getComparator(order, orderBy))\n              .filter(row => row.name.includes(search))\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n              .map((row, index) => {\n                const labelId = `enhanced-table-checkbox-${index}`;\n\n                const iconColor =\n                  row.change === \"removed\"\n                    ? \"error\"\n                    : row.change === \"added\"\n                    ? \"success\"\n                    : undefined;\n\n                return (\n                  <React.Fragment key={row.name}>\n                    <TableRow\n                      hover\n                      onClick={() => setSelected(row.key)}\n                      tabIndex={-1}\n                      selected={selected === row.key}\n                    >\n                      <TableCell component=\"th\" id={labelId} scope=\"row\">\n                        <Box display=\"flex\">\n                          {row.change === \"removed\" ? (\n                            <RemoveRoundedIcon color={iconColor} />\n                          ) : row.change === \"added\" ? (\n                            <AddRoundedIcon color={iconColor} />\n                          ) : (\n                            <CircleOutlinedIcon />\n                          )}\n                          <Typography ml={2}>{row.name}</Typography>\n                        </Box>\n                      </TableCell>\n                      <TableCell align=\"right\">{row.depth}</TableCell>\n                      <TableCell align=\"right\">{row.license}</TableCell>\n                      <TableCell align=\"right\">{row.dependencies}</TableCell>\n                    </TableRow>\n\n                    <TableRow>\n                      <TableCell\n                        style={{ paddingBottom: 0, paddingTop: 0 }}\n                        colSpan={6}\n                      />\n                    </TableRow>\n                  </React.Fragment>\n                );\n              })}\n            {emptyRows > 0 && (\n              <TableRow\n                style={{\n                  height: 53 * emptyRows\n                }}\n              >\n                <TableCell colSpan={6} />\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={[5, 10, 25]}\n        component=\"div\"\n        count={rows.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onPageChange={handleChangePage}\n        onRowsPerPageChange={handleChangeRowsPerPage}\n      />\n    </Box>\n  );\n}\n\nAdviseTableView.propTypes = {\n  /** the text value used to filter the cells in the table */\n  search: PropTypes.string,\n  /** The graph used as input into the table */\n  filteredGraph: PropTypes.objectOf(Graph).isRequired,\n}\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n  lockfile: {\n    overflow: \"scroll\",\n    paddingLeft: theme.spacing(1)\n  }\n}));\n\n/**\n * Renders out a Pipfile.lock file and attaches\n * `<a>` tags to package names, which is used to\n *  scroll to certain spot in the lock file\n */\nexport const LockfileView = ({ file }) => {\n  const classes = useStyles();\n\n  return (\n    <Typography variant=\"caption\">\n      <pre>\n        <div\n          className={classes.lockfile}\n          dangerouslySetInnerHTML={{\n            __html: JSON.stringify(file, undefined, 4)?.replaceAll(\n              new RegExp(\n                '(\"' + Object.keys(file?.default)?.join('\"|\"') + '\")',\n                \"g\"\n              ),\n              match => {\n                return `<a id=\"${match.slice(1, -1)}\">${match}</a>`;\n              }\n            )\n          }}\n        />\n      </pre>\n    </Typography>\n  );\n};\n\nLockfileView.propTypes = {\n    /** The Pipfile.lock json object */\n  file: PropTypes.shape({ default: PropTypes.object.isRequired })\n};","import React from \"react\";\nimport {Grid} from \"@material-ui/core\";\nimport InfoCard from \"components/Elements/InfoCard\";\nimport {DependenciesMetric, CustomCardAction, LicenseMetric, AdviseMetric} from \"../components\";\n\n\nexport const AdviseSummary = ({metrics}) => {\n    const [pipfile, setPipfile] = React.useState(\"newGraph\");\n\n    const handlePipfile = (event, newPipfile) => {\n        if (newPipfile?.length) {\n            setPipfile(newPipfile);\n        }\n    };\n\n    return (\n        <Grid container spacing={3} mb={3} mt={1}>\n            <Grid item xs={12} md={6}>\n                <InfoCard\n                    cardMeta={{\n                        title: \"Thoth Advise Summary\"\n                    }}\n                    cardBody={<AdviseMetric metric={metrics?.advise} />}\n                />\n            </Grid>\n            <Grid item xs={12} md={6}>\n                <InfoCard\n                    cardMeta={{\n                        title: \"Dependencies Summary\"\n                    }}\n                    cardBody={\n                        <DependenciesMetric\n                            all={metrics?.[pipfile]?.dependencies?.all}\n                            roots={metrics?.[pipfile]?.dependencies?.roots}\n                        />\n                    }\n                    cardAction={\n                        <CustomCardAction value={pipfile} onChange={handlePipfile} />\n                    }\n                />\n            </Grid>\n            <Grid item xs={12} md={6}>\n                <InfoCard\n                    cardMeta={{\n                        title: \"Licenses Summary\"\n                    }}\n                    cardBody={\n                        <LicenseMetric metric={metrics?.[pipfile]?.licenses} />\n                    }\n                    cardAction={\n                        <CustomCardAction value={pipfile} onChange={handlePipfile} />\n                    }\n                />\n            </Grid>\n        </Grid>\n    );\n};","import axios from \"axios\";\nimport {THOTH_URL} from \"config\"\nimport {useQueries, useQuery} from 'react-query';\n\n\nexport const getPackageDependencies = (\n    name,\n    version,\n    index = \"https://pypi.org/simple\"\n) => {\n    return axios\n        .get(THOTH_URL + \"/python/package/dependencies\", {\n            params: {\n                name: name,\n                version: version,\n                index: index\n            },\n            headers: {\n                accept: \"application/json\"\n            }\n        })\n};\n\nexport const usePackageDependencies = (name, version, config) => {\n    return useQuery({\n        ...config,\n        queryKey: ['packageDependencies', name, version],\n        queryFn: () => getPackageDependencies(name, version),\n    });\n};\n\nexport const usePackagesDependencies = (packages, config) => {\n    return useQueries(packages.map(p => {\n        return {\n            ...config,\n            queryKey: ['packageDependencies', p.name, p.version],\n            queryFn: () => getPackageDependencies(p.name, p.version),\n        }\n    }))\n};","import axios from \"axios\";\nimport {THOTH_URL} from \"config\"\nimport {useQuery} from 'react-query';\n\n/**\n * An async function that returns a promise for `{base_url}/advise/python`\n *\n * @param analysis_id - the advise document id (ex: `adviser-211112223258-38af1a4746733b53`)\n */\nexport const getAdviseDocument = async (analysis_id) => {\n    return axios\n        .get(THOTH_URL + \"/advise/python/\" + analysis_id, {\n            headers: {\n                accept: \"application/json\"\n            }\n        })\n};\n\nexport const useAdviseDocument = (analysis_id, config) => {\n    return useQuery({\n        ...config,\n        queryKey: ['adviseDocument', analysis_id],\n        queryFn: () => getAdviseDocument(analysis_id),\n    });\n};\n","import {useMemo, useEffect, useState} from \"react\";\n\n// utils\nimport { Graph } from \"utils/Graph\";\n\n// api\nimport {usePackagesDependencies} from \"../api\";\nimport {usePackagesMetadata} from \"features/misc/api\";\n\nexport function useGraph(data, knownRoots) {\n    const allMetadata = usePackagesMetadata(data);\n    const allDependencies = usePackagesDependencies(data);\n\n    const allMetadataStatus = useMemo(() => {\n        const status = {\n            loading: false,\n            error: false,\n            success: false\n        }\n        if(allMetadata.length > 0) {\n            allMetadata.forEach(query => {\n                switch (query.status) {\n                    case \"error\":\n                        status.error = true\n                        break;\n                    case \"success\":\n                        status.success = true\n                        break;\n                    default:\n                        status.loading = true;\n                }\n            })\n        }\n        else {\n            return \"loading\"\n        }\n\n       if(status.error) {\n           return \"error\"\n       }\n       else if(status.loading) {\n           return \"loading\"\n       }\n       else {\n           return \"success\"\n       }\n\n    }, [allMetadata])\n\n    const allDependenciesStatus = useMemo(() => {\n        let isLoading = false;\n\n        if(allDependencies.length > 0) {\n            allDependencies.forEach(query => {\n                if(query.status === \"loading\") {\n                    isLoading = true\n                }\n            })\n        }\n        else {\n            return \"loading\"\n        }\n\n        return isLoading ? \"loading\" : \"success\";\n\n    }, [allDependencies])\n\n    const [graph, setGraph] = useState();\n\n    useEffect(() => {\n        if(allMetadataStatus === \"error\") {\n            // handle error\n            return;\n        }\n        else if (allDependenciesStatus === \"loading\" || allMetadataStatus === \"loading\") {\n            // not done loading\n            return;\n        }\n\n        // create graph\n        const tempGraph = new Graph();\n\n        // create dependencies object\n        const reformattedDeps = new Map();\n         allDependencies.forEach(query => {\n            if(query.isSuccess) {\n                reformattedDeps.set(query.data.data.parameters.name, query.data.data.dependencies)\n            }\n        })\n\n        // merge data together\n        allMetadata.forEach(query => {\n            const metadata = query.data.data.metadata ?? query.data.data.info;\n\n            const value = {\n                id: metadata.name.toLowerCase().replace(\".\", \"-\"),\n                label: metadata.name,\n                metadata: metadata\n            };\n\n            // add package to graph\n            const node = tempGraph.addVertex(value.id, value);\n            node.parents = new Set();\n        })\n\n        const notRoot = [];\n         // cross check what dependencies the package has through thoth's database\n        // this is used to setup edges between nodes in the graph\n        Array.from(tempGraph.nodes.entries()).forEach(([key, value]) => {\n            // get dependencies from thoth\n            if(reformattedDeps.has(key)) {\n                reformattedDeps.get(key).forEach(dep => {\n                    const adjacentNode = tempGraph.nodes.get(dep.name);\n\n                    // if package exists in lockfile\n                    if (adjacentNode) {\n                        // add edge connecting parent and dependency\n                        tempGraph.addEdge(key, adjacentNode.value.id);\n                        // set parent\n                        adjacentNode.parents.add(key);\n                        notRoot.push(adjacentNode.value.id);\n                    }\n                });\n            }\n            else {\n                // if no record in thoth, then use metadata dependencies\n                // these are not always as accurate\n                if (value?.value?.metadata?.requires_dist) {\n                    // for each dependency, parse to get name\n                    value.value.metadata.requires_dist.forEach(async adj => {\n                        const adjacentNode = tempGraph.nodes.get(\n                            adj\n                                .split(\" \", 1)[0]\n                                .toLowerCase()\n                                .replace(\".\", \"-\")\n                        );\n\n                        // if package exists in lockfile\n                        if (adjacentNode) {\n                            // add edge connecting parent and dependency\n                            tempGraph.addEdge(key, adjacentNode.value.id);\n                            // set parent\n                            adjacentNode.parents.add(key);\n                            notRoot.push(adjacentNode.value.id);\n                        }\n                    });\n                }\n            }\n        })\n\n        /**\n         * Create graph using a traversal algorithm\n         */\n\n        // add app node to graph\n        const app = tempGraph.addVertex(\"*App\", {\n            id: \"*App\",\n            label: \"App\",\n            depth: -1\n        });\n\n        notRoot.push(\"*App\");\n\n        const visited = new Map();\n        const visitList = [];\n\n        // get roots and connect to app\n        tempGraph.nodes.forEach((value, key, map) => {\n            if (!notRoot.includes(key) || Object.keys(knownRoots).includes(key)) {\n                const node = map.get(key);\n                node.value.depth = 0;\n                node.parents.add(\"*App\");\n                visitList.push(node);\n                tempGraph.addEdge(app.key, node.key);\n            }\n        });\n\n        // set depth and parent packages using dfs\n        while (visitList.length !== 0) {\n            const node = visitList.pop();\n            if (node && !visited.has(node)) {\n                visited.set(node);\n\n                const adjs = node.getAdjacents();\n\n                for (var i = 0; i < adjs.length; i++) {\n                    // update depth\n                    adjs[i].value.depth = Math.min(\n                        node.value.depth + 1,\n                        adjs[i].value.depth ?? node.value.depth + 2\n                    );\n                    visitList.push(adjs[i]);\n                }\n            }\n        }\n\n        setGraph(tempGraph)\n// eslint-disable-next-line react-hooks/exhaustive-deps\n     }, [allMetadataStatus, allDependenciesStatus, knownRoots]);\n\n    return graph\n\n}\n","import {useEffect, useMemo, useState} from \"react\";\n\nexport function useMetrics(oldGraph, newGraph, mergedGraph, adviseDocument) {\n    const adviseMetric = useAdviseMetric(mergedGraph, adviseDocument);\n    const oldDependencyMetric = useDependencyMetric(oldGraph);\n    const newDependencyMetric = useDependencyMetric(newGraph);\n    const oldLicenseMetric = useLicenseMetric(oldGraph);\n    const newLicenseMetric = useLicenseMetric(newGraph);\n\n    return useMemo(() => {\n        const base = {\n            advise: null,\n            oldGraph: {dependencies: null, licenses: null},\n            newGraph: {dependencies: null, licenses: null}\n        }\n\n        if (adviseMetric) {\n            base.advise = adviseMetric;\n        }\n        if (oldDependencyMetric) {\n            base.oldGraph.dependencies = oldDependencyMetric;\n        }\n        if (oldDependencyMetric) {\n            base.oldGraph.licenses = oldLicenseMetric;\n        }\n        if (newDependencyMetric) {\n            base.newGraph.dependencies = newDependencyMetric;\n        }\n        if (newLicenseMetric) {\n            base.newGraph.licenses = newLicenseMetric;\n        }\n\n        return base\n\n\n    }, [adviseMetric, oldDependencyMetric, oldLicenseMetric, newDependencyMetric, newLicenseMetric])\n\n}\n\nexport const useDependencyMetric = (graph) => {\n    const [metric, setMetric] = useState()\n\n    useEffect(() => {\n        if (!graph) {\n            return;\n        }\n\n        let base = {\n            all: {},\n            roots: {}\n        };\n\n        const roots = [];\n        graph.nodes.forEach(value => {\n            if (value.value.depth === 0) {\n                roots.push(value.key);\n            }\n        });\n\n        const visited = new Set();\n\n        // for each starting node\n        roots.forEach(root => {\n            const bfs = graph.graphSearch(graph.nodes.get(root));\n            const visitedOrder = Array.from(bfs);\n\n            visitedOrder.forEach(node => {\n                if (node.key === \"*App\") {\n                    return;\n                }\n\n                if (visited.has(node.value.id)) {\n                    return;\n                } else {\n                    visited.add(node.value.id);\n                }\n\n                const depth =\n                    node.value.depth === 0\n                        ? \"roots\"\n                        : node.value.depth === 1\n                            ? \"direct\"\n                            : \"indirect\";\n\n                // dependency metric\n                base = {\n                    all: {\n                        ...base.all,\n                        [depth]: (base.all[depth] ?? 0) + 1\n                    },\n                    roots: {\n                        ...base.roots,\n                        [root]: {\n                            ...(base.roots[root] ?? null),\n                            [depth]: (base.roots?.[root]?.[depth] ?? 0) + 1\n                        }\n                    }\n                };\n            });\n        });\n\n        setMetric(base)\n    }, [graph]);\n\n    return metric;\n}\n\nexport const useLicenseMetric = (graph) => {\n    const [metric, setMetric] = useState()\n\n    useEffect(() => {\n        if (!graph) {\n            return;\n        }\n\n        let base = {};\n\n        const roots = [];\n        graph.nodes.forEach(value => {\n            if (value.value.depth === 0) {\n                roots.push(value.key);\n            }\n        });\n\n        const visited = new Set();\n\n\n        // for each starting node\n        roots.forEach(root => {\n            const bfs = graph.graphSearch(graph.nodes.get(root));\n            const visitedOrder = Array.from(bfs);\n\n            visitedOrder.forEach(node => {\n                if (node.key === \"*App\") {\n                    return;\n                }\n\n                if (visited.has(node.value.id)) {\n                    return;\n                } else {\n                    visited.add(node.value.id);\n                }\n\n                // licence metric\n                const packageLicenses = [];\n\n                // get general classification\n                (\n                    node?.value?.metadata?.classifier ??\n                    node?.value?.metadata?.classifiers\n                )?.forEach(classifier => {\n                    const parsed = classifier.split(\" :: \");\n\n                    if (parsed[0] === \"License\") {\n                        if (parsed[1] === \"OSI Approved\") {\n                            packageLicenses.push({\n                                generalLicense: parsed?.[2] ?? node.value.metadata.license,\n                                specificLicense: node.value.metadata.license,\n                                isOsiApproved: true\n                            });\n                        } else {\n                            packageLicenses.push({\n                                generalLicense: parsed?.[1] ?? node.value.metadata.license,\n                                specificLicense: node.value.metadata.license,\n                                isOsiApproved: false\n                            });\n                        }\n                    }\n                });\n\n                if (packageLicenses.length === 0) {\n                    packageLicenses.push({\n                        generalLicense: node.value.metadata.license,\n                        specificLicense: node.value.metadata.license,\n                        isOsiApproved: null\n                    });\n                }\n\n                // get specific classification\n                packageLicenses.forEach(license => {\n                    if(!base[license.generalLicense]) {\n                        base[license.generalLicense] = {\n                            packages: {},\n                            metadata: {\n                                isOsiApproved: license.isOsiApproved\n                            }\n                        }\n                    }\n\n                    base = {\n                        ...base,\n                        [license.generalLicense]: {\n                            ...base[license.generalLicense],\n                            packages: {\n                                ...(base[license.generalLicense].packages ?? null),\n                                [node.value.label]: {\n                                    depth: node.value.depth,\n                                    specific: license.specificLicense\n                                },\n                            }\n                        }\n                    };\n\n                });\n            });\n        });\n\n        setMetric(base)\n    }, [graph]);\n\n    return metric\n}\n\nexport const useAdviseMetric = (graph, adviseDocument) => {\n    const [metric, setMetric] = useState()\n\n    useEffect(() => {\n        if (!graph || !adviseDocument) {\n          return;\n        }\n\n        const base = {\n            added: 0,\n            removed: 0,\n            version: 0,\n            unchanged: 0,\n            justification: {},\n            build: null\n        }\n\n        // package changes\n        graph.nodes.forEach(node => {\n            switch (node.value.change) {\n                case \"added\":\n                    base.added++;\n                    break;\n                case \"removed\":\n                    base.removed++;\n                    break;\n                case \"version\":\n                    base.version++;\n                    break;\n                default:\n                    base.unchanged++;\n            }\n        });\n\n        //build environment\n        base.build = `We have analysed an application stack running on ${adviseDocument.metadata.os_release.name} ${adviseDocument.metadata.os_release.version}, running Python (${adviseDocument.metadata.python.implementation_name}) ${adviseDocument.metadata.python.major}.${adviseDocument.metadata.python.minor}.${adviseDocument.metadata.python.micro}. It was Adviser Job ID ${adviseDocument.metadata.document_id}, by ${adviseDocument.metadata.analyzer} v${adviseDocument.metadata.analyzer_version}.`;\n\n        //justification counts\n        adviseDocument?.report?.products?.[0]?.justification.forEach(\n            justification => {\n                if (justification.type !== \"INFO\") {\n                    if (base?.justification[justification.type] !== undefined) {\n                        base.justification[justification.type]++;\n                    } else {\n                        base.justification[justification.type] = 0;\n                    }\n                }\n            }\n        );\n        setMetric(base)\n\n    }, [graph, adviseDocument]);\n\n    return metric\n}","export const AdviseNotFound = ({analysis_id}) => {\n    return <div>\"{analysis_id}\" not found</div>;\n};","import * as React from 'react';\nimport {useNavigate} from 'react-router-dom';\nimport {Button} from \"@material-ui/core\";\n\n/**\n * Layout is used in most of the app and allows for backwards navigation.\n */\nexport const NavigationLayout = ({ children }) => {\n    const navigate = useNavigate();\n\n    return (\n        <>\n            <Button onClick={() => navigate(\"/\")}>go back</Button>\n            <div>\n                {children}\n            </div>\n        </>\n    );\n};","import React, {useMemo} from \"react\";\nimport {Route, Routes, useParams, Navigate} from 'react-router-dom';\n\n// layouts\nimport {AdviseLayout} from \"components/Layout\";\n\n// sub-routes\nimport {AdviseSummary} from \"./AdviseSummary\";\nimport {AdviseDetails} from \"./AdviseDetails\";\n\n// feature specific imports\nimport {useAdviseDocument} from \"../api\";\nimport {formatLockfile} from \"../utils\";\nimport {AdviseHeader} from \"../components\";\nimport {useMetrics, useMergeGraphs, useGraph} from \"../hooks\";\n\n// misc\nimport {CircularProgress} from \"@material-ui/core\";\nimport {AdviseNotFound} from \"./AdviseNotFound\";\nimport {NavigationLayout} from \"components/Layout/NavigationLayout\";\n\n\nexport const AdviseRoutes = () => {\n    // get document id\n    const { analysis_id } = useParams();\n\n    // api get thoth advise document\n    const adviseDocument = useAdviseDocument(analysis_id, { useErrorBoundary: false, refetchInterval: (data) => {\n        if(data?.data?.status) {\n            return 10000;\n        }\n        return false\n        }})\n\n    // format init graph data\n    const initGraphData = useMemo(() => {\n        if(adviseDocument.isSuccess && adviseDocument.data.data?.result?.parameters?.project?.requirements_locked) {\n            return formatLockfile(adviseDocument.data.data.result.parameters.project.requirements_locked)\n        }\n    }, [adviseDocument]);\n\n    // format advise graph data\n    const adviseGraphData = useMemo(() => {\n        if(adviseDocument.isSuccess && adviseDocument.data.data?.result?.report?.products?.[0]?.project?.requirements_locked?.default) {\n            return formatLockfile(adviseDocument.data.data.result.report.products[0].project.requirements_locked.default)\n        }\n    }, [adviseDocument]);\n\n\n\n    // create init graph\n    const initGraph = useGraph(initGraphData ?? [], adviseDocument.data?.data?.result?.parameters?.project?.requirements?.packages);\n    const adviseGraph = useGraph(adviseGraphData ?? [], adviseDocument.data?.data?.result?.parameters?.project?.requirements?.packages);\n\n    // merge graphs based on added, removed, changed packages\n    const mergedGraph = useMergeGraphs(initGraph, adviseGraph, adviseDocument.data?.data)\n\n    // compute metric data\n    const metrics = useMetrics(initGraph, adviseGraph, mergedGraph, adviseDocument.data?.data)\n\n    if (adviseDocument.isLoading) {\n        return (\n            <div className=\"w-full h-48 flex justify-center items-center\">\n                <CircularProgress />\n            </div>\n        );\n    }\n\n\n    if(!adviseDocument.data) {\n        return (\n            <NavigationLayout><AdviseNotFound analysis_id={analysis_id} /></NavigationLayout>\n        )\n    }\n\n    return (\n        <NavigationLayout>\n            <AdviseLayout header={<AdviseHeader adviseDocument={adviseDocument.data.data}/> }>\n                <Routes>\n                    <Route path=\"summary\" element={<AdviseSummary metrics={metrics}/>} />\n                    <Route path=\"details\" element={<AdviseDetails adviseDocument={adviseDocument}/>} />\n                    <Route path=\"*\" element={<Navigate to=\"summary\" />} />\n                </Routes>\n            </AdviseLayout>\n        </NavigationLayout>\n    );\n};","import {useEffect, useState} from \"react\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport {Graph} from \"utils/Graph\";\nimport {discoverPackageChanges} from \"../utils\";\n\nexport const useMergeGraphs = (oldGraph, newGraph, adviseDocument) => {\n    const [graph, setGraph] = useState()\n    const theme = useTheme();\n\n    useEffect(() => {\n        if (!oldGraph || !newGraph) {\n            return;\n        }\n\n        const visGraphEdges = [];\n        const mergedGraph = new Graph();\n\n        newGraph.nodes.forEach((value, key) => {\n            // get node\n            const combinedNode = newGraph.nodes.get(key);\n\n            // check if added, changed, or unchanged\n            // if added (old graph doesnt have the package)\n            if (!oldGraph.nodes.has(key)) {\n                combinedNode.value = {\n                    ...combinedNode.value,\n                    change: \"added\",\n                    label:\n                        value.value.label + \" \" + (value?.value?.metadata?.version ?? \"\"),\n                    font: {\n                        color: theme.palette.success.main\n                    },\n                    color: theme.palette.success.main,\n                    version: value?.value?.metadata?.version ?? \"\",\n                    dependencies: value.adjacents.size,\n                    license: value?.value?.metadata?.license ?? \"\",\n                    lockfile: [\"new\"]\n                };\n            }\n            // if the graph is not new then it is either equal or the version changed\n            else {\n                // set values that wont change\n                combinedNode.value = {\n                    ...combinedNode.value,\n                    label:\n                        value.value.label + \" \" + (value?.value?.metadata?.version ?? \"\"),\n                    dependencies: value.adjacents.size,\n                    license: value?.value?.metadata?.license ?? \"\",\n                    lockfile: [\"new\", \"old\"]\n                };\n                // if the nodes are equal (version are the same)\n                if (\n                    value?.value?.metadata?.version ===\n                    oldGraph.nodes.get(key)?.value?.metadata?.version\n                ) {\n                    combinedNode.value = {\n                        ...combinedNode.value,\n                        version: value?.value?.metadata?.version ?? \"\",\n                        change: \"unchanged\"\n                    };\n                }\n                // if the version changed\n                else {\n                    combinedNode.value = {\n                        ...combinedNode.value,\n                        change: \"version\",\n                        version: value?.value?.metadata?.version ?? \"\",\n                        oldVersion: oldGraph.nodes.get(key)?.value?.metadata?.version ?? \"\",\n                        font: {\n                            color: theme.palette.success.main\n                        }\n                    };\n\n                    combinedNode.parents = [\n                        ...new Set([\n                            ...combinedNode.parents,\n                            ...oldGraph.nodes.get(key)?.parents\n                        ])\n                    ];\n\n                    // merge the dependencies because they could be different\n                    oldGraph.nodes\n                        .get(key)\n                        .getAdjacents()\n                        .forEach(item => combinedNode.adjacents.add(item));\n                    newGraph.nodes\n                        .get(key)\n                        .getAdjacents()\n                        .forEach(item => combinedNode.adjacents.add(item));\n                }\n            }\n\n            mergedGraph.nodes.set(key, combinedNode);\n        });\n\n        oldGraph.nodes.forEach((value, key) => {\n            // get node\n            const combinedNode = oldGraph.nodes.get(key);\n\n            // only checking if package was removed\n            if (!newGraph.nodes.has(key)) {\n                combinedNode.value = {\n                    ...combinedNode.value,\n                    change: \"removed\",\n                    label:\n                        value.value.label + \" \" + (value?.value?.metadata?.version ?? \"\"),\n                    font: {\n                        color: theme.palette.error.main\n                    },\n                    color: theme.palette.error.main,\n                    version: value?.value?.metadata?.version ?? \"\",\n                    dependencies: value.adjacents.size,\n                    license: value?.value?.metadata?.license ?? \"\",\n                    lockfile: [\"old\"]\n                };\n\n                mergedGraph.nodes.set(key, combinedNode);\n            }\n        });\n\n        // add edges from old graph\n        oldGraph.nodes.forEach((value) => {\n            // set package edges\n            value.adjacents.forEach(adj => {\n                visGraphEdges.push({\n                    to: value.value.id,\n                    from: adj.value.id,\n                    lockfile: \"old\"\n                });\n            });\n        });\n\n        // add edges from new graph\n        newGraph.nodes.forEach((value) => {\n            // set package edges\n            value.adjacents.forEach(adj => {\n                visGraphEdges.push({\n                    to: value.value.id,\n                    from: adj.value.id,\n                    lockfile: \"new\"\n                });\n            });\n        });\n\n        // set justifications\n        discoverPackageChanges(mergedGraph.nodes, adviseDocument.result.report?.products?.[0]?.justification);\n\n        // add edges to merged graph Object\n        mergedGraph[\"visEdges\"] = visGraphEdges;\n\n        setGraph(null)\n    }, [oldGraph, newGraph, adviseDocument, theme])\n\n    return graph\n}","// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\n\n// local\nimport IconText from \"components/Elements/IconText\";\n\n// utils\nimport timeSince from \"utils/timeSince\";\nimport PropTypes from \"prop-types\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n  titleRow: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  marginLeft: {\n    marginLeft: theme.spacing(2)\n  },\n  linksRow: {\n    display: \"flex\"\n  }\n}));\n\n/**\n * A header for package metadata.\n */\nexport const PackageHeader = ({metadata}) => {\n  const classes = useStyles();\n\n  return (\n    <div>\n      <div className={classes.titleRow}>\n        <Typography variant=\"h4\">\n          <b>{metadata?.name}</b>\n        </Typography>\n        <Typography ml={2} variant=\"h6\">\n          {metadata?.version ?? \"NaN\"}\n        </Typography>\n      </div>\n\n      <Typography gutterBottom variant=\"body1\">\n        {metadata?.summary ?? \"NaN\"}\n      </Typography>\n      <div className={classes.linksRow}>\n        <IconText text={metadata?.license ?? \"NaN\"} icon={<GavelIcon />} />\n        <IconText\n          className={classes.marginLeft}\n          text={\n            \"Latest version published \" +\n            timeSince(\n              new Date(\n                  metadata?.all_versions?.[metadata?.latest_version]?.date\n              )\n            ) +\n            \" ago.\"\n          }\n          icon={<BookmarkIcon />}\n        />\n      </div>\n    </div>\n  );\n};\n\nPackageHeader.propTypes = {\n    /** Package metadata object.*/\n    package_data: PropTypes.shape({\n        /** Name of package. */\n        name: PropTypes.string.isRequired,\n        /** Version of package. */\n        version: PropTypes.string.isRequired,\n        /** The latest version of the package. (used to calculate the time sense last update) */\n        latest_version: PropTypes.string,\n        /** Description of package. */\n        summary: PropTypes.string,\n        /** License of package */\n        license: PropTypes.string,\n        /** specific all versions object with each key being a version and having a param of date.\n         *\n         * ```\n         * all_versions: {\n         *     1.2.3: {\n         *         date: \"12-2-2020\"\n         *     }\n         * }\n         * ```\n         */\n        all_versions: PropTypes.object\n    })\n}","// React\nimport React from \"react\";\n\n// local\nimport {PackageHeader} from \"../components\";\n\n\n// material-ui\nimport {Grid} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n        maxWidth: \"95%\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        paddingRight: theme.spacing(3),\n        paddingLeft: theme.spacing(3),\n        marginTop: theme.spacing(4)\n    }\n}));\n\n// The page that displays all analysis data\nexport const PackageOverview = ({metadata}) => {\n    const classes = useStyles();\n\n    return (\n        <Grid container className={classes.root}>\n            <Grid item xs={12}>\n                <PackageHeader metadata={metadata}/>\n            </Grid>\n        </Grid>\n    );\n};","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  }\n}));\n\n/**\n * A metric card displaying dependency information of a single package.\n */\nexport const PackageDependencies = ({ metric }) => {\n  const classes = useStyles();\n  const totalDependencies =\n    (metric.all.direct ?? 0) + (metric.all.indirect ?? 0);\n\n  return (\n    <div>\n      <ProgressBar\n        value={metric.all.direct ?? 0}\n        total={totalDependencies}\n        label={\"Direct\"}\n        className={classes.bar}\n      />\n\n      <ProgressBar\n        value={metric.all.indirect ?? 0}\n        total={totalDependencies}\n        label={\"Indirect\"}\n      />\n    </div>\n  );\n};\n\nPackageDependencies.propTypes = {\n    /** An object holding metric info. */\n  metric: PropTypes.shape({\n        /**\n         * ```\n         * all: {\n         *     direct: 6,\n         *     indirect: 22\n         * }\n         * ```\n         */\n    all: PropTypes.shape({\n        /** Direct dependencies of the package. */\n      direct: PropTypes.number,\n        /** Indirect dependencies of the package (dependencies of direct and indirect packages) */\n      indirect: PropTypes.number\n    })\n  })\n};\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Typography, Divider } from \"@material-ui/core\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  marginBottom: {\n    marginBottom: theme.spacing(2)\n  }\n}));\n\n/**\n * A metric card showing a package's (and its dependencies') licenses\n */\nexport const PackageLicenses = ({ metric }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>License</b>\n      </Typography>\n      <Divider />\n      <Typography className={classes.marginBottom} variant=\"h6\">\n        {metric.root}\n      </Typography>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>Dependency Licenses</b>\n      </Typography>\n      <Divider />\n\n      {Object.entries(metric?.all ?? {}).map(([key, value]) => {\n        return (\n          <ProgressBar\n            key={key}\n            value={Object.keys(value).length ?? 0}\n            total={metric.total}\n            label={key}\n            className={classes.bar}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nPackageLicenses.propTypes = {\n  metric: PropTypes.shape({\n      /** The total number of dependencies of the package */\n      total: PropTypes.number,\n      /** The license of the root package */\n    root: PropTypes.string,\n      /** key value object of package's dependencies' licenses\n       *\n       * ```\n       * all: {\n       *     MIT: {\n       *\n       *     }\n       * }\n       * ```\n       * */\n    all: PropTypes.object\n  }).isRequired\n};","export const PackageNotFound = ({package_name, package_version}) => {\n    return <div>\"{package_name}{package_version ? \" \" + package_version : \"\"}\" not found</div>;\n};","// React\nimport React  from \"react\";\nimport {Route, Routes, useParams} from \"react-router-dom\";\n\n// material-ui\nimport {CircularProgress} from \"@material-ui/core\";\n\n//api\nimport {usePackageMetadata} from \"features/misc/api\";\nimport {PackageOverview} from \"./PackageOverview\";\nimport {NotFound} from \"features/misc\";\nimport {PackageNotFound} from \"./PackageNotFound\";\nimport {NavigationLayout} from \"../../../components/Layout/NavigationLayout\";\n\n\n// The page that displays all analysis data\nexport const PackageRoutes = () => {\n    const params = useParams();\n    const metadata = usePackageMetadata(params.package_name, params[\"*\"])\n\n    if (metadata.isLoading) {\n        return (\n            <div className=\"w-full h-48 flex justify-center items-center\">\n                <CircularProgress />\n            </div>\n        );\n    }\n\n    if(!metadata.data) {\n        return (\n            <PackageNotFound package_name={params.package_name} package_version={params[\"*\"]} />\n        )\n    }\n\n    return (\n        <NavigationLayout>\n            <Routes>\n                <Route path=\"/:package_version\" element={<PackageOverview metadata={metadata.data.data.metadata ?? metadata.data.data.info}/>} />\n                <Route path=\"/\" element={<PackageOverview metadata={metadata.data.data.metadata ?? metadata.data.data.info}/>} />\n                <Route path=\"*\" status={404} element={<NotFound/>} />\n            </Routes>\n        </NavigationLayout>\n    );\n};","import {BrowserRouter, Route, Routes} from \"react-router-dom\";\nimport {Home} from \"features/home\";\nimport {NotFound} from \"features/misc\";\nimport {AdviseRoutes} from \"features/advise\";\nimport {PackageRoutes} from \"features/package\";\n\nexport const RouterConfig = () => {\n  return (\n      <BrowserRouter basename={\"/thoth-search\"}>\n          <Routes>\n            <Route exact path={\"/\"} element={<Home />} />\n            <Route exact path={\"advise/:analysis_id/*\"} element={<AdviseRoutes />} />\n            <Route path={\"package/:package_name/*\"} element={<PackageRoutes />}\n            />\n            <Route path=\"*\" status={404} element={<NotFound/>} />\n          </Routes>\n      </BrowserRouter>\n  );\n};\n\nexport default RouterConfig;\n","// material ui\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport { createTheme } from \"@material-ui/core/styles\";\n\nconst themeLight = createTheme({\n    palette: {\n        background: {\n            default: \"#f9f9f9\"\n        },\n        primary: {\n            light: \"#f5a733\",\n            main: \"#f39200\",\n            dark: \"#aa6600\"\n        },\n        secondary: {\n            light: \"#72cdee\",\n            main: \"#4fc1ea\",\n            dark: \"#3787a3\"\n        },\n        text: {\n            priamry: \"#363636\",\n            secondary: \"#999\"\n        }\n    },\n    typography: {\n        fontFamily: [\"open sans\", \"sans-serif\"],\n        h4: {\n            fontWeight: 700,\n            fontSize: \"3rem\",\n            color: \"#363636\",\n            lineHeight: 1.125\n        },\n        h5: {\n            fontWeight: 600,\n            fontSize: \"2rem\",\n            lineHeight: 1.125,\n            color: \"#363636\"\n        },\n        h6: {\n            fontWeight: 600,\n            fontSize: \"1.2rem\",\n            color: \"#444f60\",\n            lineHeight: 1.5\n        },\n\n        body1: {\n            fontWeight: 400,\n            fontSize: \"1.25rem\",\n            lineHeight: 1.25,\n            color: \"#000\"\n        },\n\n        body2: {\n            fontWeight: 400,\n            fontSize: \"1rem\",\n            lineHeight: 1.5,\n            color: \"#000\"\n        },\n        subtitle1: {\n            fontWeight: 400,\n            fontSize: \"1.25rem\",\n            lineHeight: 1.25,\n            color: \"#999\"\n        },\n\n        subtitle2: {\n            fontWeight: 400,\n            fontSize: \"1rem\",\n            lineHeight: 1.5,\n            color: \"#999\"\n        }\n    }\n});\n\n\nfunction Theme({children}) {\n    return (\n        <ThemeProvider theme={themeLight}>\n            <CssBaseline />\n            {children}\n        </ThemeProvider>\n    );\n}\n\nexport default Theme;\n","import * as React from \"react\";\n\nexport const StateContext = React.createContext(undefined);\nexport const DispatchContext = React.createContext(undefined);\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        default:\n            throw new Error(\"State dispatch error\")\n    }\n}\n\nexport const initState = {};\n\n\nexport default function Global({children}) {\n    // for state control\n    const [state, dispatch] = React.useReducer(reducer, initState);\n    return (\n        <StateContext.Provider value={state}>\n            <DispatchContext.Provider value={dispatch}>\n                {children}\n            </DispatchContext.Provider>\n        </StateContext.Provider>\n    );\n}\n","import * as React from 'react';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { QueryClientProvider } from 'react-query';\nimport { queryClient } from 'lib/react-query';\nimport RouterConfig from \"routes/RouterConfig\";\nimport {Button} from \"@material-ui/core\";\nimport Theme from \"styles/Theme\";\nimport Global from \"stores/Global\";\nimport {MainLayout} from \"components/Layout\";\n\nconst ErrorFallback = () => {\n    return (\n        <div>\n            <h2>Oops, something went wrong :( </h2>\n            <Button onClick={() => window.location.assign(window.location.origin)}>\n                Refresh\n            </Button>\n        </div>\n    );\n};\n\nexport const AppProvider = () => {\n    return (\n        <Theme>\n            <Global>\n                <ErrorBoundary FallbackComponent={ErrorFallback}>\n                    <QueryClientProvider client={queryClient}>\n                        <MainLayout>\n                            <RouterConfig />\n                        </MainLayout>\n                    </QueryClientProvider>\n                </ErrorBoundary>\n            </Global>\n        </Theme>\n    );\n};","import React  from \"react\";\nimport {AppProvider} from \"./providers/app\";\n\nfunction App() {\n  return (<AppProvider />);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}