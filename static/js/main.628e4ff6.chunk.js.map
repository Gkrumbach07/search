{"version":3,"sources":["styles/theme.js","navigation/NotFound.js","components/Shared/SearchBar.js","services/CONSTANTS.js","services/thothApi.js","pages/Home/Home.js","components/InfoCard/InfoCard.js","components/Shared/ProgressBar.js","components/Metrics/DependenciesMetric/MultipleDependenciesMetric.js","components/Metrics/DependenciesMetric/SingleDependenciesMetric.js","components/Shared/ErrorPage.js","components/Shared/LoadingErrorTemplate.js","components/Metrics/DependenciesMetric/index.js","components/Metrics/LicenseMetric/MultipleLicenseMetric.js","components/Metrics/LicenseMetric/SingleLicenseMetric.js","components/Metrics/LicenseMetric/index.js","components/Dashboard/PackageMetrics.js","components/Shared/IconText.js","utils/timeSince.js","components/Dashboard/PackageHeader.js","components/Shared/TabPanel.js","utils/recurseToRoot.js","config/networkOptions.js","components/Metrics/NetworkGraph.js","utils/Node.js","utils/Graph.js","utils/validatePackage.js","components/Dashboard/PackageDependencies.js","utils/produceMetrics.js","pages/Dashboard/Dashboard.js","navigation/RouterConfig.js","navigation/CONSTANTS.js","redux/reducer.js","App.js","index.js"],"names":["themeLight","createMuiTheme","palette","background","default","NotFound","text","Typography","variant","useStyles","makeStyles","theme","root","display","flexDirection","alignItems","flexGrow","SearchBar","onChange","label","helperText","error","classes","className","TextField","type","bar","e","target","value","THOTH","searchForPackage","name","version","axios","get","PYPI","thothGetDependencies","index","params","headers","accept","thothGetLatestVersion","timeout","then","res","data","versions","length","sorted","sort","a","b","compareVersions","package_version","includes","catch","flexFlow","marginTop","search","justifyContent","minWidth","description","marginBottom","spacing","maxWidth","textAlign","title","button","marginLeft","Home","history","useHistory","dispatch","useContext","DispatchContext","useState","setSearch","setError","handleSearch","console","log","splitSearch","split","failSearch","i","push","DASHBOARD","handleChange","Button","color","onClick","bullet","margin","transform","fontSize","pos","InfoCard","cardMeta","cardBody","Card","CardHeader","action","subheader","subTitle","CardContent","CustomLinearProgress","withStyles","height","borderRadius","colorPrimary","backgroundColor","grey","LinearProgress","gridTemplateColumns","gridGap","gridColumnStart","whiteSpace","overflow","textOverflow","end","ProgressBar","total","props","Tooltip","placement","header","flex","MultipleDependenciesMetric","metric","totalDependencies","all","direct","indirect","roots","gutterBottom","Divider","List","component","Object","entries","map","key","t","ListItem","ListItemText","primary","SingleDependenciesMetric","ErrorPage","align","customProgressRoot","CustomProgress","amount","note","CircularProgress","LoadingErrorTemplate","children","state","errorText","show404","loadingPage","undefined","DependenciesMetric","StateContext","metrics","dependencies","loading","init","chip","border","LicenseDisplay","totalLicenses","React","open","setOpen","keys","Collapse","in","unmountOnExit","k","v","Chip","LicenseMetric","deepError","more","setMore","licenses","reduce","sum","slice","Box","SingleLicenseMetric","MultipleLicenseMetric","MetricLayout","Grid","container","item","xs","sm","charAt","toUpperCase","IconText","icon","link","href","timeSince","date","seconds","Math","floor","Date","interval","num","titleRow","marginRight","linksRow","warning","PackageHeader","packageWarning","metadata","info","summary","license","releases","upload_time","p","TabPanel","other","role","hidden","id","aria-labelledby","recurseToRoot","start","edges","starting_edges","filter","edge","from","combined","nodes","forEach","path","recurse","Set","selection","to","options","manipulation","enabled","editNode","nodeData","callback","fixed","x","interaction","hover","hoverConnectedEdges","selectConnectedEdges","selectable","chosen","smooth","arrowStrikethrough","arrows","shape","size","borderWidth","labelHighlightBold","font","strokeWidth","physics","hierarchicalRepulsion","damping","springLength","solver","minVelocity","canvas","NetworkGraph","searchText","visJsRef","useRef","useEffect","network","current","Network","rootNode","updateOnly","networkCanvas","document","getElementById","getElementsByTagName","changeCursor","newCursorStyle","style","cursor","on","body","query","possible_results","node","selected","unselected_edges","unselected_nodes","concat","ref","Node","this","adjacents","add","has","Array","Graph","Map","vertex","set","source","destination","sourceNode","destinationNode","addAdjacent","isAdjacent","first","visited","visitList","pop","shift","getAdjacents","adj","newPath","nextPath","findPath","paths","findAllPaths","validatePackage","r","thothVersion","graph","padding","PackageDependencies","visGraph","setVisGraph","bfs","graphSearch","useFormatVisGraph","thothError","Paper","DataSet","paddingRight","paddingLeft","Dashboard","location","useParams","useLocation","setValue","starts","setStarts","packages","URLSearchParams","s","package","startNodes","Promise","payload","useSetRoots","depth","directDependencies","visitedDirectDependencies","addVertex","requires_dist","adjacent","addEdge","directHaveVisited","response","status","thoth","useCreateGraph","useComputeMetrics","packageError","Tabs","event","newValue","indicatorColor","textColor","Tab","PackageMetrics","RouterConfig","exact","reducer","initState","createContext","App","useReducer","CssBaseline","basename","Provider","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.628e4ff6.chunk.js","sourcesContent":["import { createMuiTheme } from \"@material-ui/core/styles\";\n\nexport const themeLight = createMuiTheme({\n  palette: {\n    background: {\n      default: \"#f9f9f9\"\n    }\n  }\n});\n","import { Typography } from \"@material-ui/core\";\n\nexport const NotFound = ({ text }) => {\n  return <Typography variant=\"h2\">404: {text ?? \"page\"} not found!</Typography>;\n};\n\nexport default NotFound;\n","// material ui\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// react\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    flexGrow: 1\n  }\n}));\n\nconst SearchBar = ({ onChange, label, helperText, error = false }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <TextField\n        type=\"search\"\n        variant=\"outlined\"\n        label={label}\n        className={classes.bar}\n        onChange={e => onChange(e.target.value)}\n        helperText={helperText}\n        error={error}\n      />\n    </div>\n  );\n};\n\nSearchBar.propTypes = {\n  label: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  helperText: PropTypes.string,\n  error: PropTypes.bool\n};\n\nexport default SearchBar;\n","export const PYPI = \"https://pypi.org/pypi\";\nexport const THOTH = \"https://api.moc.thoth-station.ninja/api/v1\";\n","import axios from \"axios\";\nimport { PYPI, THOTH } from \"./CONSTANTS\";\nimport compareVersions from \"tiny-version-compare\";\n\n// interceptors\n// axios.interceptors.response.use(null, (error) => {\n//   if (error.config && error.response && error.response.status === 401) {\n//     return updateToken().then((token) => {\n//       error.config.headers.xxxx <= set the token\n//       return axios.request(config);\n//     });\n//   }\n//\n//   return Promise.reject(error);\n// });\n\n// pypi\nexport const searchForPackage = (name, version) => {\n  return axios.get(\n    PYPI + \"/\" + name + (version ? \"/\" + version : \"\") + \"/json\"\n  );\n};\n\n// thoth\nexport const thothGetDependencies = (\n  name,\n  version,\n  index = \"https://pypi.org/simple\"\n) => {\n  return axios.get(THOTH + \"/python/package/dependencies\", {\n    params: {\n      name: name,\n      version: version,\n      index: index\n    },\n    //timeout: 5000,\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothGetLatestVersion = (name, version) => {\n  return axios\n    .get(THOTH + \"/python/package/versions\", {\n      params: {\n        name: name\n      },\n      timeout: 5000,\n      headers: {\n        accept: \"application/json\"\n      }\n    })\n    .then(res => {\n      if (res.data.versions.length === 0) {\n        return null;\n      } else {\n        const sorted = res.data.versions.sort(function(a, b) {\n          return compareVersions(a.package_version, b.package_version);\n        });\n\n        // compare to version if supplied\n        if (version && sorted.includes(version)) {\n          return version;\n        }\n\n        return sorted[sorted.length - 1].package_version;\n      }\n    })\n    .catch(() => {\n      return null;\n    });\n};\n","// react\nimport React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n// material-ui\nimport { Typography, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// local\nimport { DASHBOARD } from \"navigation/CONSTANTS\";\nimport SearchBar from \"components/Shared/SearchBar\";\n\n// redux\nimport { DispatchContext } from \"App\";\n\n// api\nimport { searchForPackage } from \"services/thothApi\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\",\n    alignItems: \"center\",\n    marginTop: \"20%\"\n  },\n  search: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"stretch\",\n    minWidth: \"50%\"\n  },\n  description: {\n    marginBottom: theme.spacing(6),\n    maxWidth: \"50%\",\n    textAlign: \"center\"\n  },\n  title: {\n    marginBottom: theme.spacing(1)\n  },\n  button: {\n    marginLeft: theme.spacing(2)\n  }\n}));\n\nconst Home = () => {\n  const history = useHistory();\n  const classes = useStyles();\n  const dispatch = useContext(DispatchContext);\n\n  const [search, setSearch] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleChange = e => {\n    setSearch(e);\n    if (error !== \"\") {\n      setError(\"\");\n    }\n  };\n\n  const handleSearch = async () => {\n    if (search !== \"\") {\n      // if github\n      if (search.includes(\"github.com\")) {\n        console.log(\"run thoth analyis\");\n      } else {\n        // split the search query\n        const splitSearch = search.split(\",\");\n        let failSearch = true;\n\n        // check if all packages searched for a valid packages\n        for (var i = 0; i < splitSearch.length; i++) {\n          const valid = await searchForPackage(splitSearch[i]).catch(() => {\n            // if invalid set error and return false\n            setError(\"No results\");\n            return false;\n          });\n\n          // if the package was invalid then fail the whole search query\n          if (valid === false) {\n            failSearch = false;\n            return;\n          }\n        }\n\n        // only naviagte to dashbaord if the search query is valid\n        if (failSearch) {\n          dispatch({\n            type: \"reset\"\n          });\n          if (splitSearch.length === 1) {\n            history.push(DASHBOARD + \"/\" + splitSearch[0]);\n          }\n          // if there are multiple packages then use query params\n          else {\n            history.push(DASHBOARD + \"?packages=\" + splitSearch);\n          }\n        }\n      }\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h4\" className={classes.title}>\n        <b>Thoth Search</b>\n      </Typography>\n      <Typography variant=\"body1\" className={classes.description}>\n        Use this search box to run analysis on a specific Python package or\n        provide a GitHub link to run analyis on a Python ecosystem. A valid\n        ecosystem will have a properly formatted Pipfile and Pipfile.lock.\n      </Typography>\n      <div className={classes.search}>\n        <SearchBar\n          label=\"Search for a Python package\"\n          onChange={e => handleChange(e)}\n          helperText={error}\n          error={error !== \"\"}\n        />\n\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => handleSearch()}\n          className={classes.button}\n        >\n          <b>Search</b>\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\"\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\n\nconst InfoCard = ({ cardMeta, cardBody }) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root}>\n      <CardHeader\n        action={cardMeta.action}\n        title={cardMeta.title}\n        subheader={cardMeta.subTitle}\n      />\n      <CardContent>{cardBody}</CardContent>\n    </Card>\n  );\n};\n\nInfoCard.propTypes = {\n  cardMeta: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    subTitle: PropTypes.string,\n    action: PropTypes.element\n  }),\n  cardBody: PropTypes.element\n};\n\nexport default InfoCard;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { LinearProgress, Typography, Tooltip } from \"@material-ui/core\";\n\nconst CustomLinearProgress = withStyles(theme => ({\n  root: {\n    height: 10,\n    borderRadius: 5\n  },\n  colorPrimary: {\n    backgroundColor:\n      theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700]\n  },\n  bar: {\n    borderRadius: 5,\n    backgroundColor: \"#1a90ff\"\n  }\n}))(LinearProgress);\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(6,1fr)\",\n    alignItems: \"center\",\n    gridGap: theme.spacing(1)\n  },\n  label: {\n    gridColumnStart: 1,\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\"\n  },\n  value: {\n    gridColumnStart: 2,\n    textAlign: \"end\"\n  },\n  bar: {\n    gridColumnStart: \"span 3\"\n  },\n  end: {\n    gridColumnStart: 6\n  }\n}));\n\nconst ProgressBar = ({ value, total, label, action, ...props }) => {\n  const classes = useStyles();\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      <Tooltip title={label} placement=\"left\">\n        <Typography variant=\"body2\" className={classes.label}>\n          {label}\n        </Typography>\n      </Tooltip>\n\n      <Typography className={classes.value} variant=\"body2\">\n        {value}\n      </Typography>\n\n      <CustomLinearProgress\n        variant=\"determinate\"\n        value={total > 0 ? (value / total) * 100 : 0}\n        className={classes.bar}\n      />\n      <div className={classes.end}>{action ?? null}</div>\n    </div>\n  );\n};\n\nProgressBar.propTypes = {\n  value: PropTypes.number.isRequired,\n  total: PropTypes.number.isRequired,\n  label: PropTypes.string\n};\n\nexport default ProgressBar;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport {\n  Typography,\n  Divider,\n  List,\n  ListItem,\n  ListItemText\n} from \"@material-ui/core/\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  header: {\n    marginTop: theme.spacing(3)\n  },\n  flex: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n}));\n\nconst MultipleDependenciesMetric = ({ metric }) => {\n  const classes = useStyles();\n  const totalDependencies =\n    (metric.all.direct ?? 0) +\n    (metric.all.indirect ?? 0) +\n    (metric.all.roots ?? 0);\n\n  return (\n    <div>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>All Packages</b>\n      </Typography>\n      <Divider className={classes.bar} />\n      <ProgressBar\n        value={metric.all.roots ?? 0}\n        total={totalDependencies}\n        label={\"Root\"}\n        className={classes.bar}\n      />\n      <ProgressBar\n        value={metric.all.direct ?? 0}\n        total={totalDependencies}\n        label={\"Direct\"}\n        className={classes.bar}\n      />\n      <ProgressBar\n        value={metric.all.indirect ?? 0}\n        total={totalDependencies}\n        label={\"Indirect\"}\n      />\n      <Typography variant=\"body2\" className={classes.header} gutterBottom>\n        <b>Root Packages</b>\n      </Typography>\n      <Divider className={classes.bar} />\n      <List component=\"nav\">\n        {Object.entries(metric.roots).map(([key, value], i) => {\n          const t =\n            (metric.roots[key].direct ?? 0) + (metric.roots[key].indirect ?? 0);\n          return (\n            <div key={key}>\n              <ListItem>\n                <ListItemText primary={key} />\n                <div className={classes.flex}>\n                  <ProgressBar\n                    value={metric.roots[key].direct ?? 0}\n                    total={t}\n                    label={\"Direct\"}\n                    className={classes.bar}\n                  />\n                  <ProgressBar\n                    value={metric.roots[key].indirect ?? 0}\n                    total={t}\n                    label={\"Indirect\"}\n                  />\n                </div>\n              </ListItem>\n              <Divider variant={\"middle\"} className={classes.bar} />\n            </div>\n          );\n        })}\n      </List>\n    </div>\n  );\n};\n\nMultipleDependenciesMetric.propTypes = {\n  metric: PropTypes.shape({\n    all: PropTypes.shape({\n      direct: PropTypes.number,\n      indirect: PropTypes.number,\n      roots: PropTypes.number\n    })\n  })\n};\n\nexport default MultipleDependenciesMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst SingleDependenciesMetric = ({ metric }) => {\n  const classes = useStyles();\n  const totalDependencies =\n    (metric.all.direct ?? 0) + (metric.all.indirect ?? 0);\n\n  return (\n    <div>\n      <ProgressBar\n        value={metric.all.direct ?? 0}\n        total={totalDependencies}\n        label={\"Direct\"}\n        className={classes.bar}\n      />\n\n      <ProgressBar\n        value={metric.all.indirect ?? 0}\n        total={totalDependencies}\n        label={\"Indirect\"}\n      />\n    </div>\n  );\n};\n\nSingleDependenciesMetric.propTypes = {\n  metric: PropTypes.shape({\n    all: PropTypes.shape({\n      direct: PropTypes.number,\n      indirect: PropTypes.number\n    })\n  })\n};\n\nexport default SingleDependenciesMetric;\n","import { Typography } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\nconst ErrorPage = ({ text }) => {\n  return (\n    <Typography align=\"center\" color=\"error\" variant=\"body1\">\n      {text}\n    </Typography>\n  );\n};\n\nErrorPage.propTypes = {\n  text: PropTypes.string.isRequired\n};\n\nexport default ErrorPage;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material ui\nimport { CircularProgress, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// local\nimport ErrorPage from \"components/Shared/ErrorPage\";\nimport NotFound from \"navigation/NotFound\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n  customProgressRoot: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }\n}));\n\nconst CustomProgress = ({ amount, note }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.customProgressRoot}>\n      <CircularProgress\n        variant={amount ? \"determinate\" : \"indeterminate\"}\n        value={amount ?? 0}\n      />\n      {note ? (\n        <Typography align=\"center\" variant=\"body1\">\n          {note}\n        </Typography>\n      ) : null}\n    </div>\n  );\n};\n\nconst LoadingErrorTemplate = ({\n  children,\n  state,\n  errorText,\n  show404,\n  loadingPage,\n  amount,\n  note\n}) => {\n  return (\n    <>\n      {state === \"error\" ? (\n        show404 ? (\n          <NotFound text={show404} />\n        ) : (\n          <ErrorPage text={errorText ?? \"A unknown error occured\"} />\n        )\n      ) : state === undefined ? ( // loading if undefined\n        loadingPage ?? <CustomProgress amount={amount} note={note} />\n      ) : (\n        children\n      )}\n    </>\n  );\n};\n\nLoadingErrorTemplate.propTypes = {\n  state: PropTypes.any\n};\n\nexport default LoadingErrorTemplate;\n","// react\nimport { useContext } from \"react\";\n\n// DependenciesMetric\nimport MultipleDependenciesMetric from \"./MultipleDependenciesMetric\";\nimport SingleDependenciesMetric from \"./SingleDependenciesMetric\";\n\n// Shared\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst DependenciesMetric = () => {\n  const state = useContext(StateContext);\n\n  return (\n    <LoadingErrorTemplate\n      state={state.error ? \"error\" : state.metrics.dependencies.all.roots}\n      amount={state?.loading?.init?.amount}\n      note={state?.loading?.init?.note}\n    >\n      {state.roots.length === 1 ? (\n        <SingleDependenciesMetric metric={state.metrics.dependencies} />\n      ) : (\n        <MultipleDependenciesMetric metric={state.metrics.dependencies} />\n      )}\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default DependenciesMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Typography,\n  Divider,\n  Collapse,\n  Chip,\n  Button,\n  Box\n} from \"@material-ui/core\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\n\n// local\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  marginBottom: {\n    marginBottom: theme.spacing(2)\n  },\n  chip: {\n    margin: theme.spacing(0.5)\n  },\n  border: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst LicenseDisplay = ({ name, value, totalLicenses }) => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  return (\n    <div>\n      <div className={classes.flex} onClick={() => setOpen(!open)}>\n        <ProgressBar\n          key={name}\n          value={Object.keys(value).length ?? 0}\n          total={totalLicenses}\n          label={name}\n          className={classes.bar}\n          action={open ? <ExpandLess /> : <ExpandMore />}\n        />\n      </div>\n\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <div className={classes.border}>\n          {Object.entries(value)\n            .sort((a, b) => {\n              return a[1] - b[1];\n            })\n            .map(([k, v]) => {\n              return (\n                <Chip\n                  key={k}\n                  className={classes.chip}\n                  color={\n                    v === 0 ? \"primary\" : v === 1 ? \"secondary\" : \"default\"\n                  }\n                  label={k}\n                  onClick={null}\n                />\n              );\n            })}\n        </div>\n        <Divider />\n      </Collapse>\n    </div>\n  );\n};\n\nconst LicenseMetric = ({ metric, deepError }) => {\n  const classes = useStyles();\n\n  const [more, setMore] = React.useState(false);\n\n  const licenses = Object.entries(metric?.all ?? {}).sort((a, b) => {\n    return Object.keys(b[1]).length - Object.keys(a[1]).length;\n  });\n\n  const totalLicenses = Object.entries(metric?.all ?? {}).reduce((sum, key) => {\n    return sum + Object.keys(key[1]).length;\n  }, 0);\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>Dependency Licenses</b>\n      </Typography>\n      <Divider />\n      <LoadingErrorTemplate\n        state={deepError ? \"error\" : metric.all}\n        errorText=\"Could not run analysis on dependencies.\"\n      >\n        {licenses.slice(0, 10).map(([key, value]) => {\n          return (\n            <LicenseDisplay\n              key={key}\n              name={key}\n              value={value}\n              totalLicenses={totalLicenses}\n            />\n          );\n        })}\n\n        <Collapse in={more} timeout=\"auto\" unmountOnExit>\n          {licenses.slice(10).map(([key, value]) => {\n            return (\n              <LicenseDisplay\n                key={key}\n                name={key}\n                value={value}\n                totalLicenses={totalLicenses}\n              />\n            );\n          })}\n        </Collapse>\n        <Box textAlign=\"center\">\n          <Button onClick={() => setMore(!more)} color=\"primary\">\n            {more ? \"Less\" : \"More\"}\n          </Button>\n        </Box>\n      </LoadingErrorTemplate>\n    </div>\n  );\n};\n\nLicenseMetric.propTypes = {\n  metric: PropTypes.shape({\n    root: PropTypes.string,\n    all: PropTypes.object\n  }).isRequired\n};\n\nexport default LicenseMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Typography, Divider } from \"@material-ui/core\";\n\n// local\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  marginBottom: {\n    marginBottom: theme.spacing(2)\n  }\n}));\n\nconst SingleLicenseMetric = ({ metric }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>License</b>\n      </Typography>\n      <Divider />\n      <Typography className={classes.marginBottom} variant=\"h6\">\n        {metric.root}\n      </Typography>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>Dependency Licenses</b>\n      </Typography>\n      <Divider />\n\n      {Object.entries(metric?.all ?? {}).map(([key, value]) => {\n        return (\n          <ProgressBar\n            key={key}\n            value={Object.keys(value).length ?? 0}\n            total={metric.total}\n            label={key}\n            className={classes.bar}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nSingleLicenseMetric.propTypes = {\n  metric: PropTypes.shape({\n    root: PropTypes.string,\n    all: PropTypes.object\n  }).isRequired\n};\n\nexport default SingleLicenseMetric;\n","// react\nimport { useContext } from \"react\";\n\n// DependenciesMetric\nimport MultipleLicenseMetric from \"./MultipleLicenseMetric\";\nimport SingleLicenseMetric from \"./SingleLicenseMetric\";\n\n// Shared\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst LicenseMetric = () => {\n  const state = useContext(StateContext);\n\n  return (\n    <LoadingErrorTemplate\n      state={state.error ? \"error\" : state.metrics.licenses.total}\n      amount={state?.loading?.init?.amount}\n      note={state?.loading?.init?.note}\n    >\n      {state.roots.length === 1 ? (\n        <SingleLicenseMetric metric={state.metrics.licenses} />\n      ) : (\n        <MultipleLicenseMetric metric={state.metrics.licenses} />\n      )}\n    </LoadingErrorTemplate>\n  );\n};\n\nLicenseMetric.propTypes = {};\n\nexport default LicenseMetric;\n","// React\nimport React, { useContext } from \"react\";\n\n// local components\nimport InfoCard from \"components/InfoCard/InfoCard\";\nimport DependenciesMetric from \"components/Metrics/DependenciesMetric\";\nimport LicenseMetric from \"components/Metrics/LicenseMetric\";\n\n// material-ui\nimport Grid from \"@material-ui/core/Grid\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst MetricLayout = () => {\n  const state = useContext(StateContext);\n\n  return (\n    <Grid container spacing={3}>\n      {Object.keys(state.metrics).map(key => {\n        return (\n          <Grid item xs={12} sm={6} key={key}>\n            <InfoCard\n              cardMeta={{\n                title: key.charAt(0).toUpperCase() + key.slice(1)\n              }}\n              cardBody={\n                key === \"dependencies\" ? (\n                  <DependenciesMetric />\n                ) : key === \"licenses\" ? (\n                  <LicenseMetric />\n                ) : null\n              }\n            />\n          </Grid>\n        );\n      })}\n    </Grid>\n  );\n};\n\nexport default MetricLayout;\n","// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// react\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  }\n}));\n\nconst IconText = ({ text, icon, link, ...props }) => {\n  const classes = useStyles();\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      {icon}\n      <Typography href={link ? link : null} variant=\"body2\" align=\"center\">\n        {text}\n      </Typography>\n    </div>\n  );\n};\n\nexport default IconText;\n\nIconText.propTypes = {\n  text: PropTypes.string.isRequired,\n  icon: PropTypes.element.isRequired,\n  link: PropTypes.string\n};\n","export function timeSince(date) {\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = seconds / 31536000;\n\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" year\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 2592000;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" month\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 86400;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" day\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 3600;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" hour\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 60;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" minute\" + (num !== 1 ? \"s\" : \"\");\n  }\n  const num = Math.floor(seconds);\n  return num + \" second\" + (num !== 1 ? \"s\" : \"\");\n}\n","// React\nimport React, { useContext } from \"react\";\n\n// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\n\n// local\nimport IconText from \"components/Shared/IconText\";\n\n// utils\nimport { timeSince } from \"utils/timeSince\";\n\n// redux\nimport { StateContext } from \"App\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n  titleRow: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(1)\n  },\n  marginLeft: {\n    marginLeft: theme.spacing(2)\n  },\n  marginRight: {\n    marginRight: theme.spacing(2)\n  },\n  linksRow: {\n    display: \"flex\",\n    marginBottom: theme.spacing(3)\n  },\n  warning: {\n    display: \"flex\"\n  }\n}));\n\nconst PackageHeader = () => {\n  const classes = useStyles();\n  const { roots, packageWarning } = useContext(StateContext);\n\n  return (\n    <div>\n      <div className={classes.titleRow}>\n        <Typography variant=\"h4\">\n          <b>{roots[0]?.metadata?.info?.name}</b>\n        </Typography>\n        <Typography className={classes.marginLeft} variant=\"subtitle1\">\n          v{roots[0]?.metadata?.info?.version ?? \"NaN\"}\n        </Typography>\n      </div>\n\n      <Typography gutterBottom variant=\"body1\">\n        {roots[0]?.metadata?.info?.summary ?? \"NaN\"}\n      </Typography>\n      <div className={classes.linksRow}>\n        <IconText\n          text={roots[0]?.metadata?.info?.license ?? \"NaN\"}\n          icon={<GavelIcon />}\n        />\n        <IconText\n          className={classes.marginLeft}\n          text={\n            \"Latest version published \" +\n            timeSince(\n              new Date(\n                roots[0]?.metadata?.releases?.[\n                  roots[0]?.metadata?.info?.version\n                ]?.[0]?.upload_time\n              )\n            ) +\n            \" ago.\"\n          }\n          icon={<BookmarkIcon />}\n        />\n      </div>\n      {packageWarning && packageWarning.length !== 0\n        ? packageWarning.map(p => {\n            return (\n              <Typography\n                gutterBottom\n                color={\"error\"}\n                className={classes.marginRight}\n                variant=\"body2\"\n              >\n                Dependency <i>{packageWarning[0].value.label}</i>{\" \"}\n                <i>{packageWarning[0].value.metadata.info.version}</i> is\n                currently not supported by Thoth.\n              </Typography>\n            );\n          })\n        : null}\n    </div>\n  );\n};\n\nexport default PackageHeader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Box from \"@material-ui/core/Box\";\n\nconst TabPanel = props => {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </div>\n  );\n};\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nexport default TabPanel;\n","export function recurseToRoot(start, end, edges) {\n  // get edges coming off of node *start*\n  const starting_edges = edges.filter(edge => start.includes(edge.from));\n\n  // recurse from each starting edge to root (0)\n  // note there could be multiple starting points\n  let combined = { nodes: [], edges: [] };\n  starting_edges.forEach(edge => {\n    const path = recurse(edge, { nodes: [], edges: [] }, edges, end);\n    combined = {\n      nodes: [...new Set([...path.nodes, ...combined.nodes])],\n      edges: [...new Set([...path.edges, ...combined.edges])]\n    };\n  });\n\n  return combined;\n}\n\nfunction recurse(edge, selection, edges, end) {\n  // cycle or allready visited OR\n  if (selection.edges.includes(edge.id)) {\n    return selection;\n  }\n\n  // add the edge id and nodes at either end of edge to selection\n  selection.nodes.push(edge.from, edge.to);\n  selection.edges.push(edge.id);\n\n  // cycle or allready visited OR\n  if (edge.to === end) {\n    return selection;\n  } else {\n    // find the next edges to go\n    // combine voth recursion branches together while removing dups\n    // return combined branches as one\n    let combined = { nodes: [], edges: [] };\n    edges\n      .filter(e => e.from === edge.to)\n      .forEach(e => {\n        const path = recurse(e, selection, edges, end);\n        combined = {\n          nodes: [...new Set([...path.nodes, ...combined.nodes])],\n          edges: [...new Set([...path.edges, ...combined.edges])]\n        };\n      });\n\n    return combined;\n  }\n}\n","export const options = {\n  manipulation: {\n    enabled: false,\n    editNode: function(nodeData, callback) {\n      nodeData.fixed = !nodeData.fixed.x;\n      callback(nodeData);\n    }\n  },\n  interaction: {\n    hover: true,\n    hoverConnectedEdges: false,\n    selectConnectedEdges: false,\n    selectable: false\n  },\n  edges: {\n    chosen: false,\n    smooth: false,\n    color: {\n      color: \"#5c6470\"\n    },\n    arrowStrikethrough: false,\n    arrows: {\n      from: {\n        enabled: true,\n        type: \"triangle\"\n      }\n    }\n  },\n  nodes: {\n    chosen: false,\n    color: {\n      background: \"#5c6470\",\n      border: \"#fff\",\n      hover: {\n        background: \"#f39200\",\n        border: \"#fff\"\n      }\n    },\n    shape: \"dot\",\n    size: 10,\n    borderWidth: 2,\n    labelHighlightBold: false,\n    font: {\n      color: \"#393e46\",\n      strokeWidth: 2,\n      size: 15\n    }\n  },\n  physics: {\n    hierarchicalRepulsion: {\n      damping: 0.1,\n      springLength: 200\n    },\n    solver: \"hierarchicalRepulsion\",\n    minVelocity: 0.15\n  }\n};\n","// react\nimport React, { useEffect, useRef } from \"react\";\n\n// utils and configs\nimport { recurseToRoot } from \"utils/recurseToRoot\";\nimport { options } from \"config/networkOptions\";\n\n// vis-network\nimport { Network } from \"vis-network/standalone/esm/vis-network\";\n\n// material ui\nimport SearchBar from \"components/Shared/SearchBar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// styling\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\"\n  },\n  canvas: {\n    flex: \"1 1 auto\",\n    height: \"75vh\"\n  }\n}));\n\nconst NetworkGraph = ({ data, searchText, root, ...props }) => {\n  const visJsRef = useRef(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    const network =\n      visJsRef.current && new Network(visJsRef.current, data, options);\n\n    // set root node to have specific color\n    const rootNode = data.nodes.get(root);\n    rootNode.color = \"#4fc1ea\";\n    rootNode.font = { color: \"#4fc1ea\", strokeWidth: 3, size: 20 };\n    data.nodes.updateOnly(rootNode);\n\n    // change curser when hovering and grabbing\n    // Get the canvas HTML element\n    var networkCanvas = document\n      .getElementById(\"mynetwork\")\n      .getElementsByTagName(\"canvas\")[0];\n\n    // changes the curser graphic depedning on where and what the mouse is doing\n    function changeCursor(newCursorStyle) {\n      networkCanvas.style.cursor = newCursorStyle;\n    }\n    network.on(\"hoverNode\", function() {\n      changeCursor(\"grab\");\n    });\n    network.on(\"blurNode\", function() {\n      changeCursor(\"default\");\n    });\n    network.on(\"dragStart\", function() {\n      changeCursor(\"grabbing\");\n    });\n    network.on(\"dragging\", function() {\n      changeCursor(\"grabbing\");\n    });\n    network.on(\"dragEnd\", function() {\n      changeCursor(\"grab\");\n    });\n\n    // fix (stick in place) node when done dragging\n    network.on(\"dragEnd\", function(params) {\n      if (params.nodes.length !== 0) {\n        network.editNode(params.nodes[0]);\n      }\n    });\n\n    // un stick node if already stuck\n    network.on(\"dragStart\", function(params) {\n      // check if node has not been touched or is fixed\n      // if fixed then un fix\n      if (\n        params.nodes.length !== 0 &&\n        network.body.nodes[params.nodes[0]].options.x !== undefined &&\n        network.body.nodes[params.nodes[0]].options.x\n      ) {\n        // un fix node\n        network.editNode(params.nodes[0]);\n      }\n    });\n  }, [visJsRef, data, root]);\n\n  // recursivly finds all paths from search result to root\n  const handleSearch = (query, data) => {\n    // clear selection if empty search bar\n    data.nodes.updateOnly(\n      data.nodes.get().map(e => {\n        if (e.id !== root) {\n          e[\"color\"] = options.nodes.color;\n          e[\"font\"] = options.nodes.font;\n        }\n        return e;\n      })\n    );\n\n    // reset edge colors\n    data.edges.updateOnly(\n      data.edges.get().map(e => {\n        e[\"color\"] = options.edges.color;\n        return e;\n      })\n    );\n\n    if (query === \"\") {\n      // reset node colors\n      return;\n    }\n\n    // use input text to find possible results\n    let possible_results = data.nodes.get({\n      filter: function(node) {\n        return node.label.includes(query);\n      }\n    });\n\n    // recurse through possible results\n    const selected = recurseToRoot(\n      possible_results.map(node => node.id),\n      root,\n      data.edges.map(e => e)\n    );\n\n    // grey out non search results\n    // nodes that are not in search results\n    const unselected_edges = data.edges\n      .get()\n      .filter(edge => !selected.edges.includes(edge.id))\n      .map(e => {\n        e[\"color\"] = { color: \"#e3e5e8\" };\n        return e;\n      });\n\n    // edges that are not in search results\n    const unselected_nodes = data.nodes\n      .get()\n      .filter(node => !selected.nodes.includes(node.id))\n      .map(e => {\n        if (e.id !== root) {\n          e[\"color\"] = { background: \"#e3e5e8\" };\n          e[\"font\"] = { color: \"#e3e5e8\", strokeWidth: 2, size: 15 };\n        }\n        return e;\n      });\n\n    // set searched nodes to a different color\n    possible_results = possible_results.map(e => {\n      if (e.id !== root) {\n        e[\"color\"] = { background: \"#f39200\" };\n      }\n      return e;\n    });\n\n    // update nodes and edges in the dataset\n    data.nodes.updateOnly(unselected_nodes.concat(possible_results));\n    data.edges.updateOnly(unselected_edges);\n  };\n\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      <SearchBar\n        label=\"Filter packages\"\n        onChange={text => handleSearch(text, data)}\n      />\n      <div ref={visJsRef} id=\"mynetwork\" className={classes.canvas} />\n    </div>\n  );\n};\n\nexport default NetworkGraph;\n","/**\n * Graph node/vertex that hold adjacencies nodes\n * For performance, uses a HashSet instead of array for adjacents.\n */\nexport class Node {\n  constructor(key, value) {\n    this.adjacents = new Set(); // adjacency list\n    this.key = key; // key\n    this.value = value;\n  }\n\n  /**\n   * Add node to adjacency list\n   * Runtime: O(1)\n   * @param {Node} node\n   */\n  addAdjacent(node) {\n    this.adjacents.add(node);\n  }\n\n  /**\n   * Check if a Node is adjacent to other\n   * Runtime: O(1)\n   * @param {Node} node\n   */\n  isAdjacent(node) {\n    return this.adjacents.has(node);\n  }\n\n  /**\n   * Get all adjacent nodes\n   */\n  getAdjacents() {\n    return Array.from(this.adjacents);\n  }\n}\n","import { Node } from \"utils/Node\";\n\n/**\n * Graph data structure implemented with an adjacent list\n */\nexport class Graph {\n  constructor() {\n    this.nodes = new Map();\n  }\n\n  /**\n   * Add a node to the graph.\n   */\n  addVertex(key, value) {\n    if (this.nodes.has(key)) {\n      return this.nodes.get(key);\n    }\n\n    const vertex = new Node(key, value);\n    this.nodes.set(key, vertex);\n    return vertex;\n  }\n\n  /**\n   * Create a connection between the source node and the destination node.\n   * If the nodes don't exist, then it will make them on the fly.\n   */\n  addEdge(source, destination) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n\n    sourceNode.addAdjacent(destinationNode);\n\n    return [sourceNode, destinationNode];\n  }\n\n  /**\n   * True if two nodes are adjacent.\n   */\n  areAdjacents(source, destination) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n\n    if (sourceNode && destinationNode) {\n      return sourceNode.isAdjacent(destinationNode);\n    }\n\n    return false;\n  }\n\n  /**\n   * Generic graph search where we can pass a bfs or dfs\n   */\n  *graphSearch(first, type = \"bfs\") {\n    const visited = new Map();\n    const visitList = [];\n\n    visitList.push(first);\n\n    while (visitList.length !== 0) {\n      const node = type === \"dfs\" ? visitList.pop() : visitList.shift();\n      if (node && !visited.has(node)) {\n        yield node;\n        visited.set(node);\n        node.getAdjacents().forEach(adj => visitList.push(adj));\n      }\n    }\n  }\n\n  /**\n   * Find a path between source and destination\n   * It might not be the optimal path\n   */\n  findPath(source, destination, path = new Map()) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n    const newPath = new Map(path);\n\n    if (!destinationNode || !sourceNode) return [];\n\n    newPath.set(sourceNode);\n\n    if (source === destination) {\n      return Array.from(newPath.keys());\n    }\n\n    // eslint-disable-next-line no-restricted-syntax\n    for (const node of sourceNode.getAdjacents()) {\n      if (!newPath.has(node)) {\n        const nextPath = this.findPath(node.value, destination, newPath);\n        if (nextPath.length) {\n          return nextPath;\n        }\n      }\n    }\n\n    return [];\n  }\n\n  /**\n   * Find all paths from source to destination\n   */\n  findAllPaths(source, destination, path = new Map()) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n    const newPath = new Map(path);\n\n    if (!destinationNode || !sourceNode) return [];\n\n    newPath.set(sourceNode);\n\n    if (source === destination) {\n      return [Array.from(newPath.keys())];\n    }\n\n    const paths = [];\n    sourceNode.getAdjacents().forEach(node => {\n      if (!newPath.has(node)) {\n        const nextPaths = this.findAllPaths(node.value, destination, newPath);\n        nextPaths.forEach(nextPath => paths.push(nextPath));\n      }\n    });\n    return paths;\n  }\n}\n","// API\nimport { searchForPackage, thothGetLatestVersion } from \"services/thothApi\";\n\n// utils\nimport compareVersions from \"tiny-version-compare\";\n\n// return null if no packages\n// return metadata if package exists\n// return metadata of requested package\n// \t\tand thoth latest version and error\n//\t\tif thoth not up to date or n/a\nexport async function validatePackage(name, version) {\n  //if the package or version doesnt exists, then get it\n  return await searchForPackage(name, version)\n    .then(async r => {\n      // check if thoth is up to data for package\n      return await thothGetLatestVersion(name, version)\n        .then(v => {\n          // if thoth does not have any refrence to package\n          if (v === null) {\n            return {\n              metadata: r.data,\n              error:\n                \"Thoth currently does not support '\" + r.data.info.name + \"'.\"\n            };\n          }\n          // thoth does not have the latest but has a version\n          else if (compareVersions(r.data.info.version, v) > 0) {\n            return {\n              metadata: r.data,\n              thothVersion: v,\n              error:\n                \"Thoth currently supports '\" +\n                r.data.info.name +\n                \"' up to version \" +\n                v +\n                \", while the most recent version of '\" +\n                r.data.info.name +\n                \"' is \" +\n                r.data.info.version +\n                \".\"\n            };\n          }\n          // thoth is up to date with the version\n          else {\n            return {\n              metadata: r.data\n            };\n          }\n        })\n        .catch(() => {\n          // thoth ran into an error unlreated to the package\n          return null;\n        });\n    })\n    .catch(() => {\n      // package does not exist\n      return null;\n    });\n}\n","// React\nimport React, { useContext } from \"react\";\n\n// local components\nimport NetworkGraph from \"components/Metrics/NetworkGraph.js\";\n\n// utils\nimport { useFormatVisGraph } from \"utils/produceMetrics\";\n\n// material-ui\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// redux\nimport { StateContext } from \"App\";\n\n//vis-dataset\nimport { DataSet } from \"vis-network/standalone/esm/vis-network\";\n\nconst useStyles = makeStyles(theme => ({\n  graph: {\n    padding: theme.spacing(4)\n  }\n}));\n\nconst PackageDependencies = () => {\n  const classes = useStyles();\n  const state = useContext(StateContext);\n  const root =\n    state.roots.length > 1\n      ? \"*App\"\n      : state.roots[0]?.metadata?.info?.name +\n        state.roots[0]?.metadata?.info?.version;\n  const visGraph = useFormatVisGraph(root, state.graph);\n\n  return (\n    <LoadingErrorTemplate\n      state={state.thothError ? \"error\" : visGraph}\n      errorText=\"Could not load in dependency graph.\"\n    >\n      <Paper>\n        <NetworkGraph\n          data={{\n            nodes: new DataSet(visGraph?.nodes),\n            edges: new DataSet(visGraph?.edges)\n          }}\n          className={classes.graph}\n          root={root}\n        />\n      </Paper>\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default PackageDependencies;\n","import { thothGetDependencies, searchForPackage } from \"services/thothApi\";\nimport compareVersions from \"tiny-version-compare\";\n\n// utils\nimport { Graph } from \"utils/Graph\";\nimport { validatePackage } from \"utils/validatePackage\";\n\n// redux\nimport { DispatchContext } from \"App\";\n\nimport { useContext, useEffect, useState } from \"react\";\n\n// React hook for computing metrics and applying to state\nexport function useComputeMetrics(roots, graph) {\n  const dispatch = useContext(DispatchContext);\n\n  useEffect(() => {\n    if (!roots || !graph) {\n      return;\n    }\n\n    let dependencies = {\n      all: {},\n      roots: {}\n    };\n\n    let licenses = { total: undefined, all: {} };\n\n    let packageWarning = [];\n\n    let starts = roots;\n    if (typeof starts === \"string\") {\n      starts = [roots];\n    }\n\n    // for each starting node\n    starts.forEach(root => {\n      // if the root has an error then skip it\n      if (root.error) {\n        return;\n      }\n\n      const bfs = graph.graphSearch(\n        graph.nodes.get(root.metadata.info.name + root.metadata.info.version)\n      );\n      const visitedOrder = Array.from(bfs);\n\n      // depth to type of dependency\n      visitedOrder.forEach(node => {\n        const depth =\n          node.value.depth === 0\n            ? \"roots\"\n            : node.value.depth === 1\n            ? \"direct\"\n            : \"indirect\";\n\n        // is not in thoth\n        if (node.value.thoth === false) {\n          packageWarning.push(node);\n        }\n\n        // dependency metric\n        dependencies = {\n          all: {\n            ...dependencies.all,\n            [depth]: (dependencies.all[depth] ?? 0) + 1\n          },\n          roots: {\n            ...dependencies.roots,\n            [root.metadata.info.name + root.metadata.info.version]: {\n              ...(dependencies.roots[\n                root.metadata.info.name + root.metadata.info.version\n              ] ?? null),\n              [depth]:\n                (dependencies.roots?.[\n                  root.metadata.info.name + root.metadata.info.version\n                ]?.[depth] ?? 0) + 1\n            }\n          }\n        };\n\n        // licence metric\n        licenses = {\n          total: (licenses.total ?? 0) + 1,\n          root: licenses.root ?? node.value.metadata.info.license,\n          all: {\n            ...licenses.all,\n            [node.value.metadata.info.license]: {\n              ...(licenses.all[node.value.metadata.info.license] ?? null),\n              [node.value.label]: node.value.depth\n            }\n          }\n        };\n      });\n    });\n\n    // apply metrics to global state\n    dispatch({\n      type: \"metric\",\n      metric: \"dependencies\",\n      payload: dependencies\n    });\n    dispatch({\n      type: \"metric\",\n      metric: \"licenses\",\n      payload: licenses\n    });\n    dispatch({\n      type: \"packageWarning\",\n      payload: packageWarning\n    });\n  }, [graph, roots, dispatch]);\n}\n\nexport function useFormatVisGraph(root, graph) {\n  const [visGraph, setVisGraph] = useState(undefined);\n\n  useEffect(() => {\n    if (!root || !graph) {\n      return;\n    }\n\n    const data = {\n      nodes: [],\n      edges: []\n    };\n\n    const bfs = graph.graphSearch(graph.nodes.get(root));\n    const visitedOrder = Array.from(bfs);\n\n    visitedOrder.forEach(node => {\n      data.nodes.push({\n        id: node.value.id,\n        label: node.value.label\n      });\n\n      node.adjacents.forEach(adj => {\n        data.edges.push({\n          to: node.value.id,\n          from: adj.value.id\n        });\n      });\n    });\n\n    setVisGraph(data);\n  }, [root, graph]);\n\n  return visGraph;\n}\n\n// takes a list of start node(s) in form { name: string, *version: string } and\n// sets the the new roots\nexport function useSetRoots(startNodes) {\n  const dispatch = useContext(DispatchContext);\n\n  useEffect(() => {\n    if (!startNodes) {\n      return;\n    }\n\n    // for each package (could be one) validate\n    const roots = startNodes.map(async start => {\n      return validatePackage(start.name, start?.version);\n    });\n\n    Promise.all(roots).then(roots => {\n      if (roots.length === 1 && roots[0] === null) {\n        dispatch({\n          type: \"packageError\",\n          payload: \"Package does not exist\"\n        });\n      } else {\n        dispatch({\n          type: \"roots\",\n          payload: roots\n        });\n      }\n    });\n  }, [startNodes, dispatch]);\n}\n\nexport function useCreateGraph(roots, depth = -1) {\n  const dispatch = useContext(DispatchContext);\n\n  useEffect(() => {\n    if (!roots || roots.length === 0) {\n      return;\n    }\n\n    // set loading\n    dispatch({\n      type: \"loading\",\n      payload: { init: { amount: 0, note: \"Building dependency graph.\" } }\n    });\n    let directDependencies = 0;\n    let visitedDirectDependencies = 0;\n\n    const graph = new Graph();\n\n    // helper vars for dfs\n    const visited = new Map();\n    const visitList = [];\n\n    // if more than one starting package\n    if (roots.length > 1) {\n      // starting app node (true root)\n      const value = {\n        id: \"*App\",\n        label: \"App\",\n        depth: -1\n      };\n\n      // add app to graph\n      const root = graph.addVertex(value.id, value);\n\n      // for each package\n      roots.forEach(r => {\n        // if root package (not app) has an error\n        if (r.error) {\n          return;\n        }\n\n        directDependencies += r.metadata.info?.requires_dist?.length ?? 0;\n\n        const v = {\n          id: r.metadata.info.name + r.metadata.info.version,\n          label: r.metadata.info.name,\n          depth: 0,\n          metadata: r.metadata\n        };\n\n        // add package to graph\n        const adjacent = graph.addVertex(v.id, v);\n\n        // add an edge between app and package\n        graph.addEdge(root.key, adjacent.key);\n        visitList.push(adjacent);\n      });\n    } else {\n      // if root has an error\n      if (roots[0].error) {\n        return;\n      }\n\n      // set loading data\n      directDependencies = roots[0].metadata.info?.requires_dist?.length ?? 0;\n\n      // if only one package\n      const value = {\n        id: roots[0].metadata.info.name + roots[0].metadata.info.version,\n        label: roots[0].metadata.info.name,\n        depth: 0,\n        metadata: roots[0].metadata\n      };\n\n      const root = graph.addVertex(value.id, value);\n      visitList.push(root);\n    }\n\n    (async () => {\n      while (visitList.length !== 0) {\n        const node = visitList.pop();\n        if (node && !visited.has(node)) {\n          visited.set(node);\n\n          // loading\n          if (node.value.depth === 1) {\n            visitedDirectDependencies += 1;\n            // set loading\n            dispatch({\n              type: \"loading\",\n              payload: {\n                init: {\n                  amount:\n                    (visitedDirectDependencies / directDependencies) * 100,\n                  note: \"Building dependency graph :: \" + node.value.label\n                }\n              }\n            });\n          }\n\n          if (node.value.depth !== depth) {\n            // get dependencies\n            await thothGetDependencies(\n              node.value.metadata.info.name,\n              node.value.metadata.info.version\n            )\n              .then(async r => {\n                // sort the direct dependencies by version\n                const directDependencies = r.data.dependencies.sort(function(\n                  a,\n                  b\n                ) {\n                  return compareVersions(a.version, b.version);\n                });\n\n                // this will prevent duplicate direct dependencies\n                const directHaveVisited = [];\n\n                // for each direct dependency (start at bottom to get the latest versions first)\n                for (let i = directDependencies.length - 1; i >= 0; i--) {\n                  // only include one version of a dependency (latest)\n                  if (!directHaveVisited.includes(directDependencies[i].name)) {\n                    // add dependency to have direct visited lookup table\n                    directHaveVisited.push(directDependencies[i].name);\n\n                    // make new node and add the edge between\n                    // get metadata of  package\n                    await searchForPackage(\n                      directDependencies[i].name,\n                      directDependencies[i].version\n                    ).then(res => {\n                      const v = {\n                        id: res.data.info.name + res.data.info.version,\n                        label: res.data.info.name,\n                        depth: node.value.depth + 1,\n                        metadata: res.data\n                      };\n                      const adjacent = graph.addVertex(v.id, v);\n\n                      // add an edge between them\n                      graph.addEdge(node.key, adjacent.key);\n                      visitList.push(adjacent);\n                    });\n                  }\n                }\n              })\n              .catch(e => {\n                if (e?.response?.status === 404) {\n                  node.value.thoth = false;\n                  return;\n                }\n              });\n          }\n        }\n      }\n    })().then(() => {\n      dispatch({\n        type: \"graph\",\n        payload: graph\n      });\n    });\n  }, [roots, dispatch, depth]);\n}\n","// React\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useParams, useLocation } from \"react-router-dom\";\n\n// local\nimport PackageMetrics from \"components/Dashboard/PackageMetrics\";\nimport PackageHeader from \"components/Dashboard/PackageHeader\";\nimport TabPanel from \"components/Shared/TabPanel\";\nimport PackageDependencies from \"components/Dashboard/PackageDependencies\";\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// utils\nimport {\n  useCreateGraph,\n  useComputeMetrics,\n  useSetRoots\n} from \"utils/produceMetrics\";\n\n// redux\nimport { StateContext } from \"App\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Tab, Tabs, Typography } from \"@material-ui/core\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    maxWidth: \"95%\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    paddingRight: theme.spacing(3),\n    paddingLeft: theme.spacing(3),\n    marginTop: theme.spacing(4)\n  }\n}));\n\n// The page that displays all analyis data\nexport const Dashboard = ({ location }) => {\n  const classes = useStyles();\n  const params = useParams();\n  const state = useContext(StateContext);\n  const search = useLocation().search;\n\n  // for tab control\n  const [value, setValue] = useState(0);\n\n  const [starts, setStarts] = useState(null);\n  // after render\n  useEffect(() => {\n    const query = new URLSearchParams(search);\n\n    const packages = query.get(\"packages\")?.split(\",\");\n\n    // parse packages into object list\n    let s = packages?.map(p => {\n      return {\n        name: p,\n        version: undefined\n      };\n    });\n\n    // if not muliple packages, then reset to the params\n    s = s ?? [\n      {\n        name: params.package,\n        version: params?.version\n      }\n    ];\n\n    setStarts(s);\n  }, [params.package, params.version, search]);\n\n  // custom hooks\n  useSetRoots(starts);\n  useCreateGraph(state.roots, 2);\n  useComputeMetrics(state.roots, state.graph);\n\n  // handle tab change\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <LoadingErrorTemplate\n      state={state.packageError ? \"error\" : state.roots}\n      show404={\"Package\"}\n    >\n      <div className={classes.root}>\n        {state?.roots?.length === 1 ? <PackageHeader /> : null}\n        {state?.roots?.map(r => {\n          if (r.error) {\n            return (\n              <Typography color=\"error\" gutterBottom variant=\"body2\">\n                {r.error}\n              </Typography>\n            );\n          }\n          return null;\n        })}\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n        >\n          <Tab label=\"Overview\" />\n          <Tab label=\"Dependencies\" />\n        </Tabs>\n        <TabPanel value={value} index={0}>\n          <PackageMetrics />\n        </TabPanel>\n        <TabPanel value={value} index={1}>\n          <PackageDependencies />\n        </TabPanel>\n      </div>\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default Dashboard;\n","import { Route, Switch } from \"react-router-dom\";\nimport { ROOT, DASHBOARD } from \"./CONSTANTS\";\nimport NotFound from \"./NotFound\";\nimport Home from \"pages/Home/Home\";\nimport Dashboard from \"pages/Dashboard/Dashboard\";\n\nexport const RouterConfig = () => {\n  return (\n    <Switch>\n      <Route exact path={ROOT} component={Home} />\n      <Route\n        exact\n        path={DASHBOARD + \"/:package?/:version?\"}\n        component={Dashboard}\n      />\n\n      <Route path=\"*\" status={404}>\n        <NotFound />\n      </Route>\n    </Switch>\n  );\n};\n\nexport default RouterConfig;\n","export const REPONAME = \"/thoth-search\";\nexport const ROOT = \"/\";\nexport const DASHBOARD = \"/dashboard\";\n","export function reducer(state, action) {\n  switch (action.type) {\n    case \"graph\":\n      return { ...state, graph: action.payload };\n    case \"roots\":\n      return { ...state, roots: action.payload };\n    case \"metric\":\n      return {\n        ...state,\n        metrics: {\n          ...state.metrics,\n          [action.metric]: action.payload\n        }\n      };\n    case \"packageError\": {\n      return {\n        ...state,\n        error: action.payload\n      };\n    }\n    case \"thothError\": {\n      return {\n        ...state,\n        error: action.payload\n      };\n    }\n    case \"loading\": {\n      return {\n        ...state,\n        loading: action.payload\n      };\n    }\n    case \"packageWarning\": {\n      return {\n        ...state,\n        packageWarning: action.payload\n      };\n    }\n    case \"reset\": {\n      return initState;\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport const initState = {\n  graph: undefined, // vis-network\n  roots: undefined,\n  metrics: {\n    // metric cards\n    dependencies: {\n      // counts for dependency types\n      all: {\n        // aggragate of all root packages (mostly will just be one)\n        // roots: undefined, // starting package (has count of 1 unless looking at multiple packages)\n        // direct: undefined, // direct dependency count of all root packages\n        // indirect: undefined // indirect dependency count of all root packages\n      },\n      roots: {} // specific root packages and their direct and indirect\n      // holds key of package to navigage to it\n    },\n    licenses: {\n      total: undefined,\n      all: {} // Map of all licences (key) and and their dependencies (values)\n    }\n  },\n  error: false\n};\n","// local utils and configs\nimport { themeLight } from \"styles/theme\";\n\n// ROUTER\nimport { BrowserRouter } from \"react-router-dom\";\nimport { RouterConfig } from \"navigation/RouterConfig\";\nimport { REPONAME } from \"navigation/CONSTANTS\";\n\n// material ui\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\n// react\nimport React, { useReducer } from \"react\";\n\n// redux\nimport { reducer, initState } from \"redux/reducer\";\n\n// context for reducer\nexport const StateContext = React.createContext();\nexport const DispatchContext = React.createContext();\n\nfunction App() {\n  // for state control\n  const [state, dispatch] = useReducer(reducer, initState);\n  return (\n    <MuiThemeProvider theme={themeLight}>\n      <CssBaseline />\n      <BrowserRouter basename={REPONAME}>\n        <StateContext.Provider value={state}>\n          <DispatchContext.Provider value={dispatch}>\n            <RouterConfig />\n          </DispatchContext.Provider>\n        </StateContext.Provider>\n      </BrowserRouter>\n    </MuiThemeProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}