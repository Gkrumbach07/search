{"version":3,"sources":["styles/theme.js","navigation/NotFound.js","components/Shared/SearchBar.js","services/CONSTANTS.js","services/thothApi.js","pages/Home/Home.js","components/Dashboard/Summary/InfoCard.js","components/Shared/ProgressBar.js","components/Dashboard/Summary/Metrics/DependenciesMetric/MultipleDependenciesMetric.js","components/Dashboard/Summary/Metrics/DependenciesMetric/SingleDependenciesMetric.js","components/Shared/LoadingErrorTemplate/ErrorPage.js","components/Shared/LoadingErrorTemplate/CustomProgress.js","components/Shared/LoadingErrorTemplate/index.js","components/Dashboard/Summary/Metrics/DependenciesMetric/index.js","components/Dashboard/Summary/Metrics/LicenseMetric/MultipleLicenseMetric.js","components/Dashboard/Summary/Metrics/LicenseMetric/SingleLicenseMetric.js","components/Dashboard/Summary/Metrics/LicenseMetric/index.js","components/Dashboard/Summary/Metrics/AdviseMetric/AdviseMetric.js","components/Dashboard/Summary/Metrics/AdviseMetric/index.js","components/Dashboard/Summary/MetricLayout.js","components/Shared/IconText.js","utils/timeSince.js","components/Dashboard/Summary/PackageHeader.js","components/Dashboard/AdviseHeader.js","components/Shared/TabPanel.js","utils/recurseToRoot.js","config/networkOptions.js","components/Dashboard/Advise/AdvisePage/NetworkGraph.js","components/Dashboard/Advise/AdvisePage/AdviseTable.js","components/Dashboard/Advise/AdvisePage/Toolbar/FilterForm.js","components/Dashboard/Advise/AdvisePage/Toolbar/index.js","components/Dashboard/Advise/AdvisePage/Toolbar/hooks/MakeTextFile.js","components/Dashboard/Advise/AdvisePage/Lockfile.js","components/Dashboard/Advise/AdvisePage/AccordianList.js","utils/Node.js","utils/Graph.js","components/Dashboard/Advise/AdvisePage/index.js","utils/produceMetrics.js","utils/useInterval.js","pages/Dashboard/Dashboard.js","navigation/RouterConfig.js","navigation/CONSTANTS.js","redux/reducer.js","App.js","index.js"],"names":["themeLight","createTheme","palette","background","default","NotFound","text","Typography","variant","SearchBar","props","onChange","label","helpertext","boxprops","error","lefticon","righticon","Box","sx","color","Paper","component","p","display","alignItems","InputBase","ml","flex","placeholder","e","target","value","PYPI","THOTH","getLicenses","url","fetch","then","response","JSON","parse","thothSearchForPackage","name","version","index","axios","get","params","headers","accept","res","data","metadata","catch","status","info","thothAdvise","pipfile","pipfileLock","d","application_stack","requirements","requirements_format","requirements_lock","runtime_environment","operating_system","platform","python_version","post","recommendation_type","useStyles","makeStyles","theme","root","flexFlow","marginTop","stretchContent","minWidth","searchBar","justifyContent","flexColumn","flexDirection","multilineTextBoxContainer","description","marginBottom","spacing","maxWidth","textAlign","mode","title","Home","history","useHistory","classes","dispatch","useContext","DispatchContext","useState","pipfileQuery","setPipfileQuery","pipfileLockQuery","setPipfileLockQuery","pipfileError","setPipfileError","pipfileLockError","setPipfileLockError","queryLoading","setQueryLoading","handleChange","box","handleAnalyze","a","fail","type","param","payload","analysis_id","push","DASHBOARD","includes","className","Grid","container","mt","item","xs","sm","multiline","rows","LoadingButton","onClick","loading","height","bullet","margin","transform","fontSize","pos","InfoCard","cardMeta","cardBody","cardAction","Card","CardHeader","action","subheader","subTitle","CardContent","CustomLinearProgress","withStyles","borderRadius","colorPrimary","backgroundColor","grey","bar","LinearProgress","gridTemplateColumns","gridGap","whiteSpace","overflow","textOverflow","ProgressBar","total","MultipleDependenciesMetric","metric","totalDependencies","all","direct","indirect","roots","gutterBottom","Divider","List","TransitionGroup","Object","entries","map","i","key","t","Collapse","ListItem","ListItemText","primary","direction","SingleDependenciesMetric","ErrorText","align","customProgressRoot","CustomProgress","amount","note","CircularProgress","LoadingErrorTemplate","isError","isLoading","errorText","loadingPage","loadingAmount","loadingText","children","ErrorPage","DependenciesMetric","state","StateContext","focus","chip","border","LicenseDisplay","totalLicenses","React","open","setOpen","_meta","isOsiApproved","keys","length","in","timeout","unmountOnExit","sort","b","k","v","Chip","depth","LicenseMetric","deepError","more","setMore","licenses","reduce","sum","slice","Button","SingleLicenseMetric","MultipleLicenseMetric","header","AdviseMetric","added","removed","unchanged","build","justification","metrics","advise","CustomCardAction","ToggleButtonGroup","exclusive","size","ToggleButton","MetricLayout","setPipfile","handlePipfile","event","newPipfile","undefined","mb","md","dependencies","IconText","icon","link","href","marginLeft","timeSince","date","seconds","Math","floor","Date","interval","num","titleRow","marginRight","linksRow","warning","PackageHeader","mergedGraph","nodes","summary","license","releases","upload_time","alert","width","CustomAlert","Alert","severity","toLowerCase","message","AdviseHeader","adviseID","expandAlerts","setExpandAlerts","report","ERROR","toUpperCase","statusText","statusColor","alerts","stack_info","filter","finished_at","started_at","datetime","calcTime","TabPanel","role","hidden","id","aria-labelledby","recurseToRoot","start","end","edges","starting_edges","edge","from","combined","forEach","path","recurse","Set","selection","to","options","manipulation","enabled","editNode","nodeData","callback","fixed","x","interaction","hover","hoverConnectedEdges","selectConnectedEdges","selectable","chosen","smooth","arrowStrikethrough","arrows","shape","borderWidth","labelHighlightBold","font","strokeWidth","physics","hierarchicalRepulsion","damping","springLength","solver","minVelocity","canvas","NetworkGraph","search","filteredGraph","renderPathNodes","lockfile","setData","visJsRef","useRef","resetAll","useCallback","updateOnly","opacity","useEffect","Map","findAllPaths","node","set","convertedNodes","visData","DataSet","visEdges","network","current","Network","rootNode","networkCanvas","document","getElementById","getElementsByTagName","on","changeCursor","isCluster","body","newCursorStyle","style","cursor","possible_results","selected","unselected_edges","unselected_nodes","concat","ref","descendingComparator","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","el","headCells","numeric","EnhancedTableHead","onRequestSort","TableHead","TableRow","headCell","TableCell","padding","sortDirection","TableSortLabel","active","property","visuallyHidden","EnhancedTable","setOrder","setOrderBy","setSelected","page","setPage","rowsPerPage","setRowsPerPage","setRows","newRows","warnings","adjacents","change","emptyRows","max","TableContainer","Table","numSelected","rowCount","TableBody","row","labelId","iconColor","Fragment","tabIndex","scope","paddingBottom","paddingTop","colSpan","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","FilterFormItem","paramType","paramDisplay","paramCategory","numberCompare","stringCompare","handleQueryChange","operator","query","comapareType","Select","handleOperatorChange","fullWidth","MenuItem","TextField","displayEmpty","categoryType","renderType","FilterForm","applyFilter","initialFilter","useReducer","FormControlLabel","control","Checkbox","checked","between","Toolbar","handleSearch","handleDisplay","filterView","setFilterView","filterCount","setFilterCount","downloadLink","file","setDownloadLink","window","URL","revokeObjectURL","Blob","stringify","endings","createObjectURL","MakeTextFile","products","project","requirements_locked","Badge","badgeContent","IconButton","aria-label","endIcon","download","paddingLeft","Lockfile","dangerouslySetInnerHTML","__html","replaceAll","RegExp","join","match","AccordianList","justifications","handleJustificationSelect","expanded","setExpanded","Accordion","isExpanded","package_name","AccordionSummary","expandIcon","aria-controls","AccordionDetails","advisory","Node","this","add","has","Array","Graph","vertex","source","destination","sourceNode","destinationNode","addAdjacent","isAdjacent","first","visited","visitList","pop","shift","getAdjacents","adj","newPath","nextPath","findPath","paths","graph","PackageDependencies","depenencies","setSearch","setFilter","setFilteredGraph","setDisplay","filteredNodes","passing","paramName","paramDetails","compare","isNaN","Number","s","newDisplay","section","scrollIntoView","block","behavior","useComputeMetrics","os_release","python","implementation_name","major","minor","micro","document_id","analyzer","analyzer_version","licenseData","setLicenseData","bfs","graphSearch","packageLicenses","classifier","classifiers","parsed","split","generalLicense","specificLicense","found","find","l","lower","licenseId","specific","useLockFileToGraph","stateName","cantBeRoots","Promise","localStorage","getItem","replace","addVertex","requires_dist","adjacentName","setItem","app","addEdge","promiseWhile","condition","whilst","resolve","adjacentNode","min","reject","flexGrow","paddingRight","Dashboard","location","useParams","setValue","pollingTime","setPollingTime","getStatus","result","error_msg","parameters","delay","savedCallback","setInterval","clearInterval","useInterval","packages","initProject","adviseGraph","initGraph","oldGraph","newGraph","useTheme","visGraphEdges","edgeColors","newNode","success","main","newRoot","oldRoot","combinedRoot","useMergeGraphs","r","Tabs","newValue","indicatorColor","textColor","Tab","AdvisePage","RouterConfig","exact","reducer","packageWarning","initState","createContext","App","ThemeProvider","CssBaseline","basename","Provider","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.8b665b2d.chunk.js","sourcesContent":["import { createTheme } from \"@material-ui/core/styles\";\n\nexport const themeLight = createTheme({\n  palette: {\n    background: {\n      default: \"#f9f9f9\"\n    }\n  }\n});\n","import { Typography } from \"@material-ui/core\";\n\nexport const NotFound = ({ text }) => {\n  return <Typography variant=\"h2\">404: {text ?? \"page\"} not found!</Typography>;\n};\n\nexport default NotFound;\n","// material ui\nimport { Typography, Box, Paper, InputBase } from \"@material-ui/core\";\n\n// react\nimport PropTypes from \"prop-types\";\n\nconst SearchBar = props => {\n  const {\n    onChange,\n    label,\n    helpertext,\n    boxprops,\n    error = false,\n    lefticon,\n    righticon\n  } = props;\n\n  return (\n    <Box>\n      <Typography\n        variant={\"body1\"}\n        sx={{ color: error ? \"error.main\" : \"text.secondary\" }}\n      >\n        {label}\n      </Typography>\n      <Paper\n        component=\"form\"\n        variant=\"outlined\"\n        sx={{ p: \"2px 4px\", display: \"flex\", alignItems: \"center\" }}\n        {...boxprops}\n      >\n        {lefticon}\n        <InputBase\n          sx={{ ml: 1, flex: 1 }}\n          placeholder={helpertext}\n          error={error}\n          onChange={e => onChange(e.target.value)}\n          {...props}\n        />\n        {righticon}\n      </Paper>\n    </Box>\n  );\n};\n\nSearchBar.propTypes = {\n  label: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  helpertext: PropTypes.string,\n  error: PropTypes.bool\n};\n\nexport default SearchBar;\n","export const PYPI = \"https://pypi.org/pypi\";\nexport const THOTH = \"https://api.moc.thoth-station.ninja/api/v1\";\nexport const LICENSES =\n  \"https://raw.githubusercontent.com/spdx/license-list-data/master/json/licenses.json\";\n","import axios from \"axios\";\nimport { PYPI, THOTH, LICENSES } from \"./CONSTANTS\";\nimport compareVersions from \"tiny-version-compare\";\n//import { data } from \"./adviseResponseDev\";\n\n// GitHub\nexport function getGitHubFileText(githubRepo, fileName) {\n  const url = new URL(githubRepo);\n\n  if (url.hostname === \"github.com\") {\n    return fetch(\n      \"https://raw.githubusercontent.com\" + url.pathname + \"/master/\" + fileName\n    )\n      .then(response => response.text())\n      .then(response => {\n        return response;\n      });\n  } else return Promise.reject();\n}\n\nexport function getFile(url) {\n  return fetch(url)\n    .then(response => response.text())\n    .then(response => {\n      return response;\n    });\n}\n\nexport function getLicenses() {\n  return getFile(LICENSES).then(text => JSON.parse(text));\n}\n\n// pypi\nexport const searchForPackage = (name, version) => {\n  return axios.get(\n    PYPI + \"/\" + name + (version ? \"/\" + version : \"\") + \"/json\"\n  );\n};\n\nexport const thothSearchForPackage = (\n  name,\n  version,\n  index = \"https://pypi.org/simple\"\n) => {\n  return axios\n    .get(THOTH + \"/python/package/metadata\", {\n      params: {\n        name: name,\n        version: version,\n        index: index\n      },\n      headers: {\n        accept: \"application/json\"\n      }\n    })\n    .then(res => {\n      return res.data.metadata;\n    })\n    .catch(e => {\n      if (e?.response?.status === 404) {\n        return axios\n          .get(PYPI + \"/\" + name + (version ? \"/\" + version : \"\") + \"/json\")\n          .then(res => {\n            return res.data.info;\n          });\n      } else {\n        throw e;\n      }\n    });\n};\n\n// thoth\nexport const thothAdvise = (pipfile, pipfileLock) => {\n  const d = {\n    application_stack: {\n      requirements: pipfile,\n      requirements_format: \"pipenv\",\n      requirements_lock: pipfileLock\n    },\n    runtime_environment: {\n      operating_system: {\n        name: \"ubi\",\n        version: \"8\"\n      },\n      platform: \"linux-x86_64\",\n      python_version: \"3.6\"\n    }\n  };\n\n  return axios.post(THOTH + \"/advise/python\", d, {\n    params: {\n      recommendation_type: \"stable\"\n    },\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothAdviseResult = analysis_id => {\n  //return Promise.resolve({ data: data, status: 200 });\n  return axios.get(THOTH + \"/advise/python/\" + analysis_id, {\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothAdviseStatus = analysis_id => {\n  return axios.get(THOTH + \"/advise/python/\" + analysis_id + \"/status\", {\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothGetDependencies = (\n  name,\n  version,\n  index = \"https://pypi.org/simple\"\n) => {\n  return axios.get(THOTH + \"/python/package/dependencies\", {\n    params: {\n      name: name,\n      version: version,\n      index: index\n    },\n    //timeout: 5000,\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothGetLatestVersion = (name, version) => {\n  return axios\n    .get(THOTH + \"/python/package/versions\", {\n      params: {\n        name: name\n      },\n      timeout: 5000,\n      headers: {\n        accept: \"application/json\"\n      }\n    })\n    .then(res => {\n      if (res.data.versions.length === 0) {\n        return null;\n      } else {\n        const sorted = res.data.versions.sort(function(a, b) {\n          return compareVersions(a.package_version, b.package_version);\n        });\n\n        // compare to version if supplied\n        if (version && sorted.includes(version)) {\n          return version;\n        }\n\n        return sorted[sorted.length - 1].package_version;\n      }\n    })\n    .catch(() => {\n      return null;\n    });\n};\n","// react\nimport React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n// material-ui\nimport { Typography, Box, Grid } from \"@material-ui/core\";\nimport LoadingButton from \"@material-ui/lab/LoadingButton\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// local\nimport { DASHBOARD } from \"navigation/CONSTANTS\";\nimport SearchBar from \"components/Shared/SearchBar\";\n\n// redux\nimport { DispatchContext } from \"App\";\n\n// api\nimport { thothAdvise } from \"services/thothApi\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\",\n    alignItems: \"center\",\n    marginTop: \"10%\"\n  },\n  stretchContent: {\n    minWidth: \"50%\"\n  },\n  searchBar: {\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  flexColumn: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  multilineTextBoxContainer: {\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  description: {\n    marginBottom: theme.spacing(1),\n    maxWidth: \"50%\",\n    textAlign: \"center\"\n  },\n  mode: {\n    marginBottom: theme.spacing(3)\n  },\n  title: {\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst Home = () => {\n  const history = useHistory();\n  const classes = useStyles();\n  const dispatch = useContext(DispatchContext);\n\n  // textbox states\n  const [pipfileQuery, setPipfileQuery] = useState(\"\");\n  const [pipfileLockQuery, setPipfileLockQuery] = useState(\"\");\n\n  // textbox errors\n  const [pipfileError, setPipfileError] = useState(\"\");\n  const [pipfileLockError, setPipfileLockError] = useState(\"\");\n\n  // utlity states\n\n  const [queryLoading, setQueryLoading] = useState(false);\n\n  // handle textbox state change\n  const handleChange = (e, box) => {\n    switch (box) {\n      case \"pipfile\":\n        setPipfileQuery(e.target.value);\n        if (pipfileError !== \"\") {\n          setPipfileError(\"\");\n        }\n        break;\n      case \"lock\":\n        setPipfileLockQuery(e.target.value);\n        if (pipfileLockError !== \"\") {\n          setPipfileLockError(\"\");\n        }\n        break;\n      default:\n    }\n  };\n\n  // handle the input\n  const handleAnalyze = async () => {\n    if (\n      pipfileQuery === \"\" ||\n      pipfileLockQuery === \"\" ||\n      pipfileError !== \"\" ||\n      pipfileLockError !== \"\"\n    ) {\n      return;\n    }\n\n    let fail = false;\n    if (!pipfileQuery) {\n      fail = true;\n      setPipfileError(\"Please provide a Pipfile\");\n    }\n    if (!pipfileLockQuery) {\n      fail = true;\n      setPipfileLockError(\"Please provide a Pipfile.lock\");\n    }\n\n    // if able to parse both\n    if (!fail) {\n      setQueryLoading(true);\n      thothAdvise(pipfileQuery, pipfileLockQuery)\n        .then(response => {\n          setQueryLoading(false);\n          dispatch({\n            type: \"advise\",\n            param: \"analysis_id\",\n            payload: response.data.analysis_id\n          });\n          history.push(DASHBOARD + \"/\" + response.data.analysis_id);\n        })\n        .catch(error => {\n          setQueryLoading(false);\n          if (error.response.status === 400) {\n            if (error.response.data.error.includes(\"Pipfile.lock\")) {\n              setPipfileLockError(\"Failed to parse provided Pipfile.lock\");\n            } else if (error.response.data.error.includes(\"Pipfile\")) {\n              setPipfileError(\"Failed to parse provided Pipfile\");\n            }\n          }\n        });\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h4\" className={classes.title}>\n        <b>Thoth Search</b>\n      </Typography>\n      <Typography variant=\"body1\" className={classes.description}>\n        Thoth Search is a tool that runs analysis on a Python application. It\n        utilizes package metadata and Thoth Adviser to analyse and recommend a\n        software stack. <br />\n        <br /> Provide a properly formatted Pipfile and Pipfile.lock to run\n        analysis on your Python application.\n      </Typography>\n\n      <Grid container spacing={2} justifyContent=\"center\" mt={2}>\n        <Grid item xs={10} sm={5}>\n          <SearchBar\n            label={pipfileError !== \"\" ? pipfileError : \"Pipfile contents\"}\n            onChange={e => handleChange(e, \"pipfile\")}\n            error={pipfileError !== \"\"}\n            multiline\n            rows={8}\n          />\n        </Grid>\n        <Grid item xs={10} sm={5}>\n          <SearchBar\n            label={\n              pipfileLockError !== \"\"\n                ? pipfileLockError\n                : \"Pipfile.lock contents\"\n            }\n            onChange={e => handleChange(e, \"lock\")}\n            error={pipfileLockError !== \"\"}\n            multiline\n            rows={8}\n          />\n        </Grid>\n      </Grid>\n\n      <Box textAlign=\"center\" mt={2}>\n        <LoadingButton\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => handleAnalyze()}\n          loading={queryLoading}\n        >\n          <b>Analyze</b>\n        </LoadingButton>\n      </Box>\n    </div>\n  );\n};\n\nexport default Home;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Card, CardContent, CardHeader } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n    height: \"100%\"\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\"\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\n\nconst InfoCard = ({ cardMeta, cardBody, cardAction }) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root}>\n      <CardHeader\n        action={cardAction}\n        title={cardMeta.title}\n        subheader={cardMeta.subTitle}\n      />\n      <CardContent>{cardBody}</CardContent>\n    </Card>\n  );\n};\n\nInfoCard.propTypes = {\n  cardMeta: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    subTitle: PropTypes.string,\n    action: PropTypes.element\n  }),\n  cardBody: PropTypes.element\n};\n\nexport default InfoCard;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { withStyles, makeStyles } from \"@material-ui/styles\";\nimport { LinearProgress, Typography, Grid } from \"@material-ui/core\";\n\nconst CustomLinearProgress = withStyles(theme => ({\n  root: {\n    height: 10,\n    borderRadius: 5\n  },\n  colorPrimary: {\n    backgroundColor:\n      theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700]\n  },\n  bar: {\n    borderRadius: 5,\n    backgroundColor: \"#1a90ff\"\n  }\n}))(LinearProgress);\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(6,1fr)\",\n    alignItems: \"center\",\n    gridGap: theme.spacing(1)\n  },\n  label: {\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\"\n  },\n  value: {\n    textAlign: \"end\"\n  }\n}));\n\nconst ProgressBar = ({ value, total, label, action, ...props }) => {\n  const classes = useStyles();\n  return (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={4}>\n        <Typography variant=\"body2\" className={classes.label}>\n          {label}\n        </Typography>\n      </Grid>\n      <Grid item xs={1}>\n        <Typography className={classes.value} variant=\"body2\">\n          {value}\n        </Typography>\n      </Grid>\n      <Grid item xs={6}>\n        <CustomLinearProgress\n          variant=\"determinate\"\n          value={total > 0 ? (value / total) * 100 : 0}\n        />\n      </Grid>\n      <Grid item xs>\n        <div>{action ?? null}</div>\n      </Grid>\n    </Grid>\n  );\n};\n\nProgressBar.propTypes = {\n  value: PropTypes.number.isRequired,\n  total: PropTypes.number.isRequired,\n  label: PropTypes.string\n};\n\nexport default ProgressBar;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { TransitionGroup } from \"react-transition-group\";\n\nimport {\n  Typography,\n  Divider,\n  List,\n  ListItem,\n  ListItemText,\n  Grid,\n  Collapse\n} from \"@material-ui/core/\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst MultipleDependenciesMetric = ({ metric }) => {\n  const classes = useStyles();\n  const totalDependencies =\n    (metric.all.direct ?? 0) +\n    (metric.all.indirect ?? 0) +\n    (metric.all.roots ?? 0);\n\n  return (\n    <div>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>All Packages</b>\n      </Typography>\n      <Divider className={classes.bar} />\n      <ProgressBar\n        value={metric.all.roots ?? 0}\n        total={totalDependencies}\n        label={\"Root\"}\n        className={classes.bar}\n      />\n      <ProgressBar\n        value={metric.all.direct ?? 0}\n        total={totalDependencies}\n        label={\"Direct\"}\n        className={classes.bar}\n      />\n      <ProgressBar\n        value={metric.all.indirect ?? 0}\n        total={totalDependencies}\n        label={\"Indirect\"}\n      />\n      <Typography variant=\"body2\" gutterBottom mt={2}>\n        <b>Root Packages</b>\n      </Typography>\n      <Divider className={classes.bar} />\n      <List component=\"nav\">\n        <TransitionGroup>\n          {Object.entries(metric.roots).map(([key, value], i) => {\n            const t =\n              (metric.roots[key].direct ?? 0) +\n              (metric.roots[key].indirect ?? 0);\n            return (\n              <Collapse key={key}>\n                <div>\n                  <ListItem>\n                    <Grid container alignItems=\"center\">\n                      <Grid item xs>\n                        <ListItemText primary={key} />\n                      </Grid>\n                      <Grid item xs>\n                        <Grid container direction=\"column\">\n                          <Grid item xs>\n                            <ProgressBar\n                              value={metric.roots[key].direct ?? 0}\n                              total={t}\n                              label={\"Direct\"}\n                            />\n                          </Grid>\n                          <Grid item xs>\n                            <ProgressBar\n                              value={metric.roots[key].indirect ?? 0}\n                              total={t}\n                              label={\"Indirect\"}\n                            />\n                          </Grid>\n                        </Grid>\n                      </Grid>\n                    </Grid>\n                  </ListItem>\n                  <Divider variant={\"middle\"} className={classes.bar} />\n                </div>\n              </Collapse>\n            );\n          })}\n        </TransitionGroup>\n      </List>\n    </div>\n  );\n};\n\nMultipleDependenciesMetric.propTypes = {\n  metric: PropTypes.shape({\n    all: PropTypes.shape({\n      direct: PropTypes.number,\n      indirect: PropTypes.number,\n      roots: PropTypes.number\n    })\n  })\n};\n\nexport default MultipleDependenciesMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";;\n\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst SingleDependenciesMetric = ({ metric }) => {\n  const classes = useStyles();\n  const totalDependencies =\n    (metric.all.direct ?? 0) + (metric.all.indirect ?? 0);\n\n  return (\n    <div>\n      <ProgressBar\n        value={metric.all.direct ?? 0}\n        total={totalDependencies}\n        label={\"Direct\"}\n        className={classes.bar}\n      />\n\n      <ProgressBar\n        value={metric.all.indirect ?? 0}\n        total={totalDependencies}\n        label={\"Indirect\"}\n      />\n    </div>\n  );\n};\n\nSingleDependenciesMetric.propTypes = {\n  metric: PropTypes.shape({\n    all: PropTypes.shape({\n      direct: PropTypes.number,\n      indirect: PropTypes.number\n    })\n  })\n};\n\nexport default SingleDependenciesMetric;\n","import { Typography } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\nconst ErrorText = ({ text }) => {\n  return (\n    <Typography align=\"center\" color=\"error\" variant=\"body1\">\n      {text}\n    </Typography>\n  );\n};\n\nErrorText.propTypes = {\n  text: PropTypes.string.isRequired\n};\n\nexport default ErrorText;\n","// react\nimport React from \"react\";\n\n// material ui\nimport { CircularProgress, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// component styling\n\nconst useStyles = makeStyles(theme => ({\n  customProgressRoot: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }\n}));\n\nconst CustomProgress = ({ amount, note }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.customProgressRoot}>\n      <CircularProgress\n        variant={amount ? \"determinate\" : \"indeterminate\"}\n        value={amount ?? 0}\n      />\n      {note ? (\n        <Typography align=\"center\" variant=\"body1\">\n          {note}\n        </Typography>\n      ) : null}\n    </div>\n  );\n};\n\nexport default CustomProgress;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ErrorPage from \"./ErrorPage\";\nimport CustomProgress from \"./CustomProgress\";\n\nconst LoadingErrorTemplate = ({\n  isError,\n  isLoading,\n  errorText,\n  loadingPage,\n  loadingAmount,\n  loadingText,\n  children\n}) => {\n  const renderChoice = () => {\n    if (isError) {\n      return <ErrorPage text={errorText ?? \"A unknown error occured\"} />;\n    } else if (isLoading) {\n      return (\n        loadingPage ?? (\n          <CustomProgress amount={loadingAmount} note={loadingText} />\n        )\n      );\n    } else {\n      return children;\n    }\n  };\n\n  return <>{renderChoice()}</>;\n};\n\nLoadingErrorTemplate.propTypes = {\n  state: PropTypes.any\n};\n\nexport default LoadingErrorTemplate;\n","// react\nimport { useContext } from \"react\";\n\n// DependenciesMetric\nimport MultipleDependenciesMetric from \"./MultipleDependenciesMetric\";\nimport SingleDependenciesMetric from \"./SingleDependenciesMetric\";\n\n// Shared\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst DependenciesMetric = ({ metric }) => {\n  const state = useContext(StateContext);\n\n  return (\n    <LoadingErrorTemplate isLoading={!metric}>\n      {state?.focus ? (\n        <SingleDependenciesMetric metric={metric} />\n      ) : (\n        <MultipleDependenciesMetric metric={metric} />\n      )}\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default DependenciesMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport {\n  Typography,\n  Divider,\n  Collapse,\n  Chip,\n  Button,\n  Box,\n  Grid\n} from \"@material-ui/core\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport CheckRoundedIcon from \"@material-ui/icons/CheckRounded\";\nimport HelpOutlineRoundedIcon from \"@material-ui/icons/HelpOutlineRounded\";\nimport { TransitionGroup } from \"react-transition-group\";\n\n// local\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  marginBottom: {\n    marginBottom: theme.spacing(2)\n  },\n  chip: {\n    margin: theme.spacing(0.5)\n  },\n  border: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst LicenseDisplay = ({ name, value, totalLicenses }) => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  return (\n    <Grid container>\n      <Grid item xs>\n        {value._meta.isOsiApproved === null ? (\n          <HelpOutlineRoundedIcon />\n        ) : value._meta.isOsiApproved ? (\n          <CheckRoundedIcon />\n        ) : null}\n      </Grid>\n      <Grid item xs={11}>\n        <div className={classes.flex} onClick={() => setOpen(!open)}>\n          <ProgressBar\n            key={name}\n            value={Object.keys(value).length - 1 ?? 0}\n            total={totalLicenses}\n            label={name}\n            className={classes.bar}\n            action={open ? <ExpandLess /> : <ExpandMore />}\n          />\n        </div>\n\n        <Collapse in={open} timeout=\"auto\" unmountOnExit>\n          <div className={classes.border}>\n            {Object.entries(value)\n              .sort((a, b) => {\n                return a[1] - b[1];\n              })\n              .map(([k, v]) => {\n                if (k[0] === \"_\") {\n                  return null;\n                }\n                return (\n                  <Chip\n                    key={k}\n                    className={classes.chip}\n                    color={\n                      v.depth === 0\n                        ? \"primary\"\n                        : v.depth === 1\n                        ? \"secondary\"\n                        : \"default\"\n                    }\n                    label={k}\n                    onClick={null}\n                  />\n                );\n              })}\n          </div>\n          <Divider />\n        </Collapse>\n      </Grid>\n    </Grid>\n  );\n};\n\nconst LicenseMetric = ({ metric, deepError }) => {\n  const classes = useStyles();\n\n  const [more, setMore] = React.useState(false);\n\n  const licenses = Object.entries(metric?.all ?? {}).sort((a, b) => {\n    return Object.keys(b[1]).length - Object.keys(a[1]).length;\n  });\n\n  const totalLicenses = Object.entries(metric?.all ?? {}).reduce((sum, key) => {\n    return sum + Object.keys(key[1]).length;\n  }, 0);\n\n  return (\n    <div className={classes.root}>\n      <Grid container>\n        <Grid item xs={1}>\n          <Typography variant=\"body2\" gutterBottom>\n            <b>OSI</b>\n          </Typography>\n        </Grid>\n        <Grid item xs>\n          <Typography variant=\"body2\" gutterBottom>\n            <b>Dependency Licenses</b>\n          </Typography>\n        </Grid>\n      </Grid>\n\n      <Divider />\n      <LoadingErrorTemplate\n        state={deepError ? \"error\" : metric.all}\n        errorText=\"Could not run analysis on dependencies.\"\n      >\n        <TransitionGroup>\n          {licenses.slice(0, 10).map(([key, value]) => {\n            return (\n              <Collapse key={key}>\n                <LicenseDisplay\n                  name={key}\n                  value={value}\n                  totalLicenses={totalLicenses}\n                />\n              </Collapse>\n            );\n          })}\n        </TransitionGroup>\n\n        <Collapse in={more} timeout=\"auto\" unmountOnExit>\n          <TransitionGroup>\n            {licenses.slice(10).map(([key, value]) => {\n              return (\n                <Collapse key={key}>\n                  <LicenseDisplay\n                    name={key}\n                    value={value}\n                    totalLicenses={totalLicenses}\n                  />\n                </Collapse>\n              );\n            })}\n          </TransitionGroup>\n        </Collapse>\n        <Box textAlign=\"center\">\n          <Button onClick={() => setMore(!more)} color=\"primary\">\n            {more ? \"Less\" : \"More\"}\n          </Button>\n        </Box>\n      </LoadingErrorTemplate>\n    </div>\n  );\n};\n\nLicenseMetric.propTypes = {\n  props: PropTypes.shape({\n    metric: PropTypes.shape({\n      total: PropTypes.number,\n      all: PropTypes.object\n    }).isRequired\n  })\n};\n\nexport default LicenseMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Typography, Divider } from \"@material-ui/core\";\n\n// local\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  marginBottom: {\n    marginBottom: theme.spacing(2)\n  }\n}));\n\nconst SingleLicenseMetric = ({ metric }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>License</b>\n      </Typography>\n      <Divider />\n      <Typography className={classes.marginBottom} variant=\"h6\">\n        {metric.root}\n      </Typography>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>Dependency Licenses</b>\n      </Typography>\n      <Divider />\n\n      {Object.entries(metric?.all ?? {}).map(([key, value]) => {\n        return (\n          <ProgressBar\n            key={key}\n            value={Object.keys(value).length ?? 0}\n            total={metric.total}\n            label={key}\n            className={classes.bar}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nSingleLicenseMetric.propTypes = {\n  metric: PropTypes.shape({\n    root: PropTypes.string,\n    all: PropTypes.object\n  }).isRequired\n};\n\nexport default SingleLicenseMetric;\n","// react\nimport { useContext } from \"react\";\n\n// DependenciesMetric\nimport MultipleLicenseMetric from \"./MultipleLicenseMetric\";\nimport SingleLicenseMetric from \"./SingleLicenseMetric\";\n\n// Shared\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst LicenseMetric = ({ metric }) => {\n  const state = useContext(StateContext);\n\n  return (\n    <LoadingErrorTemplate isLoading={!metric}>\n      {state?.focus ? (\n        <SingleLicenseMetric metric={metric} />\n      ) : (\n        <MultipleLicenseMetric metric={metric} />\n      )}\n    </LoadingErrorTemplate>\n  );\n};\n\nLicenseMetric.propTypes = {};\n\nexport default LicenseMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Typography, Divider } from \"@material-ui/core\";\n\n// local\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  header: {\n    marginTop: theme.spacing(3)\n  },\n  flex: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n}));\n\nconst AdviseMetric = ({ metric }) => {\n  const classes = useStyles();\n  const total =\n    metric.added + metric.removed + metric.version + metric.unchanged;\n  return (\n    <div>\n      <Typography variant=\"body2\" gutterBottom>\n        {metric.build}\n      </Typography>\n      <Typography variant=\"body2\" gutterBottom mt={2}>\n        <b>\n          Differences between the old Pipfile.lock and Thoth's new Pipfile.lock\n        </b>\n      </Typography>\n      <Divider className={classes.bar} />\n      <ProgressBar\n        value={metric.added ?? 0}\n        total={total}\n        label={\"Added Packages\"}\n        className={classes.bar}\n      />\n      <ProgressBar\n        value={metric.removed ?? 0}\n        total={total}\n        label={\"Removed Packages\"}\n        className={classes.bar}\n      />\n      <ProgressBar\n        value={metric.version ?? 0}\n        total={total}\n        label={\"Version Changes\"}\n      />\n      <Typography\n        variant=\"body2\"\n        className={classes.header}\n        gutterBottom\n        mt={2}\n      >\n        <b>Noteworthy Justifications</b>\n      </Typography>\n      <Divider className={classes.bar} />\n      {Object.entries(metric.justification).map(([key, value]) => {\n        return (\n          <Typography variant=\"body2\" gutterBottom key={key}>\n            {key}: {value}\n          </Typography>\n        );\n      })}\n    </div>\n  );\n};\n\nAdviseMetric.propTypes = {\n  metric: PropTypes.shape({\n    added: PropTypes.number,\n    removed: PropTypes.number,\n    version: PropTypes.number,\n    unchanged: PropTypes.number,\n    justification: PropTypes.object,\n    build: PropTypes.string\n  })\n};\n\nexport default AdviseMetric;\n","// react\nimport { useContext } from \"react\";\n\n// Shared\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\nimport AdviseMetric from \"./AdviseMetric\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst DependenciesMetric = () => {\n  const state = useContext(StateContext);\n\n  return (\n    <LoadingErrorTemplate isLoading={!state.metrics?.advise}>\n      {!state?.focus ? <AdviseMetric metric={state.metrics.advise} /> : null}\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default DependenciesMetric;\n","// React\nimport React, { useContext } from \"react\";\n\n// local components\nimport InfoCard from \"./InfoCard\";\nimport DependenciesMetric from \"components/Dashboard/Summary/Metrics/DependenciesMetric\";\nimport LicenseMetric from \"components/Dashboard/Summary/Metrics/LicenseMetric\";\nimport AdviseMetric from \"components/Dashboard/Summary/Metrics/AdviseMetric\";\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// material-ui\nimport { Grid, ToggleButtonGroup, ToggleButton } from \"@material-ui/core\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst CustomCardAction = ({ value, onChange }) => {\n  return (\n    <ToggleButtonGroup value={value} exclusive size=\"small\" onChange={onChange}>\n      <ToggleButton value=\"old\">Old</ToggleButton>\n      <ToggleButton value=\"new\">New</ToggleButton>\n    </ToggleButtonGroup>\n  );\n};\n\nconst MetricLayout = () => {\n  const state = useContext(StateContext);\n\n  const [pipfile, setPipfile] = React.useState(\"new\");\n\n  const handlePipfile = (event, newPipfile) => {\n    if (newPipfile?.length) {\n      setPipfile(newPipfile);\n    }\n  };\n\n  return (\n    <LoadingErrorTemplate isLoading={state?.metrics === undefined}>\n      <Grid container spacing={3} mb={3} mt={1}>\n        <Grid item xs={12} md={6}>\n          <InfoCard\n            cardMeta={{\n              title: \"Thoth Advise Summary\"\n            }}\n            cardBody={<AdviseMetric />}\n          />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <InfoCard\n            cardMeta={{\n              title: \"Dependencies Summary\"\n            }}\n            cardBody={\n              <DependenciesMetric\n                metric={state?.metrics?.[pipfile]?.dependencies}\n              />\n            }\n            cardAction={\n              <CustomCardAction value={pipfile} onChange={handlePipfile} />\n            }\n          />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <InfoCard\n            cardMeta={{\n              title: \"Licenses Summary\"\n            }}\n            cardBody={\n              <LicenseMetric metric={state?.metrics?.[pipfile]?.licenses} />\n            }\n            cardAction={\n              <CustomCardAction value={pipfile} onChange={handlePipfile} />\n            }\n          />\n        </Grid>\n      </Grid>\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default MetricLayout;\n","// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// react\nimport PropTypes from \"prop-types\";\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\"\n  }\n}));\n\nconst IconText = ({ text, icon, link, ...props }) => {\n  const classes = useStyles();\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      {icon}\n      <Typography href={link ? link : null} variant=\"body2\" marginLeft>\n        {text}\n      </Typography>\n    </div>\n  );\n};\n\nexport default IconText;\n\nIconText.propTypes = {\n  text: PropTypes.string.isRequired,\n  icon: PropTypes.element.isRequired,\n  link: PropTypes.string\n};\n","export function timeSince(date) {\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = seconds / 31536000;\n\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" year\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 2592000;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" month\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 86400;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" day\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 3600;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" hour\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 60;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" minute\" + (num !== 1 ? \"s\" : \"\");\n  }\n  const num = Math.floor(seconds);\n  return num + \" second\" + (num !== 1 ? \"s\" : \"\");\n}\n","// React\nimport React, { useContext } from \"react\";\n\n// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\n\n// local\nimport IconText from \"components/Shared/IconText\";\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// utils\nimport { timeSince } from \"utils/timeSince\";\n\n// redux\nimport { StateContext } from \"App\";\n\n// component styling\n\nconst useStyles = makeStyles(theme => ({\n  titleRow: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(1)\n  },\n  marginLeft: {\n    marginLeft: theme.spacing(2)\n  },\n  marginRight: {\n    marginRight: theme.spacing(2)\n  },\n  linksRow: {\n    display: \"flex\",\n    marginBottom: theme.spacing(3)\n  },\n  warning: {\n    display: \"flex\"\n  }\n}));\n\nconst PackageHeader = () => {\n  const classes = useStyles();\n  const { state } = useContext(StateContext);\n\n  const metadata = state?.mergedGraph?.nodes?.get(state?.focus);\n\n  return (\n    <LoadingErrorTemplate isLoading={metadata === undefined}>\n      <div className={classes.titleRow}>\n        <Typography variant=\"h4\">\n          <b>{metadata?.name}</b>\n        </Typography>\n        <Typography className={classes.marginLeft} variant=\"subtitle1\">\n          v{metadata?.version ?? \"NaN\"}\n        </Typography>\n      </div>\n\n      <Typography gutterBottom variant=\"body1\">\n        {metadata?.summary ?? \"NaN\"}\n      </Typography>\n      <div className={classes.linksRow}>\n        <IconText text={metadata?.license ?? \"NaN\"} icon={<GavelIcon />} />\n        <IconText\n          className={classes.marginLeft}\n          text={\n            \"Latest version published \" +\n            timeSince(\n              new Date(\n                metadata?.releases?.[metadata?.version]?.[0]?.upload_time\n              )\n            ) +\n            \" ago.\"\n          }\n          icon={<BookmarkIcon />}\n        />\n      </div>\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default PackageHeader;\n","// React\nimport React, { useContext } from \"react\";\n\n// material-ui\nimport { Typography, Chip, Button, Collapse, Alert } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport AccessTimeIcon from \"@material-ui/icons/AccessTime\";\n// local\nimport IconText from \"components/Shared/IconText\";\n\n// utils\nimport { timeSince } from \"utils/timeSince\";\n\n// redux\nimport { StateContext } from \"App\";\n\n// component styling\n\nconst useStyles = makeStyles(theme => ({\n  titleRow: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(1)\n  },\n  marginLeft: {\n    marginLeft: theme.spacing(2)\n  },\n  marginRight: {\n    marginRight: theme.spacing(2)\n  },\n  linksRow: {\n    display: \"flex\",\n    marginBottom: theme.spacing(3),\n    alignItems: \"center\"\n  },\n  alert: {\n    width: \"100%\",\n    marginTop: theme.spacing(1)\n  }\n}));\n\nconst CustomAlert = ({ info, ...props }) => {\n  return (\n    <Alert\n      className={props.className}\n      action={\n        <Button color=\"inherit\" size=\"small\" href={info.link}>\n          DETAILS\n        </Button>\n      }\n      severity={info.type.toLowerCase()}\n    >\n      {info.message}\n    </Alert>\n  );\n};\n\nconst AdviseHeader = ({ adviseID }) => {\n  const classes = useStyles();\n  const state = useContext(StateContext);\n  const [expandAlerts, setExpandAlerts] = React.useState(false);\n\n  const calcTime = () => {\n    // if status says finished\n    if (state?.advise?.status?.finished_at) {\n      return (\n        \"Advise finished \" +\n        timeSince(new Date(state.advise.status.finished_at)) +\n        \" ago.\"\n      );\n    }\n    // if status is pending\n    else if (state?.advise?.status?.started_at) {\n      return (\n        \"Advise started \" +\n        timeSince(new Date(state.advise.status.started_at)) +\n        \" ago.\"\n      );\n    }\n    // if status is nulled so use metadata end date\n    else if (state?.advise?.metadata?.datetime) {\n      return (\n        \"Advise finished \" +\n        timeSince(new Date(state.advise.metadata.datetime + \"Z\")) +\n        \" ago.\"\n      );\n    } else {\n      return \"Time started/finished not available\";\n    }\n  };\n\n  const [statusText, statusColor] = (() => {\n    // if report is done\n    if (state?.advise?.report) {\n      if (state.advise.report.ERROR) {\n        return [\"ERROR\", \"error\"];\n      } else {\n        return [\"COMPLETE\", \"success\"];\n      }\n    }\n    // if report is not done\n    else if (state?.advise?.status?.state) {\n      return [state.advise.status.state.toUpperCase(), \"info\"];\n    } else {\n      return [\"UNKNOWN\", undefined];\n    }\n  })();\n\n  const alerts = state?.advise?.report?.stack_info\n    ? state.advise.report.stack_info.filter(alert => {\n        return alert.type === \"ERROR\";\n      })\n    : null;\n\n  return (\n    <div>\n      <Typography variant=\"h4\">\n        <b>{adviseID}</b>\n      </Typography>\n      <div className={classes.linksRow}>\n        <Chip label={statusText} color={statusColor} />\n        <IconText\n          className={classes.marginLeft}\n          text={calcTime()}\n          icon={<AccessTimeIcon />}\n        />\n      </div>\n      {alerts?.length > 0 ? (\n        <div>\n          <CustomAlert info={alerts[0]} />\n          <Collapse in={expandAlerts} timeout=\"auto\" unmountOnExit>\n            {alerts?.slice(1).map(info => {\n              return <CustomAlert info={info} className={classes.alert} />;\n            })}\n          </Collapse>\n\n          <Button\n            color=\"inherit\"\n            size=\"small\"\n            onClick={() => setExpandAlerts(!expandAlerts)}\n          >\n            {alerts?.length > 1 ? (expandAlerts ? \"LESS\" : \"MORE\") : null}\n          </Button>\n        </div>\n      ) : null}\n\n      {statusText === \"COMPLETE\" ? (\n        <Typography variant=\"body2\" sx={{ color: \"text.secondary\" }}>\n          Thoth has added and removed packages from the original Pipfile.lock,\n          resulting in a <i>new</i> Pipfile.lock. Switch between the new and old\n          Python environments to see the differences.\n        </Typography>\n      ) : null}\n    </div>\n  );\n};\n\nexport default AdviseHeader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst TabPanel = ({ children, value, index, ...props }) => {\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      className={`${props.className}`}\n      {...props}\n    >\n      {value === index && children}\n    </div>\n  );\n};\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nexport default TabPanel;\n","export function recurseToRoot(start, end, edges) {\n  // get edges coming off of node *start*\n  const starting_edges = edges.filter(edge => start.includes(edge.from));\n\n  // recurse from each starting edge to root (0)\n  // note there could be multiple starting points\n  let combined = { nodes: [], edges: [] };\n  starting_edges.forEach(edge => {\n    const path = recurse(edge, { nodes: [], edges: [] }, edges, end);\n    combined = {\n      nodes: [...new Set([...path.nodes, ...combined.nodes])],\n      edges: [...new Set([...path.edges, ...combined.edges])]\n    };\n  });\n\n  return combined;\n}\n\nfunction recurse(edge, selection, edges, end) {\n  // cycle or allready visited OR\n  if (selection.edges.includes(edge.id)) {\n    return selection;\n  }\n\n  // add the edge id and nodes at either end of edge to selection\n  selection.nodes.push(edge.from, edge.to);\n  selection.edges.push(edge.id);\n\n  // cycle or allready visited OR\n  if (edge.to === end) {\n    return selection;\n  } else {\n    // find the next edges to go\n    // combine voth recursion branches together while removing dups\n    // return combined branches as one\n    let combined = { nodes: [], edges: [] };\n    edges\n      .filter(e => e.from === edge.to)\n      .forEach(e => {\n        const path = recurse(e, selection, edges, end);\n        combined = {\n          nodes: [...new Set([...path.nodes, ...combined.nodes])],\n          edges: [...new Set([...path.edges, ...combined.edges])]\n        };\n      });\n\n    return combined;\n  }\n}\n","export const options = {\n  manipulation: {\n    enabled: false,\n    editNode: function(nodeData, callback) {\n      nodeData.fixed = !nodeData.fixed.x;\n      callback(nodeData);\n    }\n  },\n  interaction: {\n    hover: true,\n    hoverConnectedEdges: false,\n    selectConnectedEdges: false,\n    selectable: true\n  },\n  edges: {\n    chosen: false,\n    smooth: false,\n    color: {\n      color: \"#5c6470\"\n    },\n    arrowStrikethrough: false,\n    arrows: {\n      from: {\n        enabled: true,\n        type: \"triangle\"\n      }\n    }\n  },\n\n  nodes: {\n    chosen: false,\n    color: {\n      background: \"#5c6470\",\n      border: \"#fff\",\n      hover: {\n        background: \"#f39200\",\n        border: \"#fff\"\n      }\n    },\n    shape: \"dot\",\n    size: 10,\n    borderWidth: 2,\n    labelHighlightBold: false,\n    font: {\n      color: \"#393e46\",\n      strokeWidth: 2,\n      size: 15\n    }\n  },\n  physics: {\n    hierarchicalRepulsion: {\n      damping: 0.1,\n      springLength: 200\n    },\n    solver: \"hierarchicalRepulsion\",\n    minVelocity: 0.15\n  }\n};\n","// react\nimport React, {\n  useEffect,\n  useRef,\n  useState,\n  useContext,\n  useCallback\n} from \"react\";\n\n// utils and configs\nimport { recurseToRoot } from \"utils/recurseToRoot\";\nimport { options } from \"config/networkOptions\";\nimport { StateContext } from \"App\";\n\n// vis-network\nimport { Network, DataSet } from \"vis-network/standalone/esm/vis-network\";\n\n// material ui\nimport { makeStyles } from \"@material-ui/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\"\n  },\n  canvas: {\n    flex: \"1 1 auto\",\n    height: \"75vh\"\n  }\n}));\n\nconst NetworkGraph = ({\n  root,\n  search,\n  filteredGraph,\n  renderPathNodes,\n  lockfile,\n  ...props\n}) => {\n  const classes = useStyles();\n  const [data, setData] = useState();\n  const visJsRef = useRef(null);\n  const state = useContext(StateContext);\n  const selectedColor = \"#f39200\";\n\n  const resetAll = useCallback(() => {\n    // clear selection\n    data.nodes.updateOnly(\n      data.nodes.get().map(e => {\n        if (e.id !== root) {\n          e[\"opacity\"] = 1;\n          e[\"font\"] = {\n            ...state.mergedGraph.nodes.get(e.id)?.value?.font,\n            size: options.nodes.font.size\n          };\n          e[\"color\"] =\n            state.mergedGraph.nodes.get(e.id)?.value?.color ??\n            options.nodes.color;\n        }\n        return e;\n      })\n    );\n\n    // reset edge colors\n    data.edges.updateOnly(\n      data.edges.get().map(e => {\n        e[\"color\"] = { opacity: 1 };\n        return e;\n      })\n    );\n  }, [data, root, state.mergedGraph.nodes]);\n\n  // set the graph to use based on filter\n  useEffect(() => {\n    if (!filteredGraph || !state.mergedGraph) {\n      return;\n    }\n\n    let nodes = null;\n    if (renderPathNodes) {\n      nodes = new Map();\n      filteredGraph.nodes.forEach((value, key) => {\n        const paths = state.mergedGraph.findAllPaths(\"*App\", key);\n\n        paths.forEach(path => {\n          path.forEach(node => {\n            nodes.set(node.key, node);\n          });\n        });\n      });\n    } else {\n      nodes = filteredGraph.nodes;\n    }\n\n    // convert to vis graph format\n    const convertedNodes = [];\n    nodes.forEach(value => {\n      if (lockfile === \"both\" || value.value.lockfile.includes(lockfile)) {\n        convertedNodes.push(value.value);\n      }\n    });\n    const visData = {\n      nodes: new DataSet(convertedNodes),\n      edges: new DataSet(filteredGraph.visEdges)\n    };\n\n    setData(visData);\n  }, [filteredGraph, state.mergedGraph, lockfile, renderPathNodes]);\n\n  // create the graph\n  useEffect(() => {\n    if (!data?.nodes) {\n      return;\n    }\n\n    const network =\n      visJsRef.current && new Network(visJsRef.current, data, options);\n\n    // set root node to have specific color\n    const rootNode = data.nodes.get(root);\n    rootNode.color = \"#4fc1ea\";\n    rootNode.font = { color: \"#4fc1ea\", strokeWidth: 3, size: 20 };\n    data.nodes.updateOnly(rootNode);\n\n    // change curser when hovering and grabbing\n    // Get the canvas HTML element\n    var networkCanvas = document\n      .getElementById(\"mynetwork\")\n      .getElementsByTagName(\"canvas\")[0];\n\n    // changes the curser graphic depedning on where and what the mouse is doing\n    function changeCursor(newCursorStyle) {\n      networkCanvas.style.cursor = newCursorStyle;\n    }\n    network.on(\"hoverNode\", function() {\n      changeCursor(\"grab\");\n    });\n    network.on(\"blurNode\", function() {\n      changeCursor(\"default\");\n    });\n    network.on(\"dragStart\", function() {\n      changeCursor(\"grabbing\");\n    });\n    network.on(\"dragging\", function() {\n      changeCursor(\"grabbing\");\n    });\n    network.on(\"dragEnd\", function() {\n      changeCursor(\"grab\");\n    });\n\n    // fix (stick in place) node when done dragging\n    network.on(\"dragEnd\", function(params) {\n      if (params.nodes.length !== 0 && !network.isCluster(params.nodes[0])) {\n        network.editNode(params.nodes[0]);\n      }\n    });\n\n    // un stick node if already stuck\n    network.on(\"dragStart\", function(params) {\n      // check if node has not been touched or is fixed\n      // if fixed then un fix\n      if (\n        params.nodes.length !== 0 &&\n        network.body.nodes[params.nodes[0]].options.x !== undefined &&\n        network.body.nodes[params.nodes[0]].options.x &&\n        !network.isCluster(params.nodes[0])\n      ) {\n        // un fix node\n        network.editNode(params.nodes[0]);\n      }\n    });\n  }, [root, data]);\n\n  // search node\n  // recursivly finds all paths from search result to root\n  // and grey out nodes that are not in criteria\n  useEffect(() => {\n    if (!data || !root) {\n      return;\n    }\n\n    resetAll();\n\n    if (search === \"\") {\n      // reset node colors\n      return;\n    }\n\n    // use input text to find possible results\n    let possible_results = data.nodes.get({\n      filter: function(node) {\n        return node.label.includes(search);\n      }\n    });\n\n    // recurse through possible results\n    const selected = recurseToRoot(\n      possible_results.map(node => node.id),\n      root,\n      data.edges.map(e => e)\n    );\n\n    // grey out non search results\n    // edges that are not in search results\n    const unselected_edges = data.edges\n      .get()\n      .filter(edge => !selected.edges.includes(edge.id))\n      .map(e => {\n        e[\"color\"] = { opacity: 0.05 };\n        return e;\n      });\n\n    // nodes that are not in search results\n    const unselected_nodes = data.nodes\n      .get()\n      .filter(node => !selected.nodes.includes(node.id))\n      .map(e => {\n        if (e.id !== root) {\n          e[\"font\"] = { size: 0 };\n          e[\"opacity\"] = 0.05;\n        }\n        return e;\n      });\n\n    // set searched nodes to a different color\n    possible_results = possible_results.map(e => {\n      if (e.id !== root) {\n        e[\"color\"] = selectedColor;\n      }\n      return e;\n    });\n\n    // update nodes and edges in the dataset\n    data.nodes.updateOnly(unselected_nodes.concat(possible_results));\n    data.edges.updateOnly(unselected_edges);\n  }, [search, data, root, resetAll]);\n\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      <div ref={visJsRef} id=\"mynetwork\" className={classes.canvas} />\n    </div>\n  );\n};\n\nexport default NetworkGraph;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Box from \"@material-ui/core/Box\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { visuallyHidden } from \"@material-ui/utils\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Collapse from \"@material-ui/core/Collapse\";\n\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\nimport RemoveRoundedIcon from \"@material-ui/icons/RemoveRounded\";\nimport CircleOutlinedIcon from \"@material-ui/icons/CircleOutlined\";\n\nfunction descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction getComparator(order, orderBy) {\n  return order === \"desc\"\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nfunction stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(el => el[0]);\n}\n\nconst headCells = [\n  {\n    id: \"name\",\n    numeric: false,\n    label: \"Package\"\n  },\n  {\n    id: \"depth\",\n    numeric: true,\n    label: \"Depth\"\n  },\n  {\n    id: \"license\",\n    numeric: false,\n    label: \"License\"\n  },\n  {\n    id: \"dependencies\",\n    numeric: true,\n    label: \"Direct Dependencies\"\n  }\n];\n\nfunction EnhancedTableHead(props) {\n  const { order, orderBy, onRequestSort } = props;\n  const createSortHandler = property => event => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        {headCells.map(headCell => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? \"right\" : \"left\"}\n            padding=\"normal\"\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : \"asc\"}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <Box component=\"span\" sx={visuallyHidden}>\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\n                </Box>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  onRequestSort: PropTypes.func.isRequired,\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\n  orderBy: PropTypes.string.isRequired\n};\n\nexport default function EnhancedTable({ search, filteredGraph }) {\n  const [order, setOrder] = useState(\"asc\");\n  const [orderBy, setOrderBy] = React.useState(\"calories\");\n  const [selected, setSelected] = React.useState([]);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\n  const [rows, setRows] = React.useState([]);\n  const [open, setOpen] = React.useState(null);\n\n  useEffect(() => {\n    if (!filteredGraph) {\n      return;\n    }\n\n    setPage(0);\n\n    const newRows = [];\n    filteredGraph.nodes.forEach(node => {\n      if (node.value.depth === -1) {\n        return;\n      }\n      newRows.push({\n        name: node.value.label,\n        warnings: [],\n        depth: node.value.depth,\n        license: node?.value?.metadata?.license,\n        dependencies: node.adjacents.size,\n        change: node.value.change,\n        summary: node?.value?.metadata?.summary\n      });\n    });\n    setRows(newRows);\n  }, [filteredGraph]);\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === \"asc\";\n    setOrder(isAsc ? \"desc\" : \"asc\");\n    setOrderBy(property);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  // Avoid a layout jump when reaching the last page with empty rows.\n  const emptyRows =\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0;\n\n  return (\n    <Box sx={{ width: \"100%\" }}>\n      <Paper sx={{ width: \"100%\", mb: 2 }}>\n        <TableContainer>\n          <Table sx={{ minWidth: 750 }} size=\"medium\">\n            <EnhancedTableHead\n              numSelected={selected.length}\n              order={order}\n              orderBy={orderBy}\n              onRequestSort={handleRequestSort}\n              rowCount={rows.length}\n            />\n            <TableBody>\n              {stableSort(rows, getComparator(order, orderBy))\n                .filter(row => row.name.includes(search))\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map((row, index) => {\n                  const labelId = `enhanced-table-checkbox-${index}`;\n\n                  const iconColor =\n                    row.change === \"removed\"\n                      ? \"error\"\n                      : row.change === \"added\"\n                      ? \"success\"\n                      : undefined;\n\n                  return (\n                    <React.Fragment key={row.name}>\n                      <TableRow\n                        hover\n                        onClick={() => {\n                          setSelected(row.name);\n                          if (open !== row.name) {\n                            setOpen(row.name);\n                          } else {\n                            setOpen(null);\n                          }\n                        }}\n                        tabIndex={-1}\n                        selected={selected === row.name}\n                      >\n                        <TableCell component=\"th\" id={labelId} scope=\"row\">\n                          <Box display=\"flex\">\n                            {row.change === \"removed\" ? (\n                              <RemoveRoundedIcon color={iconColor} />\n                            ) : row.change === \"added\" ? (\n                              <AddRoundedIcon color={iconColor} />\n                            ) : (\n                              <CircleOutlinedIcon />\n                            )}\n                            <Typography ml={2}>{row.name}</Typography>\n                          </Box>\n                        </TableCell>\n                        <TableCell align=\"right\">{row.depth}</TableCell>\n                        <TableCell align=\"right\">{row.license}</TableCell>\n                        <TableCell align=\"right\">{row.dependencies}</TableCell>\n                      </TableRow>\n\n                      <TableRow>\n                        <TableCell\n                          style={{ paddingBottom: 0, paddingTop: 0 }}\n                          colSpan={6}\n                        >\n                          <Collapse\n                            in={open === row.name}\n                            timeout=\"auto\"\n                            unmountOnExit\n                          >\n                            <Typography gutterBottom variant=\"body1\">\n                              {row.summary ?? \"NaN\"}\n                            </Typography>\n                          </Collapse>\n                        </TableCell>\n                      </TableRow>\n                    </React.Fragment>\n                  );\n                })}\n              {emptyRows > 0 && (\n                <TableRow\n                  style={{\n                    height: 53 * emptyRows\n                  }}\n                >\n                  <TableCell colSpan={6} />\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <TablePagination\n          rowsPerPageOptions={[5, 10, 25]}\n          component=\"div\"\n          count={rows.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onPageChange={handleChangePage}\n          onRowsPerPageChange={handleChangeRowsPerPage}\n        />\n      </Paper>\n    </Box>\n  );\n}\n","// react\nimport React, { useReducer } from \"react\";\n\n// material-ui\nimport {\n  Grid,\n  Typography,\n  TextField,\n  Select,\n  MenuItem,\n  Button,\n  FormControlLabel,\n  Checkbox\n} from \"@material-ui/core\";\n\nconst FilterFormItem = ({\n  dispatch,\n  state,\n  param,\n  paramType,\n  paramDisplay,\n  paramCategory\n}) => {\n  const numberCompare = [\n    [\"equal to\", \"=\"],\n    [\"not equal to\", \"!=\"],\n    [\"greater than\", \">\"],\n    [\"greater than or equal to\", \">=\"],\n    [\"less than\", \"<\"],\n    [\"less than or equal to\", \"<=\"]\n  ];\n\n  const stringCompare = [\n    [\"equal to\", \"=\"],\n    [\"not equal to\", \"!=\"],\n    [\"contains\", \"~\"],\n    [\"does not contain\", \"!~\"]\n  ];\n\n  const handleOperatorChange = value => {\n    dispatch({\n      param: param,\n      payload: { operator: value, query: state?.[param]?.query }\n    });\n  };\n  const handleQueryChange = value => {\n    dispatch({\n      param: param,\n      payload: { operator: state?.[param]?.operator, query: value }\n    });\n  };\n\n  const categoryType = () => {\n    return (\n      <Grid container item xs={12} spacing={2} alignItems=\"center\">\n        <Grid item xs={4}>\n          <Typography variant=\"body2\" sx={{ color: \"text.secondary\" }}>\n            {paramDisplay}\n          </Typography>\n        </Grid>\n        <Grid item xs>\n          <Select\n            value={state?.[param]?.query}\n            displayEmpty\n            onChange={event => {\n              handleQueryChange(event.target.value);\n            }}\n            size=\"small\"\n            variant=\"standard\"\n            fullWidth\n          >\n            {paramCategory.map((value, index) => {\n              return (\n                <MenuItem key={value + param} value={value}>\n                  {value}\n                </MenuItem>\n              );\n            })}\n          </Select>\n        </Grid>\n      </Grid>\n    );\n  };\n\n  const comapareType = () => {\n    return (\n      <Grid container item xs={12} spacing={2} alignItems=\"center\">\n        <Grid item xs={4}>\n          <Typography variant=\"body2\" sx={{ color: \"text.secondary\" }}>\n            {paramDisplay}\n          </Typography>\n        </Grid>\n        <Grid item xs={4}>\n          <Select\n            value={state?.[param]?.operator}\n            onChange={event => handleOperatorChange(event.target.value)}\n            size=\"small\"\n            variant=\"standard\"\n            fullWidth\n          >\n            {(paramType === \"string\" ? stringCompare : numberCompare).map(\n              ([label, value]) => {\n                return (\n                  <MenuItem key={label + param} value={value}>\n                    {label}\n                  </MenuItem>\n                );\n              }\n            )}\n          </Select>\n        </Grid>\n        <Grid xs item>\n          <TextField\n            size=\"small\"\n            variant=\"standard\"\n            value={state?.[param]?.query}\n            fullWidth\n            onChange={event => handleQueryChange(event.target.value)}\n          />\n        </Grid>\n      </Grid>\n    );\n  };\n\n  const renderType = () => {\n    switch (paramType) {\n      case \"category\":\n        return categoryType();\n      default:\n        return comapareType();\n    }\n  };\n\n  return <React.Fragment>{renderType()}</React.Fragment>;\n};\n\nconst FilterForm = ({ applyFilter, initialFilter }) => {\n  // state reducer function\n  function reducer(state, action) {\n    if (!action?.param) {\n      return initialFilter;\n    } else {\n      return { ...state, [action.param]: action.payload };\n    }\n  }\n\n  const [state, dispatch] = useReducer(reducer, initialFilter);\n\n  const clearFilters = () => {\n    dispatch();\n    applyFilter(initialFilter);\n  };\n\n  const params = [\n    [\"id\", \"Package name\", \"string\"],\n    [\"version\", \"Package version\", \"string\"],\n    [\"license\", \"Package license\", \"string\"],\n    [\"depth\", \"Distance from root packages\", \"number\"],\n    [\"depenencies\", \"Package depenencies count\", \"number\"],\n    [\"lockfile\", \"Which Pipfile.lock\", \"category\", [\"new\", \"old\", \"both\"]],\n    [\n      \"change\",\n      \"Package change type\",\n      \"category\",\n      [\"added\", \"removed\", \"version\", \"unchanged\"]\n    ]\n  ];\n\n  return (\n    <Grid container alignItems=\"center\">\n      {params.map(([param, paramDisplay, paramType, paramCategory]) => {\n        return (\n          <FilterFormItem\n            state={state}\n            dispatch={dispatch}\n            param={param}\n            paramDisplay={paramDisplay}\n            paramType={paramType}\n            paramCategory={paramCategory}\n            key={param + paramType}\n          />\n        );\n      })}\n      <Grid item xs={12}>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={state?.between?.query}\n              onChange={event =>\n                dispatch({\n                  param: \"between\",\n                  payload: { query: event.target.checked }\n                })\n              }\n              name=\"checkedA\"\n            />\n          }\n          label=\"Include packages that are in paths from filtered to root\"\n        />\n      </Grid>\n      <Grid container justifyContent=\"flex-end\" item xs={12} mt={2}>\n        <Grid item xs={3}>\n          <Button onClick={clearFilters}>Clear filter</Button>\n        </Grid>\n        <Grid item xs={2}>\n          <Button variant=\"contained\" onClick={() => applyFilter(state)}>\n            Search\n          </Button>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default FilterForm;\n","// react\nimport React, { useState, useContext } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport {\n  Grid,\n  ToggleButtonGroup,\n  ToggleButton,\n  Button,\n  Collapse,\n  IconButton,\n  Badge\n} from \"@material-ui/core\";\nimport AccountTreeRoundedIcon from \"@material-ui/icons/AccountTreeRounded\";\nimport TableRowsIcon from \"@material-ui/icons/TableRows\";\nimport DescriptionRoundedIcon from \"@material-ui/icons/DescriptionRounded\";\nimport DownloadRoundedIcon from \"@material-ui/icons/DownloadRounded\";\nimport FilterAltRoundedIcon from \"@material-ui/icons/FilterAltRounded\";\n\n// Shared\nimport SearchBar from \"components/Shared/SearchBar\";\n\n// redux\nimport { StateContext } from \"App\";\n\n// local\nimport FilterForm from \"./FilterForm\";\nimport { MakeTextFile } from \"./hooks/MakeTextFile\";\n\nconst Toolbar = ({\n  handleSearch,\n  handleDisplay,\n  display,\n  applyFilter,\n  initialFilter\n}) => {\n  const [filterView, setFilterView] = useState(false);\n  const [filterCount, setFilterCount] = useState(0);\n\n  const state = useContext(StateContext);\n\n  // lockfile downloadLink\n  const downloadLink = MakeTextFile(\n    state?.advise?.report?.products?.[0]?.project?.requirements_locked\n  );\n\n  return (\n    <Grid\n      container\n      spacing={1}\n      alignItems=\"stretch\"\n      justifyContent=\"space-between\"\n    >\n      <Grid item xs>\n        <ToggleButtonGroup value={display} exclusive onChange={handleDisplay}>\n          <ToggleButton value=\"graph\">\n            <AccountTreeRoundedIcon />\n          </ToggleButton>\n          <ToggleButton value=\"table\">\n            <TableRowsIcon />\n          </ToggleButton>\n          <ToggleButton value=\"file\">\n            <DescriptionRoundedIcon />\n          </ToggleButton>\n        </ToggleButtonGroup>\n      </Grid>\n      {display !== \"file\" ? (\n        <Grid item xs={7}>\n          <SearchBar\n            helpertext=\"Filter packages\"\n            onChange={handleSearch}\n            righticon={\n              <Badge badgeContent={filterCount} color=\"primary\">\n                <IconButton\n                  aria-label=\"filter\"\n                  onClick={() => setFilterView(!filterView)}\n                >\n                  <FilterAltRoundedIcon />\n                </IconButton>\n              </Badge>\n            }\n          />\n        </Grid>\n      ) : (\n        <Grid item xs={3}>\n          <Button\n            sx={{ height: \"100%\" }}\n            variant=\"outlined\"\n            endIcon={<DownloadRoundedIcon />}\n            href={downloadLink}\n            download=\"Pipfile.lock\"\n          >\n            Download\n          </Button>\n        </Grid>\n      )}\n      <Grid item xs={12}>\n        <Collapse in={filterView}>\n          <FilterForm\n            initialFilter={initialFilter}\n            applyFilter={filter => {\n              let count = 0;\n              Object.entries(filter).forEach(([key, value]) => {\n                if (value.query !== initialFilter[key].query) {\n                  count++;\n                }\n              });\n              setFilterCount(count);\n              setFilterView(false);\n              applyFilter(filter);\n            }}\n          />\n        </Collapse>\n      </Grid>\n    </Grid>\n  );\n};\n\nToolbar.propTypes = {\n  handleSearch: PropTypes.func.isRequired,\n  handleDisplay: PropTypes.func.isRequired,\n  display: PropTypes.string.isRequired,\n  applyFilter: PropTypes.func.isRequired\n};\n\nexport default Toolbar;\n","import { useState, useEffect } from \"react\";\n\n// function for generating file and set download link\nexport const MakeTextFile = file => {\n  const [downloadLink, setDownloadLink] = useState(\"\");\n\n  useEffect(() => {\n    // this part avoids memory leaks\n    if (downloadLink !== \"\") window.URL.revokeObjectURL(downloadLink);\n  }, [downloadLink]);\n\n  useEffect(() => {\n    if (!file) {\n      return;\n    }\n\n    const data = new Blob([JSON.stringify(file, undefined, 4)], {\n      type: \"text/plain\",\n      endings: \"native\"\n    });\n\n    setDownloadLink(window.URL.createObjectURL(data));\n  }, [file]);\n\n  return downloadLink;\n};\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n  lockfile: {\n    overflow: \"scroll\",\n    paddingLeft: theme.spacing(1)\n  }\n}));\n\nconst Lockfile = ({ file }) => {\n  const classes = useStyles();\n\n  return (\n    <Typography variant=\"caption\">\n      <pre>\n        <div\n          className={classes.lockfile}\n          dangerouslySetInnerHTML={{\n            __html: JSON.stringify(file, undefined, 4)?.replaceAll(\n              new RegExp(\n                '(\"' + Object.keys(file?.default)?.join('\"|\"') + '\")',\n                \"g\"\n              ),\n              match => {\n                return `<a id=\"${match.slice(1, -1)}\">${match}</a>`;\n              }\n            )\n          }}\n        />\n      </pre>\n    </Typography>\n  );\n};\n\nLockfile.propTypes = {\n  file: PropTypes.shape({ default: PropTypes.object.isRequired })\n};\n\nexport default Lockfile;\n","// react\nimport React, { useState } from \"react\";\n\n// material-ui\nimport {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Typography,\n  Button\n} from \"@material-ui/core\";\nimport ExpandMoreRoundedIcon from \"@material-ui/icons/ExpandMoreRounded\";\n\nconst AccordianList = ({ justifications, handleJustificationSelect }) => {\n  const [expanded, setExpanded] = useState(false);\n\n  return (\n    <>\n      {justifications.map((justification, i) => {\n        if (justification.type !== \"INFO\") {\n          return (\n            <Accordion\n              key={i}\n              onChange={(event, isExpanded) => {\n                handleJustificationSelect(\n                  event,\n                  isExpanded,\n                  justification.package_name,\n                  i\n                );\n                setExpanded(isExpanded ? i : false);\n              }}\n              expanded={expanded === i}\n            >\n              <AccordionSummary\n                expandIcon={<ExpandMoreRoundedIcon />}\n                aria-controls=\"panel1a-content\"\n                id=\"panel1a-header\"\n              >\n                <Typography>{justification.message}</Typography>\n              </AccordionSummary>\n              <AccordionDetails>\n                <Typography>{justification.advisory}</Typography>\n                <Button href={justification.link}>READ MORE</Button>\n              </AccordionDetails>\n            </Accordion>\n          );\n        } else return null;\n      })}\n    </>\n  );\n};\n\nexport default AccordianList;\n","/**\n * Graph node/vertex that hold adjacencies nodes\n * For performance, uses a HashSet instead of array for adjacents.\n */\nexport class Node {\n  constructor(key, value) {\n    this.adjacents = new Set(); // adjacency list\n    this.key = key; // key\n    this.value = value;\n  }\n\n  /**\n   * Add node to adjacency list\n   * Runtime: O(1)\n   * @param {Node} node\n   */\n  addAdjacent(node) {\n    this.adjacents.add(node);\n  }\n\n  /**\n   * Check if a Node is adjacent to other\n   * Runtime: O(1)\n   * @param {Node} node\n   */\n  isAdjacent(node) {\n    return this.adjacents.has(node);\n  }\n\n  /**\n   * Get all adjacent nodes\n   */\n  getAdjacents() {\n    return Array.from(this.adjacents);\n  }\n}\n","import { Node } from \"utils/Node\";\n\n/**\n * Graph data structure implemented with an adjacent list\n */\nexport class Graph {\n  constructor() {\n    this.nodes = new Map();\n  }\n\n  /**\n   * Add a node to the graph.\n   */\n  addVertex(key, value) {\n    if (this.nodes.has(key)) {\n      return this.nodes.get(key);\n    }\n\n    const vertex = new Node(key, value);\n    this.nodes.set(key, vertex);\n    return vertex;\n  }\n\n  /**\n   * Create a connection between the source node and the destination node.\n   * If the nodes don't exist, then it will make them on the fly.\n   */\n  addEdge(source, destination) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n\n    sourceNode.addAdjacent(destinationNode);\n\n    return [sourceNode, destinationNode];\n  }\n\n  /**\n   * True if two nodes are adjacent.\n   */\n  areAdjacents(source, destination) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n\n    if (sourceNode && destinationNode) {\n      return sourceNode.isAdjacent(destinationNode);\n    }\n\n    return false;\n  }\n\n  /**\n   * Generic graph search where we can pass a bfs or dfs\n   */\n  *graphSearch(first, type = \"bfs\") {\n    const visited = new Map();\n    const visitList = [];\n\n    visitList.push(first);\n\n    while (visitList.length !== 0) {\n      const node = type === \"dfs\" ? visitList.pop() : visitList.shift();\n      if (node && !visited.has(node)) {\n        yield node;\n        visited.set(node);\n        node.getAdjacents().forEach(adj => visitList.push(adj));\n      }\n    }\n  }\n\n  /**\n   * Find a path between source and destination\n   * It might not be the optimal path\n   */\n  findPath(source, destination, path = new Map()) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n    const newPath = new Map(path);\n\n    if (!destinationNode || !sourceNode) return [];\n\n    newPath.set(sourceNode);\n\n    if (source === destination) {\n      return Array.from(newPath.keys());\n    }\n\n    // eslint-disable-next-line no-restricted-syntax\n    for (const node of sourceNode.getAdjacents()) {\n      if (!newPath.has(node)) {\n        const nextPath = this.findPath(node.value, destination, newPath);\n        if (nextPath.length) {\n          return nextPath;\n        }\n      }\n    }\n\n    return [];\n  }\n\n  /**\n   * Find all paths from source to destination\n   */\n  findAllPaths(source, destination, path = new Map()) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n    const newPath = new Map(path);\n\n    if (!destinationNode || !sourceNode) return [];\n\n    newPath.set(sourceNode);\n\n    if (source === destination) {\n      return [Array.from(newPath.keys())];\n    }\n\n    const paths = [];\n    sourceNode.getAdjacents().forEach(node => {\n      if (!newPath.has(node)) {\n        const nextPaths = this.findAllPaths(\n          node.value.id,\n          destination,\n          newPath\n        );\n        nextPaths.forEach(nextPath => {\n          paths.push(nextPath);\n        });\n      }\n    });\n    return paths;\n  }\n}\n","// React\nimport React, { useContext, useState, useEffect } from \"react\";\n\n// local components\nimport NetworkGraph from \"./NetworkGraph.js\";\nimport TabPanel from \"components/Shared/TabPanel\";\nimport AdviseTable from \"./AdviseTable\";\nimport Toolbar from \"./Toolbar\";\nimport Lockfile from \"./Lockfile\";\nimport AccordianList from \"./AccordianList\";\n\n// Shared\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n//utils\nimport { Graph } from \"utils/Graph\";\n\n// material-ui\nimport { Paper, Grid, Card, CardContent, CardHeader } from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/styles\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst useStyles = makeStyles(theme => ({\n  graph: {\n    padding: theme.spacing(2)\n  }\n}));\n\nconst PackageDependencies = () => {\n  const classes = useStyles();\n  const state = useContext(StateContext);\n\n  const root = state.focus ?? \"*App\";\n\n  const initialFilter = {\n    lockfile: { query: \"new\", operator: \"=\" },\n    change: { query: \"\", operator: \"=\" },\n    id: { operator: \"=\", query: \"\" },\n    version: { operator: \"=\", query: \"\" },\n    license: { operator: \"=\", query: \"\" },\n    depth: { operator: \"=\", query: \"\" },\n    depenencies: { operator: \"=\", query: \"\" },\n    between: { query: true }\n  };\n\n  const [search, setSearch] = useState(\"\");\n  const [filter, setFilter] = useState(initialFilter);\n  const [filteredGraph, setFilteredGraph] = useState();\n\n  // for display control\n  const [display, setDisplay] = useState(\"graph\");\n\n  const handleJustificationSelect = (event, isExpanded, package_name, i) => {\n    if (isExpanded) {\n      setFilter({\n        ...filter,\n        id: { query: package_name, operator: \"=\" },\n        between: { query: true }\n      });\n      setSearch(package_name);\n      const section = document.getElementById(package_name);\n      if (section) {\n        section.scrollIntoView({ block: \"start\", behavior: \"smooth\" });\n      }\n    } else {\n      setFilter(initialFilter);\n      setSearch(\"\");\n    }\n  };\n\n  const handleDisplay = (event, newDisplay) => {\n    if (newDisplay) {\n      setDisplay(newDisplay);\n    }\n  };\n\n  const handleSearch = event => {\n    setSearch(event.target.value);\n  };\n\n  const applyFilter = filter => {\n    setFilter(filter);\n  };\n\n  useEffect(() => {\n    if (!filter || !state?.mergedGraph?.nodes) {\n      return;\n    }\n\n    const filteredNodes = new Map();\n    state.mergedGraph.nodes.forEach((value, key) => {\n      let passing = true;\n      Object.entries(filter).forEach(([paramName, paramDetails]) => {\n        if (paramDetails.query !== \"\") {\n          if (paramName === \"lockfile\") {\n            passing =\n              (paramDetails.query === \"both\" ||\n                value.value[paramName].includes(paramDetails.query)) &&\n              passing;\n            return;\n          } else if (key === root) {\n            return;\n          }\n\n          const compare = isNaN(Number(value.value[paramName]))\n            ? value.value[paramName]\n            : Number(value.value[paramName]);\n\n          const query = isNaN(Number(paramDetails.query))\n            ? paramDetails.query\n            : Number(paramDetails.query);\n\n          switch (paramDetails.operator) {\n            case \"=\":\n              passing = query === compare && passing;\n              break;\n            case \"!=\":\n              passing = query !== compare && passing;\n              break;\n            case \">\":\n              passing = compare > query && passing;\n              break;\n            case \">=\":\n              passing = compare >= query && passing;\n              break;\n            case \"<\":\n              passing = compare < query && passing;\n              break;\n            case \"<=\":\n              passing = compare <= query && passing;\n              break;\n            case \"~\":\n              passing =\n                value.value[paramName].includes(paramDetails.query) && passing;\n              break;\n            case \"!~\":\n              passing =\n                !value.value[paramName].includes(paramDetails.query) && passing;\n              break;\n            default:\n              if (query) {\n                passing = query && passing;\n              }\n          }\n        }\n      });\n      if (passing) {\n        filteredNodes.set(key, state.mergedGraph.nodes.get(key));\n      }\n    });\n\n    const graph = new Graph();\n    graph.nodes = filteredNodes;\n    graph.visEdges = state.mergedGraph.visEdges;\n\n    setFilteredGraph(graph);\n  }, [filter, state.mergedGraph, root]);\n\n  return (\n    <LoadingErrorTemplate isLoading={state.mergedGraph === undefined}>\n      <Grid\n        container\n        spacing={2}\n        justifyContent=\"center\"\n        alignItems=\"flex-start\"\n        mt={2}\n      >\n        <Grid item s={12} md={6}>\n          <Paper className={classes.graph}>\n            <Toolbar\n              handleSearch={handleSearch}\n              handleDisplay={handleDisplay}\n              display={display}\n              initialFilter={initialFilter}\n              applyFilter={applyFilter}\n            />\n            <TabPanel value={display} index={\"graph\"}>\n              <NetworkGraph\n                className={classes.graph}\n                root={root}\n                search={search}\n                filteredGraph={filteredGraph}\n                renderPathNodes={filter?.between?.query}\n                lockfile={filter?.lockfile?.query}\n              />\n            </TabPanel>\n            <TabPanel value={display} index={\"table\"}>\n              <AdviseTable search={search} filteredGraph={filteredGraph} />\n            </TabPanel>\n            <TabPanel value={display} index={\"file\"}>\n              <Lockfile\n                file={\n                  state?.advise?.report?.products?.[0]?.project\n                    ?.requirements_locked\n                }\n              />\n            </TabPanel>\n          </Paper>\n        </Grid>\n        <Grid item s={12} md={6}>\n          <Card className={classes.root}>\n            <CardHeader title=\"Thoth Justifications\" />\n            <CardContent>\n              {\" \"}\n              <AccordianList\n                justifications={\n                  state?.advise?.report?.products?.[0]?.justification\n                }\n                handleJustificationSelect={handleJustificationSelect}\n              />\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default PackageDependencies;\n","// api\nimport { thothSearchForPackage, getLicenses } from \"services/thothApi\";\n\n// utils\nimport { Graph } from \"utils/Graph\";\nimport { Node } from \"utils/Node\";\n\n// redux\nimport { DispatchContext, StateContext } from \"App\";\n\nimport { useContext, useEffect, useState } from \"react\";\n\nimport { useTheme } from \"@material-ui/core/styles\";\n\n// React hook for computing metrics and applying to state\nexport function useComputeMetrics(graph, label) {\n  const dispatch = useContext(DispatchContext);\n  const state = useContext(StateContext);\n\n  useEffect(() => {\n    if (!state?.advise?.metadata || !state?.mergedGraph) {\n      return;\n    }\n\n    const advise = {\n      added: 0,\n      removed: 0,\n      version: 0,\n      unchanged: 0,\n      justification: {},\n      build: null\n    };\n\n    // package changes\n    state.mergedGraph.nodes.forEach(node => {\n      switch (node.value.change) {\n        case \"added\":\n          advise.added++;\n          break;\n        case \"removed\":\n          advise.removed++;\n          break;\n        case \"version\":\n          advise.version++;\n          break;\n        default:\n          advise.unchanged++;\n      }\n    });\n\n    // build environment\n    advise.build = `We have analysed an application stack running on ${state.advise.metadata.os_release.name} ${state.advise.metadata.os_release.version}, running Python (${state.advise.metadata.python.implementation_name}) ${state.advise.metadata.python.major}.${state.advise.metadata.python.minor}.${state.advise.metadata.python.micro}. It was Adviser Job ID ${state.advise.metadata.document_id}, by ${state.advise.metadata.analyzer} v${state.advise.metadata.analyzer_version}. `;\n\n    // justification counts\n    state.advise?.report?.products?.[0]?.justification.forEach(\n      justification => {\n        if (justification.type !== \"INFO\") {\n          if (advise?.justification[justification.type] !== undefined) {\n            advise.justification[justification.type]++;\n          } else {\n            advise.justification[justification.type] = 0;\n          }\n        }\n      }\n    );\n\n    dispatch({\n      type: \"metric\",\n      metric: \"advise\",\n      payload: advise\n    });\n  }, [state.mergedGraph, state.advise, dispatch]);\n\n  // get license info\n  const [licenseData, setLicenseData] = useState();\n  useEffect(() => {\n    getLicenses()\n      .then(licenseData => {\n        setLicenseData(licenseData);\n      })\n      .catch(() => setLicenseData({}));\n  }, []);\n\n  useEffect(() => {\n    if (!graph || !licenseData) {\n      return;\n    }\n\n    let dependencies = {\n      all: {},\n      roots: {}\n    };\n\n    let licenses = { total: undefined, all: {} };\n\n    const roots = [];\n    graph.nodes.forEach(value => {\n      if (value.value.depth === 0) {\n        roots.push(value.key);\n      }\n    });\n\n    const visited = new Set();\n\n    // for each starting node\n    roots.forEach(root => {\n      const bfs = graph.graphSearch(graph.nodes.get(root));\n      const visitedOrder = Array.from(bfs);\n\n      // depth to type of dependency\n      visitedOrder.forEach(node => {\n        if (visited.has(node.value.id)) {\n          return;\n        } else {\n          visited.add(node.value.id);\n        }\n\n        const depth =\n          node.value.depth === 0\n            ? \"roots\"\n            : node.value.depth === 1\n            ? \"direct\"\n            : \"indirect\";\n\n        // dependency metric\n        dependencies = {\n          all: {\n            ...dependencies.all,\n            [depth]: (dependencies.all[depth] ?? 0) + 1\n          },\n          roots: {\n            ...dependencies.roots,\n            [root]: {\n              ...(dependencies.roots[root] ?? null),\n              [depth]: (dependencies.roots?.[root]?.[depth] ?? 0) + 1\n            }\n          }\n        };\n\n        // licence metric\n        const packageLicenses = [];\n\n        // get general classification\n        (\n          node?.value?.metadata?.classifier ??\n          node?.value?.metadata?.classifiers\n        )?.forEach(classifier => {\n          const parsed = classifier.split(\" :: \");\n\n          if (parsed[0] === \"License\") {\n            if (parsed[1] === \"OSI Approved\") {\n              packageLicenses.push({\n                generalLicense: parsed?.[2] ?? node.value.metadata.license,\n                specificLicense: node.value.metadata.license,\n                isOsiApproved: true\n              });\n            } else {\n              packageLicenses.push({\n                generalLicense: parsed?.[1] ?? node.value.metadata.license,\n                specificLicense: node.value.metadata.license,\n                isOsiApproved: false\n              });\n            }\n          }\n        });\n\n        if (packageLicenses.length === 0) {\n          // find license in dataset\n          let found = undefined;\n          if (licenseData.licenses) {\n            found = licenseData.licenses.find(l => {\n              const lower = node.value.metadata.license.toLowerCase();\n              return (\n                l.name.toLowerCase() === lower ||\n                l.licenseId.toLowerCase() === lower\n              );\n            });\n          }\n          if (found) {\n            packageLicenses.push({\n              generalLicense: found.name,\n              specificLicense: found.licenseId,\n              isOsiApproved: found.isOsiApproved\n            });\n          } else {\n            packageLicenses.push({\n              generalLicense: node.value.metadata.license,\n              specificLicense: node.value.metadata.license,\n              isOsiApproved: null\n            });\n          }\n        }\n\n        // get specific classification\n        packageLicenses.forEach(license => {\n          licenses = {\n            total: (licenses.total ?? 0) + 1,\n            all: {\n              ...licenses.all,\n              [license.generalLicense]: {\n                ...(licenses.all[license.generalLicense] ?? null),\n                [node.value.label]: {\n                  depth: node.value.depth,\n                  specific: license.specificLicense\n                },\n                _meta: {\n                  isOsiApproved: license.isOsiApproved\n                }\n              }\n            }\n          };\n        });\n      });\n    });\n\n    // apply metrics to global state\n    dispatch({\n      type: \"metric\",\n      metric: \"dependencies\",\n      label: label,\n      payload: dependencies\n    });\n    dispatch({\n      type: \"metric\",\n      metric: \"licenses\",\n      label: label,\n      payload: licenses\n    });\n  }, [graph, dispatch, licenseData, label]);\n}\n\nexport function useMergeGraphs(oldGraph, newGraph, root) {\n  const dispatch = useContext(DispatchContext);\n\n  const theme = useTheme();\n\n  useEffect(() => {\n    if (!oldGraph || !newGraph || !root) {\n      return;\n    }\n\n    const visGraphEdges = [];\n    const edgeColors = new Map();\n    const mergedGraph = new Graph();\n\n    oldGraph.nodes.forEach((value, key) => {\n      // if the new and old graph have the same package\n      if (newGraph.nodes.has(key)) {\n        // if the versions match\n        const newNode = newGraph.nodes.get(key);\n\n        newNode.value[\"label\"] =\n          newNode.value.label + \" \" + (newNode?.value?.metadata?.version ?? \"\");\n        newNode.value[\"version\"] = newNode?.value?.metadata?.version ?? \"\";\n        newNode.value[\"depenencies\"] = newNode.adjacents.size;\n        newNode.value[\"license\"] = newNode?.value?.metadata?.license ?? \"\";\n        newNode.value[\"lockfile\"] = [\"new\", \"old\"];\n\n        if (\n          key === root ||\n          value.value.metadata.version === newNode.value.metadata.version\n        ) {\n          mergedGraph.nodes.set(newNode.key, newNode);\n          newNode.value[\"change\"] = \"unchanged\";\n        }\n        // if the versions are different\n        else {\n          mergedGraph.nodes.set(newNode.key, newNode);\n          newNode.value[\"change\"] = \"version\";\n          newNode.value[\"font\"] = {\n            color: theme.palette.success.main\n          };\n        }\n      }\n      // if new graph does not have package then it is removed\n      else {\n        mergedGraph.nodes.set(value.key, value);\n        value.value[\"change\"] = \"removed\";\n        value.value[\"label\"] =\n          value.value.label + \" \" + (value?.value?.metadata?.version ?? \"\");\n        value.value[\"font\"] = {\n          color: theme.palette.error.main\n        };\n        value.value[\"color\"] = theme.palette.error.main;\n        value.value[\"version\"] = value?.value?.metadata?.version ?? \"\";\n        value.value[\"depenencies\"] = value.adjacents.size;\n        value.value[\"license\"] = value?.value?.metadata?.license ?? \"\";\n        value.value[\"lockfile\"] = [\"old\"];\n\n        edgeColors.set(value.value.id, theme.palette.error.main);\n      }\n    });\n\n    // get added nodes\n    newGraph.nodes.forEach((value, key) => {\n      // if the old grpah does not have what new graph has\n      if (!oldGraph.nodes.has(key)) {\n        mergedGraph.nodes.set(value.key, value);\n        value.value[\"change\"] = \"added\";\n        value.value[\"label\"] =\n          value.value.label + \" \" + (value?.value?.metadata?.version ?? \"\");\n        value.value[\"font\"] = {\n          color: theme.palette.success.main\n        };\n        value.value[\"color\"] = theme.palette.success.main;\n        value.value[\"version\"] = value?.value?.metadata?.version ?? \"\";\n        value.value[\"depenencies\"] = value.adjacents.size;\n        value.value[\"license\"] = value?.value?.metadata?.license ?? \"\";\n        value.value[\"lockfile\"] = [\"new\"];\n\n        edgeColors.set(value.value.id, theme.palette.success.main);\n      }\n    });\n\n    const newRoot = newGraph.nodes.get(root);\n    const oldRoot = oldGraph.nodes.get(root);\n    const combinedRoot = new Node(\n      root,\n      JSON.parse(JSON.stringify(newRoot.value))\n    );\n    oldRoot.getAdjacents().forEach(item => combinedRoot.adjacents.add(item));\n    newRoot.getAdjacents().forEach(item => combinedRoot.adjacents.add(item));\n\n    mergedGraph.nodes.set(root, combinedRoot);\n\n    //r.adjacents.add(...oldRoot.adjacents, ...newRoot.adjacents);\n\n    // add edges from old graph\n    oldGraph.nodes.forEach((value, key) => {\n      // set package edges\n      value.adjacents.forEach(adj => {\n        visGraphEdges.push({\n          to: value.value.id,\n          from: adj.value.id,\n          color: edgeColors.get(adj.value.id) ?? undefined\n        });\n      });\n    });\n\n    // add edges from new graph\n    newGraph.nodes.forEach((value, key) => {\n      // set package edges\n      value.adjacents.forEach(adj => {\n        visGraphEdges.push({\n          to: value.value.id,\n          from: adj.value.id,\n          color: edgeColors.get(adj.value.id) ?? undefined\n        });\n      });\n    });\n\n    // add edges to merged graph Object\n    mergedGraph[\"visEdges\"] = visGraphEdges;\n\n    // set state\n    dispatch({\n      type: \"graph\",\n      name: \"mergedGraph\",\n      payload: mergedGraph\n    });\n  }, [oldGraph, newGraph, theme, root, dispatch]);\n}\n\nexport function useLockFileToGraph(pipfile, pipfileLock, stateName) {\n  const dispatch = useContext(DispatchContext);\n\n  useEffect(() => {\n    if (!pipfile || !pipfileLock || !stateName) {\n      return;\n    }\n\n    const graph = new Graph();\n\n    (async () => {\n      const cantBeRoots = [];\n\n      await Promise.all(\n        // create nodes\n        Object.entries(pipfileLock).map(async ([key, value]) => {\n          // if package in pipfile has a match in the pipfile.lock\n          if (localStorage.getItem(key + value.version.replace(\"==\", \"\"))) {\n            const metadata = JSON.parse(\n              localStorage.getItem(key + value.version.replace(\"==\", \"\"))\n            );\n            const v = {\n              id: metadata.name.toLowerCase().replace(\".\", \"-\"),\n              label: metadata.name,\n              depth: null,\n              metadata: metadata\n            };\n\n            // add root to graph\n            graph.addVertex(v.id, v);\n\n            // add to cantBeRoots list\n\n            metadata.requires_dist?.forEach(adj => {\n              const adjacentName = adj\n                .split(\" \", 1)[0]\n                .toLowerCase()\n                .replace(\".\", \"-\");\n              const adjacentData = pipfileLock[adjacentName];\n\n              // if package exists in lockfile\n              if (adjacentData) {\n                cantBeRoots.push(adjacentName);\n              }\n            });\n          } else {\n            return await thothSearchForPackage(\n              key,\n              value.version.replace(\"==\", \"\")\n            ).then(metadata => {\n              const v = {\n                id: metadata.name.toLowerCase().replace(\".\", \"-\"),\n                label: metadata.name,\n                depth: null,\n                metadata: metadata\n              };\n\n              localStorage.setItem(\n                key + value.version.replace(\"==\", \"\"),\n                JSON.stringify(metadata)\n              );\n\n              // add root to graph\n              graph.addVertex(v.id, v);\n\n              // add to cantBeRoots list\n              metadata.requires_dist?.forEach(adj => {\n                const adjacentName = adj\n                  .split(\" \", 1)[0]\n                  .toLowerCase()\n                  .replace(\".\", \"-\");\n                const adjacentData = pipfileLock[adjacentName];\n\n                // if package exists in lockfile\n                if (adjacentData) {\n                  cantBeRoots.push(adjacentName);\n                }\n              });\n            });\n          }\n        })\n      ).catch(e => {\n        dispatch({\n          type: \"error\",\n          payload:\n            (e?.response?.statusText ?? \"Unknown Error\") +\n            \": an error occured while fetching package data.\"\n        });\n      });\n\n      // add app to graph\n      const app = graph.addVertex(\"*App\", {\n        id: \"*App\",\n        label: \"App\",\n        depth: -1\n      });\n      cantBeRoots.push(\"*App\");\n\n      // get roots\n      const visited = new Map();\n      const visitList = [];\n      graph.nodes.forEach((value, key, map) => {\n        if (!cantBeRoots.includes(key) || Object.keys(pipfile).includes(key)) {\n          const node = map.get(key);\n          node.value.depth = 0;\n          visitList.push(node);\n\n          graph.addEdge(app.key, node.key);\n        }\n      });\n\n      // run dfs to connect nodes\n\n      const promiseWhile = (data, condition, action) => {\n        var whilst = data => {\n          return condition(data)\n            ? action().then(whilst)\n            : Promise.resolve(data);\n        };\n        return whilst(data);\n      };\n\n      await promiseWhile(\n        visitList,\n        i => i.length > 0,\n        () => {\n          const node = visitList.pop();\n          if (node && !visited.has(node)) {\n            visited.set(node);\n\n            // get dependencies\n            if (node?.value?.metadata?.requires_dist) {\n              // for each dependency, parse to get name\n              node.value.metadata.requires_dist.map(async adj => {\n                const adjacentNode = graph.nodes.get(\n                  adj\n                    .split(\" \", 1)[0]\n                    .toLowerCase()\n                    .replace(\".\", \"-\")\n                );\n\n                // if package exists in lockfile\n                if (adjacentNode) {\n                  // update depth\n                  adjacentNode.value.depth = Math.min(\n                    node.value.depth + 1,\n                    adjacentNode.value.depth ?? node.value.depth + 2\n                  );\n\n                  // add edge connecting parent and dependency\n                  graph.addEdge(node.key, adjacentNode.value.id);\n                  await visitList.push(adjacentNode);\n                }\n              });\n            }\n          }\n          return new Promise((resolve, reject) => {\n            resolve(visitList);\n          });\n        }\n      );\n    })().then(() => {\n      dispatch({\n        type: \"graph\",\n        name: stateName,\n        payload: graph\n      });\n    });\n  }, [pipfile, pipfileLock, dispatch, stateName]);\n}\n","import { useEffect, useRef } from \"react\";\n\nexport const useInterval = (callback, delay) => {\n  const savedCallback = useRef();\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      const id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n","// React\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\n// local\nimport MetricLayout from \"components/Dashboard/Summary/MetricLayout\";\nimport PackageHeader from \"components/Dashboard/Summary/PackageHeader\";\nimport AdviseHeader from \"components/Dashboard/AdviseHeader\";\n\nimport TabPanel from \"components/Shared/TabPanel\";\nimport AdvisePage from \"components/Dashboard/Advise/AdvisePage\";\n\n// utils\nimport {\n  useComputeMetrics,\n  useLockFileToGraph,\n  useMergeGraphs\n} from \"utils/produceMetrics\";\nimport { useInterval } from \"utils/useInterval\";\n\n// api\nimport { thothAdviseResult, thothAdviseStatus } from \"services/thothApi\";\n\n// redux\nimport { StateContext, DispatchContext } from \"App\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Tab, Tabs, Typography } from \"@material-ui/core\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    maxWidth: \"95%\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    paddingRight: theme.spacing(3),\n    paddingLeft: theme.spacing(3),\n    marginTop: theme.spacing(4)\n  }\n}));\n\n// The page that displays all analyis data\nexport const Dashboard = ({ location }) => {\n  const classes = useStyles();\n  const params = useParams();\n  const state = useContext(StateContext);\n  const dispatch = useContext(DispatchContext);\n\n  // for tab control\n  const [value, setValue] = useState(0);\n\n  // delay for each status api call\n  const [pollingTime, setPollingTime] = useState(null);\n\n  const getStatus = () => {\n    thothAdviseStatus(params.analysis_id)\n      .then(response => {\n        // set next polling delay\n        const status = response.data.status;\n\n        dispatch({\n          type: \"advise\",\n          param: \"status\",\n          payload: status\n        });\n\n        if (response.data.error && state.error !== response.data.error) {\n          dispatch({\n            type: \"error\",\n            payload: response.data.error\n          });\n        }\n\n        // check if advise is done\n        // if done then turn off polling whcih triggers another call for results\n        if (status.finished_at !== null) {\n          setPollingTime(null);\n        } else {\n          setPollingTime(\n            pollingTime !== null ? Math.min(pollingTime * 2, 8000) : null\n          );\n        }\n      })\n      .catch(e => {\n        dispatch({\n          type: \"error\",\n          payload:\n            (e?.response?.statusText ?? \"Unknown Error\") +\n            \": an error occured while fetching Thoth advise status.\"\n        });\n      });\n  };\n\n  // first reset state if using new anyalysis id\n  useEffect(() => {\n    if (!state?.analysis_id || params.analysis_id !== state?.analysis_id) {\n      dispatch({\n        type: \"reset\"\n      });\n      dispatch({\n        type: \"advise\",\n        param: \"analysis_id\",\n        payload: params.analysis_id\n      });\n    }\n  }, [params.analysis_id, state?.analysis_id, dispatch]);\n\n  // fetch results of advise\n  useEffect(() => {\n    // only run if polling is turned off (meaning the result is ready)\n    if (pollingTime !== null) {\n      return;\n    }\n\n    // get results of advise request\n    thothAdviseResult(params.analysis_id)\n      .then(response => {\n        const data = response?.data;\n\n        // if cant run advise error\n        if (response.status === 400 || response.status === 404) {\n          // set error and stop polling\n          setPollingTime(null);\n          dispatch({\n            type: \"advise\",\n            param: \"error\",\n            payload: data.error\n          });\n        }\n\n        // if not done then start polling\n        else if (response.status === 202) {\n          if (response.data.status.state === \"error\") {\n            dispatch({\n              type: \"advise\",\n              param: \"status\",\n              payload: response.data.status\n            });\n          } else {\n            setPollingTime(500);\n          }\n        }\n\n        // if done then set results and stop polling\n        // note this could also have an error but should of been stopped above\n        else if (response.status === 200) {\n          // stop polling when done\n          setPollingTime(null);\n\n          if (data.result?.error) {\n            dispatch({\n              type: \"advise\",\n              param: \"error\",\n              payload: data.result.error_msg\n            });\n          }\n          dispatch({\n            type: \"advise\",\n            param: \"initProject\",\n            payload: data.result.parameters.project\n          });\n          dispatch({\n            type: \"advise\",\n            param: \"report\",\n            payload: data.result.report\n          });\n          dispatch({\n            type: \"advise\",\n            param: \"metadata\",\n            payload: data.metadata\n          });\n        }\n        // if an unknown response occured\n        else {\n          dispatch({\n            type: \"advise\",\n            param: \"error\",\n            payload: \"Unknown Error: Aborting\"\n          });\n        }\n      })\n      .catch(e => {\n        dispatch({\n          type: \"error\",\n          payload:\n            (e?.response?.statusText ?? \"Unknown Error\") +\n            \": an error occured while fetching Thoth advise results.\"\n        });\n      });\n  }, [params.analysis_id, dispatch, pollingTime]);\n\n  useInterval(() => {\n    getStatus();\n  }, pollingTime);\n\n  // create graphs\n  useLockFileToGraph(\n    state?.advise?.report?.products?.[0]?.project?.requirements?.packages,\n    state?.advise?.report?.products?.[0]?.project?.requirements_locked?.default,\n    \"adviseGraph\"\n  );\n  useLockFileToGraph(\n    state?.advise?.initProject?.requirements?.packages,\n    state?.advise?.initProject?.requirements_locked?.default,\n    \"initGraph\"\n  );\n  useComputeMetrics(state.adviseGraph, \"new\");\n  useComputeMetrics(state.initGraph, \"old\");\n  useMergeGraphs(state.initGraph, state.adviseGraph, \"*App\");\n\n  // handle tab change\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div className={classes.root}>\n      {state?.focus ? (\n        <PackageHeader />\n      ) : (\n        <AdviseHeader adviseID={params.analysis_id} />\n      )}\n      {state?.roots?.map(r => {\n        if (r.error) {\n          return (\n            <Typography color=\"error\" gutterBottom variant=\"body2\">\n              {r.error}\n            </Typography>\n          );\n        }\n        return null;\n      })}\n      <Typography color=\"error\">{state?.error}</Typography>\n      <Tabs\n        value={value}\n        onChange={handleChange}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n      >\n        <Tab label=\"Summary\" />\n        <Tab label=\"Advise Results\" />\n      </Tabs>\n      <TabPanel value={value} index={0}>\n        <MetricLayout />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <AdvisePage />\n      </TabPanel>\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import { Route, Switch } from \"react-router-dom\";\nimport { ROOT, DASHBOARD } from \"./CONSTANTS\";\nimport NotFound from \"./NotFound\";\nimport Home from \"pages/Home/Home\";\nimport Dashboard from \"pages/Dashboard/Dashboard\";\n\nexport const RouterConfig = () => {\n  return (\n    <Switch>\n      <Route exact path={ROOT} component={Home} />\n      <Route exact path={DASHBOARD + \"/:analysis_id\"} component={Dashboard} />\n\n      <Route path=\"*\" status={404}>\n        <NotFound />\n      </Route>\n    </Switch>\n  );\n};\n\nexport default RouterConfig;\n","export const REPONAME = \"/thoth-search\";\nexport const ROOT = \"/\";\nexport const DASHBOARD = \"/dashboard\";\n","export function reducer(state, action) {\n  switch (action.type) {\n    case \"graph\":\n      return { ...state, [action.name]: action.payload };\n    case \"metric\":\n      if (!action.label) {\n        return {\n          ...state,\n          metrics: {\n            ...state.metrics,\n            [action.metric]: action.payload\n          }\n        };\n      } else {\n        return {\n          ...state,\n          metrics: {\n            ...state.metrics,\n            [action.label]: {\n              ...state.metrics?.[action.label],\n              [action.metric]: action.payload\n            }\n          }\n        };\n      }\n\n    case \"error\": {\n      return {\n        ...state,\n        error: action.payload\n      };\n    }\n    case \"advise\": {\n      return {\n        ...state,\n        advise: {\n          ...state.advise,\n          [action.param]: action.payload\n        }\n      };\n    }\n    case \"packageWarning\": {\n      return {\n        ...state,\n        packageWarning: action.payload\n      };\n    }\n    case \"reset\": {\n      return initState;\n    }\n    case \"localStorage\": {\n      return action.payload;\n    }\n    case \"focus\": {\n      return { ...state, focus: action.payload };\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport const initState = {};\n","// local utils and configs\nimport { themeLight } from \"styles/theme\";\n\n// ROUTER\nimport { BrowserRouter } from \"react-router-dom\";\nimport { RouterConfig } from \"navigation/RouterConfig\";\nimport { REPONAME } from \"navigation/CONSTANTS\";\n\n// material ui\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\n// react\nimport React, { useReducer } from \"react\";\n\n// redux\nimport { reducer, initState } from \"redux/reducer\";\n\n// context for reducer\nexport const StateContext = React.createContext();\nexport const DispatchContext = React.createContext();\n\nfunction App() {\n  // for state control\n  const [state, dispatch] = useReducer(reducer, initState);\n  return (\n    <ThemeProvider theme={themeLight}>\n      <CssBaseline />\n      <BrowserRouter basename={REPONAME}>\n        <StateContext.Provider value={state}>\n          <DispatchContext.Provider value={dispatch}>\n            <RouterConfig />\n          </DispatchContext.Provider>\n        </StateContext.Provider>\n      </BrowserRouter>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}