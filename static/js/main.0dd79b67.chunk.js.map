{"version":3,"sources":["styles/theme.js","navigation/NotFound.js","components/Shared/SearchBar.js","services/CONSTANTS.js","services/thothApi.js","pages/Home/Home.js","components/InfoCard/InfoCard.js","components/Shared/ErrorPage.js","components/Shared/LoadingErrorTemplate.js","components/Shared/ProgressBar.js","components/Metrics/DependenciesMetric.js","components/Metrics/LicenseMetric.js","components/Dashboard/PackageMetrics.js","components/Shared/IconText.js","utils/timeSince.js","components/Dashboard/PackageHeader.js","components/Shared/TabPanel.js","utils/recurseToRoot.js","config/networkOptions.js","components/Metrics/DependenciesMetric/NetworkGraph.js","components/Dashboard/PackageDependencies.js","utils/createDependencyGraph.js","utils/produceMetrics.js","pages/Dashboard/Dashboard.js","navigation/RouterConfig.js","navigation/CONSTANTS.js","App.js","index.js"],"names":["themeLight","createMuiTheme","palette","background","default","NotFound","text","Typography","variant","useStyles","makeStyles","theme","root","display","flexDirection","alignItems","flexGrow","SearchBar","onChange","label","helperText","error","classes","className","TextField","type","bar","e","target","value","THOTH","searchForPackage","name","version","axios","get","PYPI","thothGetDependencies","index","params","timeout","headers","accept","flexFlow","marginTop","search","justifyContent","minWidth","description","marginBottom","spacing","title","button","marginLeft","Home","history","useHistory","useState","setSearch","setError","handleChange","Button","color","onClick","then","result","push","DASHBOARD","catch","console","log","bullet","margin","transform","fontSize","pos","InfoCard","cardMeta","cardBody","Card","CardHeader","action","subheader","subTitle","CardContent","ErrorPage","align","LoadingErrorTemplate","children","state","errorText","show404","loadingPage","undefined","CircularProgress","style","CustomLinearProgress","withStyles","height","borderRadius","colorPrimary","backgroundColor","grey","LinearProgress","gridTemplateColumns","gridGap","gridColumnStart","whiteSpace","overflow","textOverflow","textAlign","gridColumnEnd","ProgressBar","total","props","Tooltip","placement","DependenciesMetric","metric","deepError","totalDependencies","direct","indirect","LicenseMetric","totalLicenses","Object","keys","all","reduce","sum","key","parseFloat","gutterBottom","Divider","entries","map","MetricLayout","Grid","container","metrics","item","xs","sm","charAt","toUpperCase","slice","graph","IconText","icon","link","href","timeSince","date","seconds","Math","floor","Date","interval","num","titleRow","linksRow","PackageHeader","data","warning","info","summary","license","releases","upload_time","TabPanel","other","role","hidden","id","aria-labelledby","Box","recurseToRoot","start","end","edges","starting_edges","filter","edge","includes","from","combined","nodes","forEach","path","recurse","Set","selection","to","options","manipulation","enabled","editNode","nodeData","callback","fixed","x","interaction","hover","hoverConnectedEdges","selectConnectedEdges","selectable","chosen","smooth","arrowStrikethrough","arrows","border","shape","size","borderWidth","labelHighlightBold","font","strokeWidth","physics","hierarchicalRepulsion","damping","springLength","solver","minVelocity","canvas","flex","NetworkGraph","searchText","visJsRef","useRef","useEffect","network","current","Network","rootNode","updateOnly","networkCanvas","document","getElementById","getElementsByTagName","changeCursor","newCursorStyle","cursor","on","length","body","query","possible_results","node","selected","unselected_edges","unselected_nodes","concat","handleSearch","ref","padding","PackageDependencies","Paper","DataSet","metadata","createDependencyGraph","a","depth","haveVisited","r","directDependencies","dependencies","sort","b","compareVersions","directHaveVisited","i","res","requires_dist","childTree","len","isAxiosError","Error","message","licenses","maxWidth","marginRight","paddingRight","paddingLeft","reducer","payload","metricName","fieldName","who","Dashboard","location","useParams","useReducer","dispatch","setValue","package","versions","sorted","package_version","v","applyMetrics","produceShallowMetrics","produceDeepMetrics","deepMetrics","field","Tabs","event","newValue","indicatorColor","textColor","Tab","PackageMetrics","RouterConfig","exact","component","status","App","CssBaseline","basename","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0dd79b67.chunk.js","sourcesContent":["import { createMuiTheme } from \"@material-ui/core/styles\";\n\nexport const themeLight = createMuiTheme({\n  palette: {\n    background: {\n      default: \"#f9f9f9\"\n    }\n  }\n});\n","import { Typography } from \"@material-ui/core\";\n\nexport const NotFound = ({ text }) => {\n  return <Typography variant=\"h2\">404: {text ?? \"page\"} not found!</Typography>;\n};\n\nexport default NotFound;\n","// material ui\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// react\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    flexGrow: 1\n  }\n}));\n\nconst SearchBar = ({ onChange, label, helperText, error = false }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <TextField\n        type=\"search\"\n        variant=\"outlined\"\n        label={label}\n        className={classes.bar}\n        onChange={e => onChange(e.target.value)}\n        helperText={helperText}\n        error={error}\n      />\n    </div>\n  );\n};\n\nSearchBar.propTypes = {\n  label: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  helperText: PropTypes.string,\n  error: PropTypes.bool\n};\n\nexport default SearchBar;\n","export const PYPI = \"https://pypi.org/pypi\";\nexport const THOTH = \"https://api.moc.thoth-station.ninja/api/v1\";\n","import axios from \"axios\";\nimport { PYPI, THOTH } from \"./CONSTANTS\";\nimport compareVersions from \"tiny-version-compare\";\n\n// pypi\nexport const searchForPackage = (name, version) => {\n  return axios.get(\n    PYPI + \"/\" + name + (version ? \"/\" + version : \"\") + \"/json\"\n  );\n};\n\n// thoth\nexport const thothGetDependencies = (\n  name,\n  version,\n  index = \"https://pypi.org/simple\"\n) => {\n  return axios.get(THOTH + \"/python/package/dependencies\", {\n    params: {\n      name: name,\n      version: version,\n      index: index\n    },\n    timeout: 5000,\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothCompareLatestVersion = name => {\n  return axios\n    .get(THOTH + \"/python/package/versions\", {\n      params: {\n        name: name\n      },\n      timeout: 5000,\n      headers: {\n        accept: \"application/json\"\n      }\n    })\n    .then(res => {\n      if (res.data.versions.length === 0) {\n        return null;\n      } else {\n        const sorted = res.data.versions.sort(function(a, b) {\n          return compareVersions(a.package_version, b.package_version);\n        });\n\n        return sorted[sorted.length - 1].package_version;\n      }\n    })\n    .catch(() => {\n      return null;\n    });\n};\n","// react\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n// material-ui\nimport { Typography, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// local\nimport { DASHBOARD } from \"navigation/CONSTANTS\";\nimport SearchBar from \"components/Shared/SearchBar\";\n\n// api\nimport { searchForPackage } from \"services/thothApi\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\",\n    alignItems: \"center\",\n    marginTop: \"20%\"\n  },\n  search: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"stretch\",\n    minWidth: \"50%\"\n  },\n  description: {\n    marginBottom: theme.spacing(6)\n  },\n  title: {\n    marginBottom: theme.spacing(1)\n  },\n  button: {\n    marginLeft: theme.spacing(2)\n  }\n}));\n\nconst Home = () => {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const [search, setSearch] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleChange = e => {\n    setSearch(e);\n    if (error !== \"\") {\n      setError(\"\");\n    }\n  };\n\n  const handleSearch = () => {\n    if (search !== \"\") {\n      searchForPackage(search)\n        .then(result => {\n          history.push(DASHBOARD + \"/\" + search);\n        })\n        .catch(e => {\n          console.log(e);\n          setError(\"No results\");\n        });\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h4\" className={classes.title}>\n        <b>Thoth Search</b>\n      </Typography>\n      <Typography variant=\"body1\" className={classes.description}>\n        Use this search box to lookup specific Python packages.\n      </Typography>\n      <div className={classes.search}>\n        <SearchBar\n          label=\"Search for a Python package\"\n          onChange={e => handleChange(e)}\n          helperText={error}\n          error={error !== \"\"}\n        />\n\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => handleSearch()}\n          className={classes.button}\n        >\n          <b>Search</b>\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\"\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\n\nconst InfoCard = ({ cardMeta, cardBody }) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root}>\n      <CardHeader\n        action={cardMeta.action}\n        title={cardMeta.title}\n        subheader={cardMeta.subTitle}\n      />\n      <CardContent>{cardBody}</CardContent>\n    </Card>\n  );\n};\n\nInfoCard.propTypes = {\n  cardMeta: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    subTitle: PropTypes.string,\n    action: PropTypes.element\n  }),\n  cardBody: PropTypes.element\n};\n\nexport default InfoCard;\n","import { Typography } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\nconst ErrorPage = ({ text }) => {\n  return (\n    <Typography align=\"center\" color=\"error\" variant=\"body1\">\n      {text}\n    </Typography>\n  );\n};\n\nErrorPage.propTypes = {\n  text: PropTypes.string.isRequired\n};\n\nexport default ErrorPage;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material ui\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\n// local\nimport ErrorPage from \"components/Shared/ErrorPage\";\nimport NotFound from \"navigation/NotFound\";\n\nconst LoadingErrorTemplate = ({\n  children,\n  state,\n  errorText,\n  show404,\n  loadingPage\n}) => {\n  return (\n    <>\n      {state === \"error\" ? (\n        show404 ? (\n          <NotFound text={show404} />\n        ) : (\n          <ErrorPage text={errorText ?? \"A unknown error occured\"} />\n        )\n      ) : state === undefined ? ( // loading if undefined\n        loadingPage ?? <CircularProgress style={{ marginLeft: \"50%\" }} />\n      ) : (\n        children\n      )}\n    </>\n  );\n};\n\nLoadingErrorTemplate.propTypes = {\n  state: PropTypes.any\n};\n\nexport default LoadingErrorTemplate;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { LinearProgress, Typography, Tooltip } from \"@material-ui/core\";\n\nconst CustomLinearProgress = withStyles(theme => ({\n  root: {\n    height: 10,\n    borderRadius: 5\n  },\n  colorPrimary: {\n    backgroundColor:\n      theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700]\n  },\n  bar: {\n    borderRadius: 5,\n    backgroundColor: \"#1a90ff\"\n  }\n}))(LinearProgress);\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(6,1fr)\",\n    alignItems: \"center\",\n    gridGap: theme.spacing(1)\n  },\n  label: {\n    gridColumnStart: 1,\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\"\n  },\n  value: {\n    gridColumnStart: 2,\n    textAlign: \"end\"\n  },\n  bar: {\n    gridColumnStart: 3,\n    gridColumnEnd: \"span 4\"\n  }\n}));\n\nconst ProgressBar = ({ value, total, label, ...props }) => {\n  const classes = useStyles();\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      <Tooltip title={label} placement=\"left\">\n        <Typography variant=\"body2\" className={classes.label}>\n          {label}\n        </Typography>\n      </Tooltip>\n\n      <Typography className={classes.value} variant=\"body2\">\n        {value}\n      </Typography>\n\n      <CustomLinearProgress\n        variant=\"determinate\"\n        value={total > 0 ? (value / total) * 100 : 0}\n        className={classes.bar}\n      />\n    </div>\n  );\n};\n\nProgressBar.propTypes = {\n  value: PropTypes.number.isRequired,\n  total: PropTypes.number.isRequired,\n  label: PropTypes.string\n};\n\nexport default ProgressBar;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst DependenciesMetric = ({ metric, deepError }) => {\n  const classes = useStyles();\n  const totalDependencies = (metric.direct ?? 0) + (metric.indirect ?? 0);\n\n  return (\n    <div className={classes.root}>\n      <LoadingErrorTemplate state={metric.direct}>\n        <ProgressBar\n          value={metric.direct ?? 0}\n          total={totalDependencies}\n          label={\"Direct\"}\n          className={classes.bar}\n        />\n      </LoadingErrorTemplate>\n\n      <LoadingErrorTemplate\n        state={deepError ? \"error\" : metric.indirect}\n        errorText=\"Could not run analysis on dependencies.\"\n      >\n        <ProgressBar\n          value={metric.indirect ?? 0}\n          total={totalDependencies}\n          label={\"Indirect\"}\n        />\n      </LoadingErrorTemplate>\n    </div>\n  );\n};\n\nDependenciesMetric.propTypes = {\n  metric: PropTypes.shape({\n    direct: PropTypes.number,\n    indirect: PropTypes.number\n  }).isRequired\n};\n\nexport default DependenciesMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Typography, Divider } from \"@material-ui/core\";\n\n// local\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  marginBottom: {\n    marginBottom: theme.spacing(2)\n  }\n}));\n\nconst LicenseMetric = ({ metric, deepError }) => {\n  const classes = useStyles();\n  const totalLicenses = Object.keys(metric?.all ?? {}).reduce(\n    (sum, key) => sum + parseFloat(metric.all[key] || 0),\n    0\n  );\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body2\" gutterBottom className={classes.label}>\n        <b>License</b>\n      </Typography>\n      <Divider />\n      <Typography className={classes.marginBottom} variant=\"h6\">\n        {metric.root}\n      </Typography>\n      <Typography variant=\"body2\" gutterBottom className={classes.label}>\n        <b>Dependency Licenses</b>\n      </Typography>\n      <Divider />\n      <LoadingErrorTemplate\n        state={deepError ? \"error\" : metric.all}\n        errorText=\"Could not run analysis on dependencies.\"\n      >\n        {Object.entries(metric?.all ?? {}).map(([key, value]) => {\n          return (\n            <ProgressBar\n              key={key}\n              value={value ?? 0}\n              total={totalLicenses}\n              label={key}\n              className={classes.bar}\n            />\n          );\n        })}\n      </LoadingErrorTemplate>\n    </div>\n  );\n};\n\nLicenseMetric.propTypes = {\n  metric: PropTypes.shape({\n    root: PropTypes.string,\n    all: PropTypes.object\n  }).isRequired\n};\n\nexport default LicenseMetric;\n","// local components\nimport InfoCard from \"components/InfoCard/InfoCard\";\nimport DependenciesMetric from \"components/Metrics/DependenciesMetric\";\nimport LicenseMetric from \"components/Metrics/LicenseMetric\";\n\n// material-ui\nimport Grid from \"@material-ui/core/Grid\";\n\nconst MetricLayout = ({ state }) => {\n  return (\n    <Grid container spacing={3}>\n      {Object.entries(state.metrics).map(([key, value]) => {\n        return (\n          <Grid item xs={12} sm={6} key={key}>\n            <InfoCard\n              cardMeta={{\n                title: key.charAt(0).toUpperCase() + key.slice(1)\n              }}\n              cardBody={\n                key === \"dependencies\" ? (\n                  <DependenciesMetric\n                    metric={value}\n                    deepError={state.error.graph}\n                  />\n                ) : key === \"licenses\" ? (\n                  <LicenseMetric metric={value} deepError={state.error.graph} />\n                ) : null\n              }\n            />\n          </Grid>\n        );\n      })}\n    </Grid>\n  );\n};\n\nexport default MetricLayout;\n","// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// react\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  }\n}));\n\nconst IconText = ({ text, icon, link, ...props }) => {\n  const classes = useStyles();\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      {icon}\n      <Typography href={link ? link : null} variant=\"body2\" align=\"center\">\n        {text}\n      </Typography>\n    </div>\n  );\n};\n\nexport default IconText;\n\nIconText.propTypes = {\n  text: PropTypes.string.isRequired,\n  icon: PropTypes.element.isRequired,\n  link: PropTypes.string\n};\n","export function timeSince(date) {\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = seconds / 31536000;\n\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" year\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 2592000;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" month\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 86400;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" day\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 3600;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" hour\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 60;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" minute\" + (num !== 1 ? \"s\" : \"\");\n  }\n  const num = Math.floor(seconds);\n  return num + \" second\" + (num !== 1 ? \"s\" : \"\");\n}\n","// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\n\n// local\nimport IconText from \"components/Shared/IconText\";\n\n// utils\nimport { timeSince } from \"utils/timeSince\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n  titleRow: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(1)\n  },\n  marginLeft: {\n    marginLeft: theme.spacing(2)\n  },\n  linksRow: {\n    display: \"flex\",\n    marginBottom: theme.spacing(3)\n  }\n}));\n\nconst PackageHeader = ({ data, warning }) => {\n  const classes = useStyles();\n\n  return (\n    <div>\n      <div className={classes.titleRow}>\n        <Typography variant=\"h4\">\n          <b>{data.info.name}</b>\n        </Typography>\n        <Typography className={classes.marginLeft} variant=\"subtitle1\">\n          v{data.info?.version}\n        </Typography>\n      </div>\n      {warning ? (\n        <Typography color=\"error\" gutterBottom variant=\"body2\">\n          {warning}\n        </Typography>\n      ) : null}\n\n      <Typography gutterBottom variant=\"body1\">\n        {data.info?.summary}\n      </Typography>\n      <div className={classes.linksRow}>\n        <IconText text={data.info?.license} icon={<GavelIcon />} />\n        <IconText\n          className={classes.marginLeft}\n          text={\n            \"Latest version published \" +\n            timeSince(\n              new Date(data.releases[data.info.version][0]?.upload_time)\n            ) +\n            \" ago.\"\n          }\n          icon={<BookmarkIcon />}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default PackageHeader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Box from \"@material-ui/core/Box\";\n\nconst TabPanel = props => {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </div>\n  );\n};\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nexport default TabPanel;\n","export function recurseToRoot(start, end, edges) {\n  // get edges coming off of node *start*\n  const starting_edges = edges.filter(edge => start.includes(edge.from));\n\n  // recurse from each starting edge to root (0)\n  // note there could be multiple starting points\n  let combined = { nodes: [], edges: [] };\n  starting_edges.forEach(edge => {\n    const path = recurse(edge, { nodes: [], edges: [] }, edges, end);\n    combined = {\n      nodes: [...new Set([...path.nodes, ...combined.nodes])],\n      edges: [...new Set([...path.edges, ...combined.edges])]\n    };\n  });\n\n  return combined;\n}\n\nfunction recurse(edge, selection, edges, end) {\n  // cycle or allready visited OR\n  if (selection.edges.includes(edge.id)) {\n    return selection;\n  }\n\n  // add the edge id and nodes at either end of edge to selection\n  selection.nodes.push(edge.from, edge.to);\n  selection.edges.push(edge.id);\n\n  // cycle or allready visited OR\n  if (edge.to === end) {\n    return selection;\n  } else {\n    // find the next edges to go\n    // combine voth recursion branches together while removing dups\n    // return combined branches as one\n    let combined = { nodes: [], edges: [] };\n    edges\n      .filter(e => e.from === edge.to)\n      .forEach(e => {\n        const path = recurse(e, selection, edges, end);\n        combined = {\n          nodes: [...new Set([...path.nodes, ...combined.nodes])],\n          edges: [...new Set([...path.edges, ...combined.edges])]\n        };\n      });\n\n    return combined;\n  }\n}\n","export const options = {\n  manipulation: {\n    enabled: false,\n    editNode: function(nodeData, callback) {\n      nodeData.fixed = !nodeData.fixed.x;\n      callback(nodeData);\n    }\n  },\n  interaction: {\n    hover: true,\n    hoverConnectedEdges: false,\n    selectConnectedEdges: false,\n    selectable: false\n  },\n  edges: {\n    chosen: false,\n    smooth: false,\n    color: {\n      color: \"#5c6470\"\n    },\n    arrowStrikethrough: false,\n    arrows: {\n      from: {\n        enabled: true,\n        type: \"triangle\"\n      }\n    }\n  },\n  nodes: {\n    chosen: false,\n    color: {\n      background: \"#5c6470\",\n      border: \"#fff\",\n      hover: {\n        background: \"#f39200\",\n        border: \"#fff\"\n      }\n    },\n    shape: \"dot\",\n    size: 10,\n    borderWidth: 2,\n    labelHighlightBold: false,\n    font: {\n      color: \"#393e46\",\n      strokeWidth: 2,\n      size: 15\n    }\n  },\n  physics: {\n    hierarchicalRepulsion: {\n      damping: 0.1,\n      springLength: 200\n    },\n    solver: \"hierarchicalRepulsion\",\n    minVelocity: 0.15\n  }\n};\n","// react\nimport React, { useEffect, useRef } from \"react\";\n\n// utils and configs\nimport { recurseToRoot } from \"utils/recurseToRoot\";\nimport { options } from \"config/networkOptions\";\n\n// vis-network\nimport { Network } from \"vis-network/standalone/esm/vis-network\";\n\n// material ui\nimport SearchBar from \"components/Shared/SearchBar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// styling\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\"\n  },\n  canvas: {\n    flex: \"1 1 auto\",\n    height: \"75vh\"\n  }\n}));\n\nconst NetworkGraph = ({ data, searchText, root, ...props }) => {\n  const visJsRef = useRef(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    const network =\n      visJsRef.current && new Network(visJsRef.current, data, options);\n\n    // set root node to have specific color\n    const rootNode = data.nodes.get(root);\n    rootNode.color = \"#4fc1ea\";\n    rootNode.font = { color: \"#4fc1ea\", strokeWidth: 3, size: 20 };\n    data.nodes.updateOnly(rootNode);\n\n    // change curser when hovering and grabbing\n    // Get the canvas HTML element\n    var networkCanvas = document\n      .getElementById(\"mynetwork\")\n      .getElementsByTagName(\"canvas\")[0];\n\n    // changes the curser graphic depedning on where and what the mouse is doing\n    function changeCursor(newCursorStyle) {\n      networkCanvas.style.cursor = newCursorStyle;\n    }\n    network.on(\"hoverNode\", function() {\n      changeCursor(\"grab\");\n    });\n    network.on(\"blurNode\", function() {\n      changeCursor(\"default\");\n    });\n    network.on(\"dragStart\", function() {\n      changeCursor(\"grabbing\");\n    });\n    network.on(\"dragging\", function() {\n      changeCursor(\"grabbing\");\n    });\n    network.on(\"dragEnd\", function() {\n      changeCursor(\"grab\");\n    });\n\n    // fix (stick in place) node when done dragging\n    network.on(\"dragEnd\", function(params) {\n      if (params.nodes.length !== 0) {\n        network.editNode(params.nodes[0]);\n      }\n    });\n\n    // un stick node if already stuck\n    network.on(\"dragStart\", function(params) {\n      // check if node has not been touched or is fixed\n      // if fixed then un fix\n      if (\n        params.nodes.length !== 0 &&\n        network.body.nodes[params.nodes[0]].options.x !== undefined &&\n        network.body.nodes[params.nodes[0]].options.x\n      ) {\n        // un fix node\n        network.editNode(params.nodes[0]);\n      }\n    });\n  }, [visJsRef, data, root]);\n\n  // recursivly finds all paths from search result to root\n  const handleSearch = (query, data) => {\n    // clear selection if empty search bar\n    data.nodes.updateOnly(\n      data.nodes.get().map(e => {\n        if (e.id !== root) {\n          e[\"color\"] = options.nodes.color;\n          e[\"font\"] = options.nodes.font;\n        }\n        return e;\n      })\n    );\n\n    // reset edge colors\n    data.edges.updateOnly(\n      data.edges.get().map(e => {\n        e[\"color\"] = options.edges.color;\n        return e;\n      })\n    );\n\n    if (query === \"\") {\n      // reset node colors\n      return;\n    }\n\n    // use input text to find possible results\n    let possible_results = data.nodes.get({\n      filter: function(node) {\n        return node.label.includes(query);\n      }\n    });\n\n    // recurse through possible results\n    const selected = recurseToRoot(\n      possible_results.map(node => node.id),\n      root,\n      data.edges.map(e => e)\n    );\n\n    // grey out non search results\n    // nodes that are not in search results\n    const unselected_edges = data.edges\n      .get()\n      .filter(edge => !selected.edges.includes(edge.id))\n      .map(e => {\n        e[\"color\"] = { color: \"#e3e5e8\" };\n        return e;\n      });\n\n    // edges that are not in search results\n    const unselected_nodes = data.nodes\n      .get()\n      .filter(node => !selected.nodes.includes(node.id))\n      .map(e => {\n        if (e.id !== root) {\n          e[\"color\"] = { background: \"#e3e5e8\" };\n          e[\"font\"] = { color: \"#e3e5e8\", strokeWidth: 2, size: 15 };\n        }\n        return e;\n      });\n\n    // set searched nodes to a different color\n    possible_results = possible_results.map(e => {\n      if (e.id !== root) {\n        e[\"color\"] = { background: \"#f39200\" };\n      }\n      return e;\n    });\n\n    // update nodes and edges in the dataset\n    data.nodes.updateOnly(unselected_nodes.concat(possible_results));\n    data.edges.updateOnly(unselected_edges);\n  };\n\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      <SearchBar\n        label=\"Filter packages\"\n        onChange={text => handleSearch(text, data)}\n      />\n      <div ref={visJsRef} id=\"mynetwork\" className={classes.canvas} />\n    </div>\n  );\n};\n\nexport default NetworkGraph;\n","// React\nimport React from \"react\";\n\n// local components\nimport NetworkGraph from \"components/Metrics/DependenciesMetric/NetworkGraph.js\";\n\n// material-ui\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n//vis-dataset\nimport { DataSet } from \"vis-network/standalone/esm/vis-network\";\n\nconst useStyles = makeStyles(theme => ({\n  graph: {\n    padding: theme.spacing(4)\n  }\n}));\n\nconst PackageDependencies = ({ state }) => {\n  const classes = useStyles();\n\n  return (\n    <LoadingErrorTemplate\n      state={state.error.graph ? \"error\" : state.graph}\n      errorText=\"Could not load in dependency graph.\"\n    >\n      <Paper>\n        <NetworkGraph\n          data={{\n            nodes: new DataSet(state.graph?.nodes),\n            edges: new DataSet(state.graph?.edges)\n          }}\n          className={classes.graph}\n          root={state.metadata.info.name + state.metadata.info.version}\n        />\n      </Paper>\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default PackageDependencies;\n","import { thothGetDependencies, searchForPackage } from \"services/thothApi\";\nimport compareVersions from \"tiny-version-compare\";\n\n// this function populates the globla state\n// with a graph of all package dependencies.\n// It uses Thoth API to get dependencies.\n// And uses PyPi to get metadata\nexport async function createDependencyGraph(\n  name,\n  version,\n  depth = 2,\n  haveVisited = []\n) {\n  const nodes = [];\n  const edges = [];\n\n  // add initial node\n  if (haveVisited.length === 0) {\n    nodes.push({\n      id: name + version,\n      label: name\n    });\n  }\n\n  // increase depth tracker\n  depth -= 1;\n\n  // get dep list through thoth's database\n  return await thothGetDependencies(name, version)\n    .then(async r => {\n      // sort the direct dependencies by version\n      const directDependencies = r.data.dependencies.sort(function(a, b) {\n        return compareVersions(a.version, b.version);\n      });\n\n      // this will prevent duplicate direct dependencies\n      const directHaveVisited = [];\n\n      // for each direct dependency (start at bottom to et the latest versions first)\n      for (let i = directDependencies.length - 1; i >= 0; i--) {\n        // only include one version of a dependency (latest)\n        if (!directHaveVisited.includes(directDependencies[i].name)) {\n          // add dependency to have direct visited lookup table\n          directHaveVisited.push(directDependencies[i].name);\n\n          // get metadata of package\n          const childTree = await searchForPackage(\n            directDependencies[i].name,\n            directDependencies[i].version\n          ).then(async res => {\n            // create network edge from dependency to parent\n            edges.push({\n              to: name + version,\n              from: directDependencies[i].name + directDependencies[i].version\n            });\n\n            // create a network node of dependency only if\n            // node has not been visited in any other branch\n            if (!haveVisited.includes(directDependencies[i].name)) {\n              // add dependency to overall visisted list\n              haveVisited.push(directDependencies[i].name);\n\n              // add node\n              nodes.push({\n                id: directDependencies[i].name + directDependencies[i].version,\n                label: directDependencies[i].name,\n                metadata: res.data,\n                depth: depth\n              });\n\n              // recurse into dependency's dependencies\n              // if there are dependencies and depth has not been reached\n              if (\n                res.data.info.requires_dist !== null &&\n                res.data.info.requires_dist.length !== 0 &&\n                depth !== 0\n              ) {\n                return await createDependencyGraph(\n                  directDependencies[i].name,\n                  directDependencies[i].version,\n                  depth,\n                  haveVisited\n                ).then(r => {\n                  // return child tree (nodes and edges)\n                  return {\n                    nodes: r.nodes,\n                    edges: r.edges\n                  };\n                });\n              }\n            }\n          });\n\n          // add child tree to parent\n          if (childTree) {\n            for (let x = 0, len = childTree.nodes.length; x < len; x++) {\n              nodes.push(childTree.nodes[x]);\n            }\n            for (let x = 0, len = childTree.edges.length; x < len; x++) {\n              edges.push(childTree.edges[x]);\n            }\n          }\n        }\n      }\n\n      return {\n        nodes: nodes,\n        edges: edges\n      };\n    })\n    .catch(error => {\n      // if timeout\n      if (error.isAxiosError) {\n        return new Error(error.message);\n      }\n      // package or version is not in Thoth DB\n      // skip its dependencies\n      return {\n        nodes: nodes,\n        edges: edges\n      };\n    });\n}\n","// utils\nimport { createDependencyGraph } from \"utils/createDependencyGraph\";\n\n// this function creates a deep dependency graph and\n// produces metrics based on it and the roots metadata\n// this function can take a long amount of time if the\n// graph is very large\nexport function produceShallowMetrics(metadata) {\n  let state = {};\n\n  state.metrics = {};\n\n  // produce dependency metrics\n  state.metrics.dependencies = {\n    direct: metadata.info.requires_dist?.length ?? 0\n  };\n\n  // set state\n  state.metrics = {\n    dependencies: {\n      direct: metadata.info.requires_dist?.length ?? 0\n    },\n    licenses: {\n      root: metadata.info.license\n    }\n  };\n\n  return state;\n}\n\n// this function creates a deep dependency graph and\n// produces metrics based on it and the roots metadata\n// this function can take a long amount of time if the\n// graph is very large\nexport async function produceDeepMetrics(metadata, depth = -1) {\n  let state = {};\n\n  return await createDependencyGraph(\n    metadata.info.name,\n    metadata.info.version,\n    depth\n  ).then(graph => {\n    // set the state objects graph data\n    state.graph = graph;\n\n    state.metrics = {};\n\n    // for each dependency get update total metrics\n    let licenses = {};\n    graph.nodes.forEach(node => {\n      // produce dependency metrics if not root\n      if (node.metadata) {\n        // existing licence\n\n        if (licenses[node.metadata.info.license]) {\n          licenses[node.metadata.info.license] += 1;\n        }\n        // new license\n        licenses[node.metadata.info.license] = 1;\n      }\n    });\n\n    // set state\n    state.metrics = {\n      dependencies: {\n        indirect:\n          graph.nodes.length - (metadata.info.requires_dist?.length ?? 0) - 1\n      },\n      licenses: {\n        all: licenses\n      }\n    };\n\n    // produce license Metrics\n    // produce security metrics\n\n    return state;\n  });\n}\n","// React\nimport React, { useEffect, useState, useReducer } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\n// local\nimport PackageMetrics from \"components/Dashboard/PackageMetrics\";\nimport PackageHeader from \"components/Dashboard/PackageHeader\";\nimport TabPanel from \"components/Shared/TabPanel\";\nimport PackageDependencies from \"components/Dashboard/PackageDependencies\";\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// API\nimport { searchForPackage, thothCompareLatestVersion } from \"services/thothApi\";\n\n// utils\nimport {\n  produceDeepMetrics,\n  produceShallowMetrics\n} from \"utils/produceMetrics\";\nimport compareVersions from \"tiny-version-compare\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    maxWidth: \"95%\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    paddingRight: theme.spacing(3),\n    paddingLeft: theme.spacing(3),\n    marginTop: theme.spacing(4)\n  }\n}));\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"metadata\":\n      return { ...state, metadata: action.payload };\n    case \"graph\":\n      return { ...state, graph: action.payload };\n    case \"metric\":\n      return {\n        ...state,\n        metrics: { ...state.metrics, [action.metricName]: action.payload }\n      };\n    case \"metric-field\":\n      return {\n        ...state,\n        metrics: {\n          ...state.metrics,\n          [action.metricName]: {\n            ...state.metrics[action.metricName],\n            [action.fieldName]: action.payload\n          }\n        }\n      };\n    case \"warning\": {\n      return {\n        ...state,\n        warning: action.payload\n      };\n    }\n    case \"error\": {\n      return {\n        ...state,\n        error: { [action.who]: action.payload }\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\n// The page that displays all analyis data\nexport const Dashboard = ({ location }) => {\n  const classes = useStyles();\n  const params = useParams();\n\n  // for state control\n  const [state, dispatch] = useReducer(reducer, {\n    metadata: undefined,\n    graph: undefined,\n    metrics: {},\n    error: {\n      graph: false,\n      metadata: false\n    }\n  });\n\n  // for tab control\n  const [value, setValue] = useState(0);\n\n  // before render\n  useEffect(() => {\n    // if the package or version doesnt exists, act accordingly\n    searchForPackage(params?.package, params?.version)\n      .then(r => {\n        // check if thoth is up to data for package\n        thothCompareLatestVersion(r.data.info.name).then(v => {\n          if (v === null || compareVersions(r.data.info.version, v) > 0) {\n            dispatch({\n              type: \"warning\",\n              payload: v\n                ? \"Thoth currently supports up to version \" +\n                  v +\n                  \", while the most recent version is \" +\n                  r.data.info.version +\n                  \".\"\n                : \"Thoth currently does not support this package.\"\n            });\n          }\n        });\n\n        // set root/parent package metdata for shallow analyis\n        dispatch({ type: \"metadata\", payload: r.data });\n        applyMetrics(produceShallowMetrics(r.data).metrics);\n\n        // preform deep analysis in the background, update state when finished\n        produceDeepMetrics(r.data, 3)\n          .then(deepMetrics => {\n            // set graph data and metrics to state\n            dispatch({ type: \"graph\", payload: deepMetrics.graph });\n            applyMetrics(deepMetrics.metrics);\n          })\n          .catch(e => {\n            dispatch({\n              type: \"error\",\n              who: \"graph\",\n              payload: true\n            });\n          });\n      })\n      .catch(e => {\n        // does not exist\n        dispatch({ type: \"error\", who: \"metadata\", payload: true });\n      });\n  }, [params]);\n\n  // component specific functions //\n\n  // applsy all metrics to state q\n  const applyMetrics = metrics => {\n    for (const metricName of Object.keys(metrics)) {\n      // for each field on metric\n      for (const [field, payload] of Object.entries(metrics[metricName])) {\n        // add metrics to state.\n        dispatch({\n          type: \"metric-field\",\n          fieldName: field,\n          metricName: metricName,\n          payload: payload\n        });\n      }\n    }\n  };\n\n  // handle tab chnage\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <LoadingErrorTemplate\n      state={state.error.metadata ? \"error\" : state.metadata}\n      show404={\"Package\"}\n    >\n      <div className={classes.root}>\n        <PackageHeader data={state.metadata} warning={state.warning} />\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n        >\n          <Tab label=\"Overview\" />\n          <Tab label=\"Dependencies\" />\n        </Tabs>\n        <TabPanel value={value} index={0}>\n          <PackageMetrics state={state} />\n        </TabPanel>\n        <TabPanel value={value} index={1}>\n          <PackageDependencies state={state} />\n        </TabPanel>\n      </div>\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default Dashboard;\n","import { Route, Switch } from \"react-router-dom\";\nimport { ROOT, DASHBOARD } from \"./CONSTANTS\";\nimport NotFound from \"./NotFound\";\nimport Home from \"pages/Home/Home\";\nimport Dashboard from \"pages/Dashboard/Dashboard\";\n\nexport const RouterConfig = () => {\n  return (\n    <Switch>\n      <Route exact path={ROOT} component={Home} />\n      <Route\n        exact\n        path={DASHBOARD + \"/:package/:version?\"}\n        component={Dashboard}\n      />\n\n      <Route path=\"*\" status={404}>\n        <NotFound />\n      </Route>\n    </Switch>\n  );\n};\n\nexport default RouterConfig;\n","export const REPONAME = \"/thoth-search\";\nexport const ROOT = \"/\";\nexport const DASHBOARD = \"/dashboard\";\n","// local utils and configs\nimport { themeLight } from \"styles/theme\";\n\n// ROUTER\nimport { BrowserRouter } from \"react-router-dom\";\nimport { RouterConfig } from \"navigation/RouterConfig\";\nimport { REPONAME } from \"navigation/CONSTANTS\";\n\n// material ui\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nfunction App() {\n  return (\n    <MuiThemeProvider theme={themeLight}>\n      <CssBaseline />\n      <BrowserRouter basename={REPONAME}>\n        <RouterConfig />\n      </BrowserRouter>\n    </MuiThemeProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}