{"version":3,"sources":["styles/theme.js","navigation/NotFound.js","components/Shared/SearchBar.js","components/Shared/TabPanel.js","services/CONSTANTS.js","services/thothApi.js","utils/validatePackage.js","pages/Home/Home.js","components/Dashboard/Summary/InfoCard.js","components/Shared/ProgressBar.js","components/Dashboard/Summary/Metrics/DependenciesMetric/MultipleDependenciesMetric.js","components/Dashboard/Summary/Metrics/DependenciesMetric/SingleDependenciesMetric.js","components/Shared/LoadingErrorTemplate/ErrorPage.js","components/Shared/LoadingErrorTemplate/CustomProgress.js","components/Shared/LoadingErrorTemplate/index.js","components/Dashboard/Summary/Metrics/DependenciesMetric/index.js","components/Dashboard/Summary/Metrics/LicenseMetric/MultipleLicenseMetric.js","components/Dashboard/Summary/Metrics/LicenseMetric/SingleLicenseMetric.js","components/Dashboard/Summary/Metrics/LicenseMetric/index.js","components/Dashboard/Summary/Metrics/AdviseMetric/AdviseMetric.js","components/Dashboard/Summary/Metrics/AdviseMetric/index.js","components/Dashboard/Summary/MetricLayout.js","components/Shared/IconText.js","utils/timeSince.js","components/Dashboard/Summary/PackageHeader.js","components/Dashboard/AdviseHeader.js","utils/recurseToRoot.js","config/networkOptions.js","components/Dashboard/Advise/NetworkGraph.js","components/Dashboard/Advise/AdviseTable.js","utils/Node.js","utils/Graph.js","utils/produceMetrics.js","components/Dashboard/Advise/AdvisePage.js","pages/Dashboard/Dashboard.js","utils/useInterval.js","navigation/RouterConfig.js","navigation/CONSTANTS.js","redux/reducer.js","App.js","index.js"],"names":["themeLight","createTheme","palette","background","default","NotFound","text","Typography","variant","useStyles","makeStyles","theme","root","display","flexDirection","alignItems","flexGrow","SearchBar","props","onChange","label","helperText","boxprops","error","classes","Box","className","TextField","e","target","value","TabPanel","children","index","role","hidden","id","aria-labelledby","PYPI","THOTH","getLicenses","url","fetch","then","response","JSON","parse","searchForPackage","name","version","axios","get","thothSearchForPackage","params","headers","accept","res","data","metadata","catch","status","info","thothAdvise","pipfile","pipfileLock","d","application_stack","requirements","requirements_format","requirements_lock","runtime_environment","operating_system","platform","python_version","post","recommendation_type","thothGetLatestVersion","timeout","versions","length","sorted","sort","a","b","compareVersions","package_version","includes","validatePackage","r","v","thothVersion","flexFlow","marginTop","stretchContent","minWidth","searchBar","justifyContent","flexColumn","multilineTextBoxContainer","description","marginBottom","spacing","maxWidth","textAlign","mode","title","Home","history","useHistory","dispatch","useContext","DispatchContext","useState","searchQuery","setSearchQuery","pipfileQuery","setPipfileQuery","pipfileLockQuery","setPipfileLockQuery","searchError","setSearchError","pipfileError","setPipfileError","pipfileLockError","setPipfileLockError","setMode","expandOptions","setExpandOptions","queryLoading","setQueryLoading","handleChange","box","handleAnalyze","fail","type","param","payload","analysis_id","push","DASHBOARD","ToggleButtonGroup","exclusive","event","newMode","size","ToggleButton","aria-label","disabled","mr","Button","color","onClick","Collapse","in","unmountOnExit","mt","multiline","rows","ml","LoadingButton","loading","height","bullet","margin","transform","fontSize","pos","InfoCard","cardMeta","cardBody","Card","CardHeader","action","subheader","subTitle","CardContent","CustomLinearProgress","withStyles","borderRadius","colorPrimary","backgroundColor","grey","bar","LinearProgress","gridTemplateColumns","gridGap","whiteSpace","overflow","textOverflow","ProgressBar","total","Grid","container","item","xs","Tooltip","placement","MultipleDependenciesMetric","metric","totalDependencies","all","direct","indirect","roots","gutterBottom","Divider","List","component","Object","entries","map","i","key","t","ListItem","ListItemText","primary","direction","SingleDependenciesMetric","ErrorText","align","customProgressRoot","CustomProgress","amount","note","CircularProgress","LoadingErrorTemplate","isError","isLoading","errorText","loadingPage","loadingAmount","loadingText","ErrorPage","DependenciesMetric","state","StateContext","metrics","licences","focus","dependencies","chip","border","LicenseDisplay","totalLicenses","React","open","setOpen","flex","keys","k","Chip","LicenseMetric","deepError","more","setMore","licenses","reduce","sum","slice","SingleLicenseMetric","MultipleLicenseMetric","header","AdviseMetric","added","removed","equal","build","justification","advise","MetricLayout","undefined","sm","charAt","toUpperCase","IconText","icon","link","href","marginLeft","timeSince","date","seconds","Math","floor","Date","interval","num","titleRow","marginRight","linksRow","warning","PackageHeader","packageWarning","summary","license","releases","upload_time","p","alert","width","CustomAlert","Alert","severity","toLowerCase","message","AdviseHeader","adviseID","expandAlerts","setExpandAlerts","report","ERROR","statusText","statusColor","alerts","stack_info","filter","finished_at","started_at","datetime","calcTime","recurseToRoot","start","end","edges","starting_edges","edge","from","combined","nodes","forEach","path","recurse","Set","selection","to","options","manipulation","enabled","editNode","nodeData","callback","fixed","x","interaction","hover","hoverConnectedEdges","selectConnectedEdges","selectable","chosen","smooth","arrowStrikethrough","arrows","shape","borderWidth","labelHighlightBold","font","strokeWidth","physics","hierarchicalRepulsion","damping","springLength","solver","minVelocity","canvas","NetworkGraph","filterdGraph","searchText","selectedPackage","search","selected","setSelected","visJsRef","useRef","useEffect","network","current","Network","rootNode","updateOnly","networkCanvas","document","getElementById","getElementsByTagName","changeCursor","newCursorStyle","style","cursor","on","body","selectedColor","find","node","result","DataSet","esges","opacity","possible_results","unselected_edges","unselected_nodes","concat","ref","descendingComparator","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","el","headCells","numeric","EnhancedTableHead","onRequestSort","TableHead","TableRow","headCell","TableCell","padding","sortDirection","TableSortLabel","active","property","sx","visuallyHidden","EnhancedTable","setOrder","setOrderBy","page","setPage","rowsPerPage","setRowsPerPage","setRows","newRows","depth","warnings","adjacents","change","emptyRows","max","Paper","mb","TableContainer","Table","numSelected","rowCount","TableBody","row","labelId","iconColor","Fragment","tabIndex","scope","paddingBottom","paddingTop","colSpan","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","Node","this","add","has","Array","Graph","Map","vertex","set","source","destination","sourceNode","destinationNode","addAdjacent","isAdjacent","first","visited","visitList","pop","shift","getAdjacents","adj","newPath","nextPath","findPath","paths","findAllPaths","useLockFileToGraph","stateName","graph","cantBeRoots","Promise","localStorage","getItem","replace","addVertex","requires_dist","adjacentName","split","setItem","stringify","app","addEdge","promiseWhile","condition","whilst","resolve","adjacentNode","reject","buttonGroup","lockfile","paddingLeft","PackageDependencies","setSelectedPackage","expanded","setExpanded","setSearch","showOldPackages","setShowOldPackages","tab","setTab","setDisplay","oldGraph","newGraph","useTheme","visGraph","setVisGraph","setFilterdGraph","edgeColors","newNode","success","main","visData","mergedGraph","filterdNodes","useMergeGraphs","initGraph","adviseGraph","handleJustificationSelect","package_name","isExpanded","section","scrollIntoView","block","behavior","s","md","newDisplay","dangerouslySetInnerHTML","__html","products","project","requirements_locked","replaceAll","RegExp","join","match","Tabs","newValue","indicatorColor","textColor","Tab","Accordion","AccordionSummary","expandIcon","aria-controls","AccordionDetails","advisory","paddingRight","Dashboard","location","useParams","setValue","pollingTime","setPollingTime","getStatus","min","error_msg","parameters","delay","savedCallback","setInterval","clearInterval","useInterval","packages","initProject","os_release","python","implementation_name","major","minor","micro","document_id","analyzer","analyzer_version","licenseData","setLicenseData","bfs","graphSearch","found","l","lower","licenseId","isOsiApproved","isFsfLibre","useComputeMetrics","console","log","AdvisePage","RouterConfig","exact","reducer","initState","createContext","App","useReducer","ThemeProvider","CssBaseline","basename","Provider","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.76a7d406.chunk.js","sourcesContent":["import { createTheme } from \"@material-ui/core/styles\";\n\nexport const themeLight = createTheme({\n  palette: {\n    background: {\n      default: \"#f9f9f9\"\n    }\n  }\n});\n","import { Typography } from \"@material-ui/core\";\n\nexport const NotFound = ({ text }) => {\n  return <Typography variant=\"h2\">404: {text ?? \"page\"} not found!</Typography>;\n};\n\nexport default NotFound;\n","// material ui\nimport { TextField, Box } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// react\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    flexGrow: 1\n  }\n}));\n\nconst SearchBar = props => {\n  const { onChange, label, helperText, boxprops, error = false } = props;\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.root} {...boxprops}>\n      <TextField\n        variant=\"outlined\"\n        label={label}\n        onChange={e => onChange(e.target.value)}\n        helperText={helperText}\n        error={error}\n        {...props}\n      />\n    </Box>\n  );\n};\n\nSearchBar.propTypes = {\n  label: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  helperText: PropTypes.string,\n  error: PropTypes.bool\n};\n\nexport default SearchBar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst TabPanel = ({ children, value, index, ...props }) => {\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      className={`${props.className}`}\n      {...props}\n    >\n      {value === index && children}\n    </div>\n  );\n};\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nexport default TabPanel;\n","export const PYPI = \"https://pypi.org/pypi\";\nexport const THOTH = \"https://api.moc.thoth-station.ninja/api/v1\";\nexport const LICENSES =\n  \"https://raw.githubusercontent.com/spdx/license-list-data/master/json/licenses.json\";\n","import axios from \"axios\";\nimport { PYPI, THOTH, LICENSES } from \"./CONSTANTS\";\nimport compareVersions from \"tiny-version-compare\";\n\n// GitHub\nexport function getGitHubFileText(githubRepo, fileName) {\n  const url = new URL(githubRepo);\n\n  if (url.hostname === \"github.com\") {\n    return fetch(\n      \"https://raw.githubusercontent.com\" + url.pathname + \"/master/\" + fileName\n    )\n      .then(response => response.text())\n      .then(response => {\n        return response;\n      });\n  } else return Promise.reject();\n}\n\nexport function getFile(url) {\n  return fetch(url)\n    .then(response => response.text())\n    .then(response => {\n      return response;\n    });\n}\n\nexport function getLicenses() {\n  return getFile(LICENSES).then(text => JSON.parse(text));\n}\n\n// pypi\nexport const searchForPackage = (name, version) => {\n  return axios.get(\n    PYPI + \"/\" + name + (version ? \"/\" + version : \"\") + \"/json\"\n  );\n};\n\nexport const thothSearchForPackage = (\n  name,\n  version,\n  index = \"https://pypi.org/simple\"\n) => {\n  return axios\n    .get(THOTH + \"/python/package/metadata\", {\n      params: {\n        name: name,\n        version: version,\n        index: index\n      },\n      headers: {\n        accept: \"application/json\"\n      }\n    })\n    .then(res => {\n      return res.data.metadata;\n    })\n    .catch(e => {\n      if (e?.response?.status === 404) {\n        return axios\n          .get(PYPI + \"/\" + name + (version ? \"/\" + version : \"\") + \"/json\")\n          .then(res => {\n            return res.data.info;\n          });\n      } else {\n        throw e;\n      }\n    });\n};\n\n// thoth\nexport const thothAdvise = (pipfile, pipfileLock) => {\n  const d = {\n    application_stack: {\n      requirements: pipfile,\n      requirements_format: \"pipenv\",\n      requirements_lock: pipfileLock\n    },\n    runtime_environment: {\n      operating_system: {\n        name: \"ubi\",\n        version: \"8\"\n      },\n      platform: \"linux-x86_64\",\n      python_version: \"3.6\"\n    }\n  };\n\n  return axios.post(THOTH + \"/advise/python\", d, {\n    params: {\n      recommendation_type: \"stable\"\n    },\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothAdviseResult = analysis_id => {\n  //return Promise.resolve(data);\n  return axios.get(THOTH + \"/advise/python/\" + analysis_id, {\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothAdviseStatus = analysis_id => {\n  return axios.get(THOTH + \"/advise/python/\" + analysis_id + \"/status\", {\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothGetDependencies = (\n  name,\n  version,\n  index = \"https://pypi.org/simple\"\n) => {\n  return axios.get(THOTH + \"/python/package/dependencies\", {\n    params: {\n      name: name,\n      version: version,\n      index: index\n    },\n    //timeout: 5000,\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothGetLatestVersion = (name, version) => {\n  return axios\n    .get(THOTH + \"/python/package/versions\", {\n      params: {\n        name: name\n      },\n      timeout: 5000,\n      headers: {\n        accept: \"application/json\"\n      }\n    })\n    .then(res => {\n      if (res.data.versions.length === 0) {\n        return null;\n      } else {\n        const sorted = res.data.versions.sort(function(a, b) {\n          return compareVersions(a.package_version, b.package_version);\n        });\n\n        // compare to version if supplied\n        if (version && sorted.includes(version)) {\n          return version;\n        }\n\n        return sorted[sorted.length - 1].package_version;\n      }\n    })\n    .catch(() => {\n      return null;\n    });\n};\n","// API\nimport { searchForPackage, thothGetLatestVersion } from \"services/thothApi\";\n\n// utils\nimport compareVersions from \"tiny-version-compare\";\n\n// return null if no packages\n// return metadata if package exists\n// return metadata of requested package\n// \t\tand thoth latest version and error\n//\t\tif thoth not up to date or n/a\nexport async function validatePackage(name, version) {\n  //if the package or version doesnt exists, then get it\n  return await searchForPackage(name, version)\n    .then(async r => {\n      // check if thoth is up to data for package\n      return await thothGetLatestVersion(name, version)\n        .then(v => {\n          // if thoth does not have any refrence to package\n          if (v === null) {\n            return {\n              metadata: r.data,\n              error:\n                \"Thoth currently does not support '\" + r.data.info.name + \"'.\"\n            };\n          }\n          // thoth does not have the latest but has a version\n          else if (compareVersions(r.data.info.version, v) > 0) {\n            return {\n              metadata: r.data,\n              thothVersion: v,\n              error:\n                \"Thoth currently supports '\" +\n                r.data.info.name +\n                \"' up to version \" +\n                v +\n                \", while the most recent version of '\" +\n                r.data.info.name +\n                \"' is \" +\n                r.data.info.version +\n                \".\"\n            };\n          }\n          // thoth is up to date with the version\n          else {\n            return {\n              metadata: r.data\n            };\n          }\n        })\n        .catch(() => {\n          // thoth ran into an error unlreated to the package\n          return null;\n        });\n    })\n    .catch(() => {\n      // package does not exist\n      return null;\n    });\n}\n","// react\nimport React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n// material-ui\nimport { Typography, Button, Box, Collapse } from \"@material-ui/core\";\nimport LoadingButton from \"@material-ui/lab/LoadingButton\";\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// local\nimport { DASHBOARD } from \"navigation/CONSTANTS\";\nimport SearchBar from \"components/Shared/SearchBar\";\nimport TabPanel from \"components/Shared/TabPanel\";\n\n// utils\nimport { validatePackage } from \"utils/validatePackage\";\n\n// redux\nimport { DispatchContext } from \"App\";\n\n// api\nimport { thothAdvise } from \"services/thothApi\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\",\n    alignItems: \"center\",\n    marginTop: \"10%\"\n  },\n  stretchContent: {\n    minWidth: \"50%\"\n  },\n  searchBar: {\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  flexColumn: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  multilineTextBoxContainer: {\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  description: {\n    marginBottom: theme.spacing(1),\n    maxWidth: \"50%\",\n    textAlign: \"center\"\n  },\n  mode: {\n    marginBottom: theme.spacing(3)\n  },\n  title: {\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst Home = () => {\n  const history = useHistory();\n  const classes = useStyles();\n  const dispatch = useContext(DispatchContext);\n\n  // textbox states\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [pipfileQuery, setPipfileQuery] = useState(\"\");\n  const [pipfileLockQuery, setPipfileLockQuery] = useState(\"\");\n\n  // textbox errors\n  const [searchError, setSearchError] = useState(\"\");\n  const [pipfileError, setPipfileError] = useState(\"\");\n  const [pipfileLockError, setPipfileLockError] = useState(\"\");\n\n  // utlity states\n  const [mode, setMode] = useState(\"multiple\");\n  const [expandOptions, setExpandOptions] = useState(false);\n\n  const [queryLoading, setQueryLoading] = useState(false);\n\n  // handle textbox state change\n  const handleChange = (e, box) => {\n    switch (box) {\n      case \"single\":\n        setSearchQuery(e.target.value);\n        if (searchError !== \"\") {\n          setSearchError(\"\");\n        }\n        break;\n      case \"pipfile\":\n        setPipfileQuery(e.target.value);\n        if (pipfileError !== \"\") {\n          setPipfileError(\"\");\n        }\n        break;\n      case \"lock\":\n        setPipfileLockQuery(e.target.value);\n        if (pipfileLockError !== \"\") {\n          setPipfileLockError(\"\");\n        }\n        break;\n      default:\n    }\n  };\n\n  // change mode view\n  const handleMode = (event, newMode) => {\n    if (newMode) {\n      setMode(newMode);\n    }\n  };\n\n  // handle the input\n  const handleAnalyze = async () => {\n    // dispatch({\n    // \ttype: \"reset\"\n    // });\n    // history.push({\n    // \tpathname: DASHBOARD,\n    // \tstate: roots\n    // });\n\n    if (mode === \"single\") {\n      // if no query\n      if (searchQuery === \"\") {\n        return;\n      }\n      validatePackage(searchQuery)\n        .then(() => {\n          // TODO create pipfile\n        })\n        .catch(() => {\n          setSearchError(\"Package does not exist\");\n        });\n    }\n    // if using pipfile and pipfile.lock\n    else {\n      // if no query\n      if (\n        pipfileQuery === \"\" ||\n        pipfileLockQuery === \"\" ||\n        pipfileError !== \"\" ||\n        pipfileLockError !== \"\"\n      ) {\n        return;\n      }\n\n      let fail = false;\n      if (!pipfileQuery) {\n        fail = true;\n        setPipfileError(\"Please provide a Pipfile\");\n      }\n      if (!pipfileLockQuery) {\n        fail = true;\n        setPipfileLockError(\"Please provide a Pipfile.lock\");\n      }\n\n      // if able to parse both\n      if (!fail) {\n        setQueryLoading(true);\n        thothAdvise(pipfileQuery, pipfileLockQuery)\n          .then(response => {\n            setQueryLoading(false);\n            dispatch({\n              type: \"advise\",\n              param: \"analysis_id\",\n              payload: response.data.analysis_id\n            });\n            history.push(DASHBOARD + \"/\" + response.data.analysis_id);\n          })\n          .catch(error => {\n            setQueryLoading(false);\n            if (error.response.status === 400) {\n              if (error.response.data.error.includes(\"Pipfile.lock\")) {\n                setPipfileLockError(\"Failed to parse provided Pipfile.lock\");\n              } else if (error.response.data.error.includes(\"Pipfile\")) {\n                setPipfileError(\"Failed to parse provided Pipfile\");\n              }\n            }\n          });\n      }\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h4\" className={classes.title}>\n        <b>Thoth Search</b>\n      </Typography>\n      <Typography variant=\"body1\" className={classes.description}>\n        Thoth Search is a tool that runs analysis on a Python application. It\n        utilizes package metadata and Thoth Adviser to analyse and recommend a\n        software stack. <br />\n        <br /> You can run analysis on a specific Python package or you can\n        provide a properly formatted Pipfile and/or Pipfile.lock to run analysis\n        on an entire Python application.\n      </Typography>\n      <ToggleButtonGroup\n        value={mode}\n        exclusive\n        onChange={handleMode}\n        size={\"small\"}\n        className={classes.mode}\n      >\n        <ToggleButton value=\"single\" aria-label=\"left aligned\" disabled>\n          <b>Single Package</b>\n        </ToggleButton>\n        <ToggleButton value=\"multiple\" aria-label=\"centered\">\n          <b>Multiple Packages</b>\n        </ToggleButton>\n      </ToggleButtonGroup>\n      <TabPanel\n        value={mode}\n        index={\"single\"}\n        className={`${classes.flexColumn} ${classes.stretchContent}`}\n      >\n        <Box className={classes.searchBar}>\n          <SearchBar\n            label=\"Search for a Python package\"\n            onChange={e => handleChange(e, \"single\")}\n            helperText={searchError}\n            error={searchError !== \"\"}\n            type=\"search\"\n            boxprops={{ mr: 2 }}\n          />\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => handleAnalyze()}\n          >\n            <b>Analyze</b>\n          </Button>\n        </Box>\n\n        <Collapse in={expandOptions} timeout=\"auto\" unmountOnExit>\n          <Box mt={1}></Box>\n        </Collapse>\n        <Box textAlign=\"center\" mt={1}>\n          <Button\n            onClick={() => setExpandOptions(!expandOptions)}\n            color=\"primary\"\n          >\n            {expandOptions ? \"Less Options\" : \"More Options\"}\n          </Button>\n        </Box>\n      </TabPanel>\n\n      <TabPanel\n        value={mode}\n        index={\"multiple\"}\n        className={`${classes.flexColumn} ${classes.stretchContent}`}\n      >\n        <Box className={classes.multilineTextBoxContainer}>\n          <SearchBar\n            label=\"Pipfile contents\"\n            onChange={e => handleChange(e, \"pipfile\")}\n            helperText={pipfileError}\n            error={pipfileError !== \"\"}\n            multiline\n            rows={8}\n            boxprops={{ mr: 1 }}\n          />\n          <SearchBar\n            label=\"Pipfile.lock contents\"\n            onChange={e => handleChange(e, \"lock\")}\n            helperText={pipfileLockError}\n            error={pipfileLockError !== \"\"}\n            multiline\n            rows={8}\n            boxprops={{ ml: 1 }}\n          />\n        </Box>\n\n        <Box textAlign=\"center\" mt={2}>\n          <LoadingButton\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => handleAnalyze()}\n            loading={queryLoading}\n          >\n            <b>Analyze</b>\n          </LoadingButton>\n        </Box>\n      </TabPanel>\n    </div>\n  );\n};\n\nexport default Home;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Card, CardContent, CardHeader } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n    height: \"100%\"\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\"\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\n\nconst InfoCard = ({ cardMeta, cardBody }) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root}>\n      <CardHeader\n        action={cardMeta.action}\n        title={cardMeta.title}\n        subheader={cardMeta.subTitle}\n      />\n      <CardContent>{cardBody}</CardContent>\n    </Card>\n  );\n};\n\nInfoCard.propTypes = {\n  cardMeta: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    subTitle: PropTypes.string,\n    action: PropTypes.element\n  }),\n  cardBody: PropTypes.element\n};\n\nexport default InfoCard;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { withStyles, makeStyles } from \"@material-ui/styles\";\nimport { LinearProgress, Typography, Tooltip, Grid } from \"@material-ui/core\";\n\nconst CustomLinearProgress = withStyles(theme => ({\n  root: {\n    height: 10,\n    borderRadius: 5\n  },\n  colorPrimary: {\n    backgroundColor:\n      theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700]\n  },\n  bar: {\n    borderRadius: 5,\n    backgroundColor: \"#1a90ff\"\n  }\n}))(LinearProgress);\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(6,1fr)\",\n    alignItems: \"center\",\n    gridGap: theme.spacing(1)\n  },\n  label: {\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\"\n  },\n  value: {\n    textAlign: \"end\"\n  }\n}));\n\nconst ProgressBar = ({ value, total, label, action, ...props }) => {\n  const classes = useStyles();\n  return (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={4}>\n        <Tooltip title={label} placement=\"left\">\n          <Typography variant=\"body2\" className={classes.label}>\n            {label}\n          </Typography>\n        </Tooltip>\n      </Grid>\n      <Grid item xs={1}>\n        <Typography className={classes.value} variant=\"body2\">\n          {value}\n        </Typography>\n      </Grid>\n      <Grid item xs={6}>\n        <CustomLinearProgress\n          variant=\"determinate\"\n          value={total > 0 ? (value / total) * 100 : 0}\n        />\n      </Grid>\n      <Grid item xs>\n        <div>{action ?? null}</div>\n      </Grid>\n    </Grid>\n  );\n};\n\nProgressBar.propTypes = {\n  value: PropTypes.number.isRequired,\n  total: PropTypes.number.isRequired,\n  label: PropTypes.string\n};\n\nexport default ProgressBar;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\n\nimport {\n  Typography,\n  Divider,\n  List,\n  ListItem,\n  ListItemText,\n  Grid\n} from \"@material-ui/core/\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst MultipleDependenciesMetric = ({ metric }) => {\n  const classes = useStyles();\n  const totalDependencies =\n    (metric.all.direct ?? 0) +\n    (metric.all.indirect ?? 0) +\n    (metric.all.roots ?? 0);\n\n  return (\n    <div>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>All Packages</b>\n      </Typography>\n      <Divider className={classes.bar} />\n      <ProgressBar\n        value={metric.all.roots ?? 0}\n        total={totalDependencies}\n        label={\"Root\"}\n        className={classes.bar}\n      />\n      <ProgressBar\n        value={metric.all.direct ?? 0}\n        total={totalDependencies}\n        label={\"Direct\"}\n        className={classes.bar}\n      />\n      <ProgressBar\n        value={metric.all.indirect ?? 0}\n        total={totalDependencies}\n        label={\"Indirect\"}\n      />\n      <Typography variant=\"body2\" gutterBottom mt={2}>\n        <b>Root Packages</b>\n      </Typography>\n      <Divider className={classes.bar} />\n      <List component=\"nav\">\n        {Object.entries(metric.roots).map(([key, value], i) => {\n          const t =\n            (metric.roots[key].direct ?? 0) + (metric.roots[key].indirect ?? 0);\n          return (\n            <div key={key}>\n              <ListItem>\n                <Grid container alignItems=\"center\">\n                  <Grid item xs>\n                    <ListItemText primary={key} />\n                  </Grid>\n                  <Grid item xs>\n                    <Grid container direction=\"column\">\n                      <Grid item xs>\n                        <ProgressBar\n                          value={metric.roots[key].direct ?? 0}\n                          total={t}\n                          label={\"Direct\"}\n                        />\n                      </Grid>\n                      <Grid item xs>\n                        <ProgressBar\n                          value={metric.roots[key].indirect ?? 0}\n                          total={t}\n                          label={\"Indirect\"}\n                        />\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </ListItem>\n              <Divider variant={\"middle\"} className={classes.bar} />\n            </div>\n          );\n        })}\n      </List>\n    </div>\n  );\n};\n\nMultipleDependenciesMetric.propTypes = {\n  metric: PropTypes.shape({\n    all: PropTypes.shape({\n      direct: PropTypes.number,\n      indirect: PropTypes.number,\n      roots: PropTypes.number\n    })\n  })\n};\n\nexport default MultipleDependenciesMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";;\n\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst SingleDependenciesMetric = ({ metric }) => {\n  const classes = useStyles();\n  const totalDependencies =\n    (metric.all.direct ?? 0) + (metric.all.indirect ?? 0);\n\n  return (\n    <div>\n      <ProgressBar\n        value={metric.all.direct ?? 0}\n        total={totalDependencies}\n        label={\"Direct\"}\n        className={classes.bar}\n      />\n\n      <ProgressBar\n        value={metric.all.indirect ?? 0}\n        total={totalDependencies}\n        label={\"Indirect\"}\n      />\n    </div>\n  );\n};\n\nSingleDependenciesMetric.propTypes = {\n  metric: PropTypes.shape({\n    all: PropTypes.shape({\n      direct: PropTypes.number,\n      indirect: PropTypes.number\n    })\n  })\n};\n\nexport default SingleDependenciesMetric;\n","import { Typography } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\nconst ErrorText = ({ text }) => {\n  return (\n    <Typography align=\"center\" color=\"error\" variant=\"body1\">\n      {text}\n    </Typography>\n  );\n};\n\nErrorText.propTypes = {\n  text: PropTypes.string.isRequired\n};\n\nexport default ErrorText;\n","// react\nimport React from \"react\";\n\n// material ui\nimport { CircularProgress, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// component styling\n\nconst useStyles = makeStyles(theme => ({\n  customProgressRoot: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }\n}));\n\nconst CustomProgress = ({ amount, note }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.customProgressRoot}>\n      <CircularProgress\n        variant={amount ? \"determinate\" : \"indeterminate\"}\n        value={amount ?? 0}\n      />\n      {note ? (\n        <Typography align=\"center\" variant=\"body1\">\n          {note}\n        </Typography>\n      ) : null}\n    </div>\n  );\n};\n\nexport default CustomProgress;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ErrorPage from \"./ErrorPage\";\nimport CustomProgress from \"./CustomProgress\";\n\nconst LoadingErrorTemplate = ({\n  isError,\n  isLoading,\n  errorText,\n  loadingPage,\n  loadingAmount,\n  loadingText,\n  children\n}) => {\n  const renderChoice = () => {\n    if (isError) {\n      return <ErrorPage text={errorText ?? \"A unknown error occured\"} />;\n    } else if (isLoading) {\n      return (\n        loadingPage ?? (\n          <CustomProgress amount={loadingAmount} note={loadingText} />\n        )\n      );\n    } else {\n      return children;\n    }\n  };\n\n  return <>{renderChoice()}</>;\n};\n\nLoadingErrorTemplate.propTypes = {\n  state: PropTypes.any\n};\n\nexport default LoadingErrorTemplate;\n","// react\nimport { useContext } from \"react\";\n\n// DependenciesMetric\nimport MultipleDependenciesMetric from \"./MultipleDependenciesMetric\";\nimport SingleDependenciesMetric from \"./SingleDependenciesMetric\";\n\n// Shared\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst DependenciesMetric = () => {\n  const state = useContext(StateContext);\n\n  return (\n    <LoadingErrorTemplate isLoading={state.metrics?.licences}>\n      {state?.focus ? (\n        <SingleDependenciesMetric metric={state.metrics.dependencies} />\n      ) : (\n        <MultipleDependenciesMetric metric={state.metrics.dependencies} />\n      )}\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default DependenciesMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport {\n  Typography,\n  Divider,\n  Collapse,\n  Chip,\n  Button,\n  Box\n} from \"@material-ui/core\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\n\n// local\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  marginBottom: {\n    marginBottom: theme.spacing(2)\n  },\n  chip: {\n    margin: theme.spacing(0.5)\n  },\n  border: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst LicenseDisplay = ({ name, value, totalLicenses }) => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  return (\n    <div>\n      <div className={classes.flex} onClick={() => setOpen(!open)}>\n        <ProgressBar\n          key={name}\n          value={Object.keys(value).length - 3 ?? 0}\n          total={totalLicenses}\n          label={name}\n          className={classes.bar}\n          action={open ? <ExpandLess /> : <ExpandMore />}\n        />\n      </div>\n\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <div className={classes.border}>\n          {Object.entries(value)\n            .sort((a, b) => {\n              return a[1] - b[1];\n            })\n            .map(([k, v]) => {\n              if (k[0] === \"_\") {\n                return null;\n              }\n              return (\n                <Chip\n                  key={k}\n                  className={classes.chip}\n                  color={\n                    v === 0 ? \"primary\" : v === 1 ? \"secondary\" : \"default\"\n                  }\n                  label={k}\n                  onClick={null}\n                />\n              );\n            })}\n        </div>\n        <Divider />\n      </Collapse>\n    </div>\n  );\n};\n\nconst LicenseMetric = ({ metric, deepError }) => {\n  const classes = useStyles();\n\n  const [more, setMore] = React.useState(false);\n\n  const licenses = Object.entries(metric?.all ?? {}).sort((a, b) => {\n    return Object.keys(b[1]).length - Object.keys(a[1]).length;\n  });\n\n  const totalLicenses = Object.entries(metric?.all ?? {}).reduce((sum, key) => {\n    return sum + Object.keys(key[1]).length;\n  }, 0);\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>Dependency Licenses</b>\n      </Typography>\n      <Divider />\n      <LoadingErrorTemplate\n        state={deepError ? \"error\" : metric.all}\n        errorText=\"Could not run analysis on dependencies.\"\n      >\n        {licenses.slice(0, 10).map(([key, value]) => {\n          return (\n            <LicenseDisplay\n              key={key}\n              name={key}\n              value={value}\n              totalLicenses={totalLicenses}\n            />\n          );\n        })}\n\n        <Collapse in={more} timeout=\"auto\" unmountOnExit>\n          {licenses.slice(10).map(([key, value]) => {\n            return (\n              <LicenseDisplay\n                key={key}\n                name={key}\n                value={value}\n                totalLicenses={totalLicenses}\n              />\n            );\n          })}\n        </Collapse>\n        <Box textAlign=\"center\">\n          <Button onClick={() => setMore(!more)} color=\"primary\">\n            {more ? \"Less\" : \"More\"}\n          </Button>\n        </Box>\n      </LoadingErrorTemplate>\n    </div>\n  );\n};\n\nLicenseMetric.propTypes = {\n  metric: PropTypes.shape({\n    root: PropTypes.string,\n    all: PropTypes.object\n  }).isRequired\n};\n\nexport default LicenseMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Typography, Divider } from \"@material-ui/core\";\n\n// local\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  marginBottom: {\n    marginBottom: theme.spacing(2)\n  }\n}));\n\nconst SingleLicenseMetric = ({ metric }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>License</b>\n      </Typography>\n      <Divider />\n      <Typography className={classes.marginBottom} variant=\"h6\">\n        {metric.root}\n      </Typography>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>Dependency Licenses</b>\n      </Typography>\n      <Divider />\n\n      {Object.entries(metric?.all ?? {}).map(([key, value]) => {\n        return (\n          <ProgressBar\n            key={key}\n            value={Object.keys(value).length ?? 0}\n            total={metric.total}\n            label={key}\n            className={classes.bar}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nSingleLicenseMetric.propTypes = {\n  metric: PropTypes.shape({\n    root: PropTypes.string,\n    all: PropTypes.object\n  }).isRequired\n};\n\nexport default SingleLicenseMetric;\n","// react\nimport { useContext } from \"react\";\n\n// DependenciesMetric\nimport MultipleLicenseMetric from \"./MultipleLicenseMetric\";\nimport SingleLicenseMetric from \"./SingleLicenseMetric\";\n\n// Shared\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst LicenseMetric = () => {\n  const state = useContext(StateContext);\n\n  return (\n    <LoadingErrorTemplate isLoading={state.metrics?.licences}>\n      {state?.focus ? (\n        <SingleLicenseMetric metric={state.metrics.licenses} />\n      ) : (\n        <MultipleLicenseMetric metric={state.metrics.licenses} />\n      )}\n    </LoadingErrorTemplate>\n  );\n};\n\nLicenseMetric.propTypes = {};\n\nexport default LicenseMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Typography, Divider } from \"@material-ui/core\";\n\n// local\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  header: {\n    marginTop: theme.spacing(3)\n  },\n  flex: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n}));\n\nconst AdviseMetric = ({ metric }) => {\n  const classes = useStyles();\n  const total = metric.added + metric.removed + metric.version + metric.equal;\n  return (\n    <div>\n      <Typography variant=\"body2\" gutterBottom>\n        {metric.build}\n      </Typography>\n      <Typography variant=\"body2\" gutterBottom mt={2}>\n        <b>\n          Differences between the old Pipfile.lock and Thoth's new Pipfile.lock\n        </b>\n      </Typography>\n      <Divider className={classes.bar} />\n      <ProgressBar\n        value={metric.added ?? 0}\n        total={total}\n        label={\"Added Packages\"}\n        className={classes.bar}\n      />\n      <ProgressBar\n        value={metric.removed ?? 0}\n        total={total}\n        label={\"Removed Packages\"}\n        className={classes.bar}\n      />\n      <ProgressBar\n        value={metric.version ?? 0}\n        total={total}\n        label={\"Changed Version\"}\n      />\n      <Typography\n        variant=\"body2\"\n        className={classes.header}\n        gutterBottom\n        mt={2}\n      >\n        <b>Noteworthy Justifications</b>\n      </Typography>\n      <Divider className={classes.bar} />\n      {Object.entries(metric.justification).map(([key, value]) => {\n        return (\n          <Typography variant=\"body2\" gutterBottom key={key}>\n            {key}: {value}\n          </Typography>\n        );\n      })}\n    </div>\n  );\n};\n\nAdviseMetric.propTypes = {\n  metric: PropTypes.shape({\n    added: PropTypes.number,\n    removed: PropTypes.number,\n    version: PropTypes.number,\n    equal: PropTypes.number,\n    justification: PropTypes.object,\n    build: PropTypes.string\n  })\n};\n\nexport default AdviseMetric;\n","// react\nimport { useContext } from \"react\";\n\n// Shared\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\nimport AdviseMetric from \"./AdviseMetric\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst DependenciesMetric = () => {\n  const state = useContext(StateContext);\n\n  return (\n    <LoadingErrorTemplate isLoading={!state.metrics?.advise}>\n      {!state?.focus ? <AdviseMetric metric={state.metrics.advise} /> : null}\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default DependenciesMetric;\n","// React\nimport React, { useContext } from \"react\";\n\n// local components\nimport InfoCard from \"./InfoCard\";\nimport DependenciesMetric from \"components/Dashboard/Summary/Metrics/DependenciesMetric\";\nimport LicenseMetric from \"components/Dashboard/Summary/Metrics/LicenseMetric\";\nimport AdviseMetric from \"components/Dashboard/Summary/Metrics/AdviseMetric\";\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// material-ui\nimport { Grid } from \"@material-ui/core\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst MetricLayout = () => {\n  const state = useContext(StateContext);\n\n  return (\n    <LoadingErrorTemplate isLoading={state?.metrics === undefined}>\n      <Grid container spacing={3}>\n        {state?.metrics\n          ? Object.keys(state.metrics).map(key => {\n              return (\n                <Grid item xs={12} sm={6} key={key}>\n                  <InfoCard\n                    cardMeta={{\n                      title: key.charAt(0).toUpperCase() + key.slice(1)\n                    }}\n                    cardBody={\n                      key === \"dependencies\" ? (\n                        <DependenciesMetric />\n                      ) : key === \"licenses\" ? (\n                        <LicenseMetric />\n                      ) : key === \"advise\" ? (\n                        <AdviseMetric />\n                      ) : null\n                    }\n                  />\n                </Grid>\n              );\n            })\n          : null}\n      </Grid>\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default MetricLayout;\n","// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// react\nimport PropTypes from \"prop-types\";\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\"\n  }\n}));\n\nconst IconText = ({ text, icon, link, ...props }) => {\n  const classes = useStyles();\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      {icon}\n      <Typography href={link ? link : null} variant=\"body2\" marginLeft>\n        {text}\n      </Typography>\n    </div>\n  );\n};\n\nexport default IconText;\n\nIconText.propTypes = {\n  text: PropTypes.string.isRequired,\n  icon: PropTypes.element.isRequired,\n  link: PropTypes.string\n};\n","export function timeSince(date) {\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = seconds / 31536000;\n\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" year\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 2592000;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" month\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 86400;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" day\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 3600;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" hour\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 60;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" minute\" + (num !== 1 ? \"s\" : \"\");\n  }\n  const num = Math.floor(seconds);\n  return num + \" second\" + (num !== 1 ? \"s\" : \"\");\n}\n","// React\nimport React, { useContext } from \"react\";\n\n// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\n\n// local\nimport IconText from \"components/Shared/IconText\";\n\n// utils\nimport { timeSince } from \"utils/timeSince\";\n\n// redux\nimport { StateContext } from \"App\";\n\n// component styling\n\nconst useStyles = makeStyles(theme => ({\n  titleRow: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(1)\n  },\n  marginLeft: {\n    marginLeft: theme.spacing(2)\n  },\n  marginRight: {\n    marginRight: theme.spacing(2)\n  },\n  linksRow: {\n    display: \"flex\",\n    marginBottom: theme.spacing(3)\n  },\n  warning: {\n    display: \"flex\"\n  }\n}));\n\nconst PackageHeader = () => {\n  const classes = useStyles();\n  const { roots, packageWarning } = useContext(StateContext);\n\n  return (\n    <div>\n      <div className={classes.titleRow}>\n        <Typography variant=\"h4\">\n          <b>{roots[0]?.metadata?.name}</b>\n        </Typography>\n        <Typography className={classes.marginLeft} variant=\"subtitle1\">\n          v{roots[0]?.metadata?.version ?? \"NaN\"}\n        </Typography>\n      </div>\n\n      <Typography gutterBottom variant=\"body1\">\n        {roots[0]?.metadata?.summary ?? \"NaN\"}\n      </Typography>\n      <div className={classes.linksRow}>\n        <IconText\n          text={roots[0]?.metadata?.license ?? \"NaN\"}\n          icon={<GavelIcon />}\n        />\n        <IconText\n          className={classes.marginLeft}\n          text={\n            \"Latest version published \" +\n            timeSince(\n              new Date(\n                roots[0]?.metadata?.releases?.[\n                  roots[0]?.metadata?.version\n                ]?.[0]?.upload_time\n              )\n            ) +\n            \" ago.\"\n          }\n          icon={<BookmarkIcon />}\n        />\n      </div>\n      {packageWarning && packageWarning.length !== 0\n        ? packageWarning.map(p => {\n            return (\n              <Typography\n                gutterBottom\n                color={\"error\"}\n                className={classes.marginRight}\n                variant=\"body2\"\n              >\n                Dependency <i>{packageWarning[0].value.label}</i>{\" \"}\n                <i>{packageWarning[0].value.metadata.version}</i> is currently\n                not supported by Thoth.\n              </Typography>\n            );\n          })\n        : null}\n    </div>\n  );\n};\n\nexport default PackageHeader;\n","// React\nimport React, { useContext } from \"react\";\n\n// material-ui\nimport { Typography, Chip, Button, Collapse, Alert } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport AccessTimeIcon from \"@material-ui/icons/AccessTime\";\n// local\nimport IconText from \"components/Shared/IconText\";\n\n// utils\nimport { timeSince } from \"utils/timeSince\";\n\n// redux\nimport { StateContext } from \"App\";\n\n// component styling\n\nconst useStyles = makeStyles(theme => ({\n  titleRow: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(1)\n  },\n  marginLeft: {\n    marginLeft: theme.spacing(2)\n  },\n  marginRight: {\n    marginRight: theme.spacing(2)\n  },\n  linksRow: {\n    display: \"flex\",\n    marginBottom: theme.spacing(3),\n    alignItems: \"center\"\n  },\n  alert: {\n    width: \"100%\",\n    marginTop: theme.spacing(1)\n  }\n}));\n\nconst CustomAlert = ({ info, ...props }) => {\n  return (\n    <Alert\n      className={props.className}\n      action={\n        <Button color=\"inherit\" size=\"small\" href={info.link}>\n          DETAILS\n        </Button>\n      }\n      severity={info.type.toLowerCase()}\n    >\n      {info.message}\n    </Alert>\n  );\n};\n\nconst AdviseHeader = ({ adviseID }) => {\n  const classes = useStyles();\n  const state = useContext(StateContext);\n  const [expandAlerts, setExpandAlerts] = React.useState(false);\n\n  const calcTime = () => {\n    // if status says finished\n    if (state?.advise?.status?.finished_at) {\n      return (\n        \"Advise finished \" +\n        timeSince(new Date(state.advise.status.finished_at)) +\n        \" ago.\"\n      );\n    }\n    // if status is pending\n    else if (state?.advise?.status?.started_at) {\n      return (\n        \"Advise started \" +\n        timeSince(new Date(state.advise.status.started_at)) +\n        \" ago.\"\n      );\n    }\n    // if status is nulled so use metadata end date\n    else if (state?.advise?.metadata?.datetime) {\n      return (\n        \"Advise finished \" +\n        timeSince(new Date(state.advise.metadata.datetime + \"Z\")) +\n        \" ago.\"\n      );\n    } else {\n      return \"Time started/finished not available\";\n    }\n  };\n\n  const [statusText, statusColor] = (() => {\n    // if report is done\n    if (state?.advise?.report) {\n      if (state.advise.report.ERROR) {\n        return [\"ERROR\", \"error\"];\n      } else {\n        return [\"COMPLETE\", \"success\"];\n      }\n    }\n    // if report is not done\n    else if (state?.advise?.status?.state) {\n      return [state.advise.status.state.toUpperCase(), \"info\"];\n    } else {\n      return [\"UNKNOWN\", undefined];\n    }\n  })();\n\n  const alerts = state?.advise?.report?.stack_info\n    ? state.advise.report.stack_info.filter(alert => {\n        return alert.type === \"ERROR\";\n      })\n    : null;\n\n  return (\n    <div>\n      <Typography variant=\"h4\">\n        <b>{adviseID}</b>\n      </Typography>\n      <div className={classes.linksRow}>\n        <Chip label={statusText} color={statusColor} />\n        <IconText\n          className={classes.marginLeft}\n          text={calcTime()}\n          icon={<AccessTimeIcon />}\n        />\n      </div>\n      {alerts?.length > 0 ? (\n        <div>\n          <CustomAlert info={alerts[0]} />\n          <Collapse in={expandAlerts} timeout=\"auto\" unmountOnExit>\n            {alerts?.slice(1).map(info => {\n              return <CustomAlert info={info} className={classes.alert} />;\n            })}\n          </Collapse>\n\n          <Button\n            color=\"inherit\"\n            size=\"small\"\n            onClick={() => setExpandAlerts(!expandAlerts)}\n          >\n            {alerts?.length > 1 ? (expandAlerts ? \"LESS\" : \"MORE\") : null}\n          </Button>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default AdviseHeader;\n","export function recurseToRoot(start, end, edges) {\n  // get edges coming off of node *start*\n  const starting_edges = edges.filter(edge => start.includes(edge.from));\n\n  // recurse from each starting edge to root (0)\n  // note there could be multiple starting points\n  let combined = { nodes: [], edges: [] };\n  starting_edges.forEach(edge => {\n    const path = recurse(edge, { nodes: [], edges: [] }, edges, end);\n    combined = {\n      nodes: [...new Set([...path.nodes, ...combined.nodes])],\n      edges: [...new Set([...path.edges, ...combined.edges])]\n    };\n  });\n\n  return combined;\n}\n\nfunction recurse(edge, selection, edges, end) {\n  // cycle or allready visited OR\n  if (selection.edges.includes(edge.id)) {\n    return selection;\n  }\n\n  // add the edge id and nodes at either end of edge to selection\n  selection.nodes.push(edge.from, edge.to);\n  selection.edges.push(edge.id);\n\n  // cycle or allready visited OR\n  if (edge.to === end) {\n    return selection;\n  } else {\n    // find the next edges to go\n    // combine voth recursion branches together while removing dups\n    // return combined branches as one\n    let combined = { nodes: [], edges: [] };\n    edges\n      .filter(e => e.from === edge.to)\n      .forEach(e => {\n        const path = recurse(e, selection, edges, end);\n        combined = {\n          nodes: [...new Set([...path.nodes, ...combined.nodes])],\n          edges: [...new Set([...path.edges, ...combined.edges])]\n        };\n      });\n\n    return combined;\n  }\n}\n","export const options = {\n  manipulation: {\n    enabled: false,\n    editNode: function(nodeData, callback) {\n      nodeData.fixed = !nodeData.fixed.x;\n      callback(nodeData);\n    }\n  },\n  interaction: {\n    hover: true,\n    hoverConnectedEdges: false,\n    selectConnectedEdges: false,\n    selectable: false\n  },\n  edges: {\n    chosen: false,\n    smooth: false,\n    color: {\n      color: \"#5c6470\"\n    },\n    arrowStrikethrough: false,\n    arrows: {\n      from: {\n        enabled: true,\n        type: \"triangle\"\n      }\n    }\n  },\n  nodes: {\n    chosen: false,\n    color: {\n      background: \"#5c6470\",\n      border: \"#fff\",\n      hover: {\n        background: \"#f39200\",\n        border: \"#fff\"\n      }\n    },\n    shape: \"dot\",\n    size: 10,\n    borderWidth: 2,\n    labelHighlightBold: false,\n    font: {\n      color: \"#393e46\",\n      strokeWidth: 2,\n      size: 15\n    }\n  },\n  physics: {\n    hierarchicalRepulsion: {\n      damping: 0.1,\n      springLength: 200\n    },\n    solver: \"hierarchicalRepulsion\",\n    minVelocity: 0.15\n  }\n};\n","// react\nimport React, { useEffect, useRef, useState } from \"react\";\n\n// utils and configs\nimport { recurseToRoot } from \"utils/recurseToRoot\";\nimport { options } from \"config/networkOptions\";\n\n// vis-network\nimport { Network, DataSet } from \"vis-network/standalone/esm/vis-network\";\n\n// material ui\nimport { makeStyles } from \"@material-ui/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\"\n  },\n  canvas: {\n    flex: \"1 1 auto\",\n    height: \"75vh\"\n  }\n}));\n\nconst NetworkGraph = ({\n  data,\n  filterdGraph,\n  searchText,\n  root,\n  selectedPackage,\n  search,\n  ...props\n}) => {\n  const classes = useStyles();\n  const [selected, setSelected] = useState(data);\n  const visJsRef = useRef(null);\n\n  useEffect(() => {\n    const network =\n      visJsRef.current && new Network(visJsRef.current, selected, options);\n\n    // set root node to have specific color\n    const rootNode = data.nodes.get(root);\n    rootNode.color = \"#4fc1ea\";\n    rootNode.font = { color: \"#4fc1ea\", strokeWidth: 3, size: 20 };\n    data.nodes.updateOnly(rootNode);\n\n    // change curser when hovering and grabbing\n    // Get the canvas HTML element\n    var networkCanvas = document\n      .getElementById(\"mynetwork\")\n      .getElementsByTagName(\"canvas\")[0];\n\n    // changes the curser graphic depedning on where and what the mouse is doing\n    function changeCursor(newCursorStyle) {\n      networkCanvas.style.cursor = newCursorStyle;\n    }\n    network.on(\"hoverNode\", function() {\n      changeCursor(\"grab\");\n    });\n    network.on(\"blurNode\", function() {\n      changeCursor(\"default\");\n    });\n    network.on(\"dragStart\", function() {\n      changeCursor(\"grabbing\");\n    });\n    network.on(\"dragging\", function() {\n      changeCursor(\"grabbing\");\n    });\n    network.on(\"dragEnd\", function() {\n      changeCursor(\"grab\");\n    });\n\n    // fix (stick in place) node when done dragging\n    network.on(\"dragEnd\", function(params) {\n      if (params.nodes.length !== 0) {\n        network.editNode(params.nodes[0]);\n      }\n    });\n\n    // un stick node if already stuck\n    network.on(\"dragStart\", function(params) {\n      // check if node has not been touched or is fixed\n      // if fixed then un fix\n      if (\n        params.nodes.length !== 0 &&\n        network.body.nodes[params.nodes[0]].options.x !== undefined &&\n        network.body.nodes[params.nodes[0]].options.x\n      ) {\n        // un fix node\n        network.editNode(params.nodes[0]);\n      }\n    });\n  }, [root, selected, data.nodes]);\n\n  // recursivly finds all paths from search result to root\n  useEffect(() => {\n    const selectedColor = \"#f39200\";\n\n    // clear selection\n    data.nodes.updateOnly(\n      data.nodes.get().map(e => {\n        if (e.color === selectedColor) {\n          e[\"color\"] = filterdGraph.find(node => node.id === e.id).color;\n        }\n        return e;\n      })\n    );\n\n    if (selectedPackage === null) {\n      // reset node colors\n      setSelected(data);\n      return;\n    }\n\n    // use input text to find possible results\n    const result = data.nodes.get(selectedPackage);\n\n    // recurse through possible results\n    const recurse = recurseToRoot(\n      [selectedPackage],\n      root,\n      data.edges.map(e => e)\n    );\n    setSelected({\n      nodes: new DataSet(data.nodes.get(recurse.nodes)),\n      edges: new DataSet(data.edges.get(recurse.esges))\n    });\n\n    // set searched nodes to a different color\n    if (result.id !== root) {\n      result[\"color\"] = selectedColor;\n    }\n\n    // update nodes and edges in the dataset\n    data.nodes.updateOnly(result);\n  }, [selectedPackage, root, data, filterdGraph]);\n\n  // recursivly finds all paths from search result to root\n  useEffect(() => {\n    // clear selection\n    data.nodes.updateOnly(\n      data.nodes.get().map(e => {\n        if (e.id !== root) {\n          //e[\"color\"] = options.nodes.color;\n          //e[\"font\"] = options.nodes.font;\n          e[\"opacity\"] = 1;\n          e[\"font\"] = { size: options.nodes.font.size };\n        }\n        return e;\n      })\n    );\n\n    // reset edge colors\n    data.edges.updateOnly(\n      data.edges.get().map(e => {\n        //e[\"color\"] = options.edges.color;\n        e[\"color\"] = { opacity: 1 };\n        return e;\n      })\n    );\n\n    if (search === \"\") {\n      // reset node colors\n      return;\n    }\n\n    // use input text to find possible results\n    let possible_results = data.nodes.get({\n      filter: function(node) {\n        return node.label.includes(search);\n      }\n    });\n\n    // recurse through possible results\n    const selected = recurseToRoot(\n      possible_results.map(node => node.id),\n      root,\n      data.edges.map(e => e)\n    );\n\n    // grey out non search results\n    // nodes that are not in search results\n    const unselected_edges = data.edges\n      .get()\n      .filter(edge => !selected.edges.includes(edge.id))\n      .map(e => {\n        //e[\"color\"] = { color: \"#e3e5e8\" };\n        e[\"color\"] = { opacity: 0.05 };\n        return e;\n      });\n\n    // edges that are not in search results\n    const unselected_nodes = data.nodes\n      .get()\n      .filter(node => !selected.nodes.includes(node.id))\n      .map(e => {\n        if (e.id !== root) {\n          //e[\"color\"] = { background: \"#e3e5e8\" };\n          //e[\"font\"] = { color: \"#e3e5e8\", strokeWidth: 2, size: 15 };\n          e[\"font\"] = { size: 0 };\n          e[\"opacity\"] = 0.05;\n        }\n        return e;\n      });\n\n    // set searched nodes to a different color\n    possible_results = possible_results.map(e => {\n      if (e.id !== root) {\n        //e[\"color\"] = { background: \"#f39200\" };\n      }\n      return e;\n    });\n\n    // update nodes and edges in the dataset\n    data.nodes.updateOnly(unselected_nodes.concat(possible_results));\n    data.edges.updateOnly(unselected_edges);\n  }, [search, data, root]);\n\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      <div ref={visJsRef} id=\"mynetwork\" className={classes.canvas} />\n    </div>\n  );\n};\n\nexport default NetworkGraph;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Box from \"@material-ui/core/Box\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { visuallyHidden } from \"@material-ui/utils\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Collapse from \"@material-ui/core/Collapse\";\n\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\nimport RemoveRoundedIcon from \"@material-ui/icons/RemoveRounded\";\nimport CircleOutlinedIcon from \"@material-ui/icons/CircleOutlined\";\n\nfunction descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction getComparator(order, orderBy) {\n  return order === \"desc\"\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nfunction stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(el => el[0]);\n}\n\nconst headCells = [\n  {\n    id: \"name\",\n    numeric: false,\n    label: \"Package\"\n  },\n  {\n    id: \"depth\",\n    numeric: true,\n    label: \"Depth\"\n  },\n  {\n    id: \"license\",\n    numeric: false,\n    label: \"License\"\n  },\n  {\n    id: \"dependencies\",\n    numeric: true,\n    label: \"Direct Dependencies\"\n  }\n];\n\nfunction EnhancedTableHead(props) {\n  const { order, orderBy, onRequestSort } = props;\n  const createSortHandler = property => event => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        {headCells.map(headCell => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? \"right\" : \"left\"}\n            padding=\"normal\"\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : \"asc\"}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <Box component=\"span\" sx={visuallyHidden}>\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\n                </Box>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  onRequestSort: PropTypes.func.isRequired,\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\n  orderBy: PropTypes.string.isRequired\n};\n\nexport default function EnhancedTable({\n  filterdGraph,\n  search,\n  selectedPackage\n}) {\n  const [order, setOrder] = useState(\"asc\");\n  const [orderBy, setOrderBy] = React.useState(\"calories\");\n  const [selected, setSelected] = React.useState([]);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\n  const [rows, setRows] = React.useState([]);\n  const [open, setOpen] = React.useState(null);\n\n  useEffect(() => {\n    if (!filterdGraph) {\n      return;\n    }\n    const newRows = [];\n    filterdGraph.forEach(node => {\n      if (node.depth === -1) {\n        return;\n      }\n      newRows.push({\n        name: node.label,\n        warnings: [],\n        depth: node.node.value.depth,\n        license: node?.node?.value?.metadata?.license,\n        dependencies: node.node.adjacents.size,\n        change: node.change,\n        summary: node?.node?.value?.metadata?.summary\n      });\n    });\n    setRows(newRows);\n  }, [filterdGraph]);\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === \"asc\";\n    setOrder(isAsc ? \"desc\" : \"asc\");\n    setOrderBy(property);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  // Avoid a layout jump when reaching the last page with empty rows.\n  const emptyRows =\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0;\n\n  return (\n    <Box sx={{ width: \"100%\" }}>\n      <Paper sx={{ width: \"100%\", mb: 2 }}>\n        <TableContainer>\n          <Table sx={{ minWidth: 750 }} size=\"medium\">\n            <EnhancedTableHead\n              numSelected={selected.length}\n              order={order}\n              orderBy={orderBy}\n              onRequestSort={handleRequestSort}\n              rowCount={rows.length}\n            />\n            <TableBody>\n              {stableSort(rows, getComparator(order, orderBy))\n                .filter(row => row.name.includes(search))\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map((row, index) => {\n                  const labelId = `enhanced-table-checkbox-${index}`;\n\n                  const iconColor =\n                    row.change === \"removed\"\n                      ? \"error\"\n                      : row.change === \"added\"\n                      ? \"success\"\n                      : undefined;\n\n                  return (\n                    <React.Fragment>\n                      <TableRow\n                        hover\n                        onClick={() => {\n                          setSelected(row.name);\n                          if (open !== row.name) {\n                            setOpen(row.name);\n                          } else {\n                            setOpen(null);\n                          }\n                        }}\n                        tabIndex={-1}\n                        key={row.name}\n                        selected={selected === row.name}\n                      >\n                        <TableCell component=\"th\" id={labelId} scope=\"row\">\n                          <Box display=\"flex\">\n                            {row.change === \"removed\" ? (\n                              <RemoveRoundedIcon color={iconColor} />\n                            ) : row.change === \"added\" ? (\n                              <AddRoundedIcon color={iconColor} />\n                            ) : (\n                              <CircleOutlinedIcon />\n                            )}\n                            <Typography ml={2}>{row.name}</Typography>\n                          </Box>\n                        </TableCell>\n                        <TableCell align=\"right\">{row.depth}</TableCell>\n                        <TableCell align=\"right\">{row.license}</TableCell>\n                        <TableCell align=\"right\">{row.dependencies}</TableCell>\n                      </TableRow>\n\n                      <TableRow>\n                        <TableCell\n                          style={{ paddingBottom: 0, paddingTop: 0 }}\n                          colSpan={6}\n                        >\n                          <Collapse\n                            in={open === row.name}\n                            timeout=\"auto\"\n                            unmountOnExit\n                          >\n                            <Typography gutterBottom variant=\"body1\">\n                              {row.summary ?? \"NaN\"}\n                            </Typography>\n                          </Collapse>\n                        </TableCell>\n                      </TableRow>\n                    </React.Fragment>\n                  );\n                })}\n              {emptyRows > 0 && (\n                <TableRow\n                  style={{\n                    height: 53 * emptyRows\n                  }}\n                >\n                  <TableCell colSpan={6} />\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <TablePagination\n          rowsPerPageOptions={[5, 10, 25]}\n          component=\"div\"\n          count={rows.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onPageChange={handleChangePage}\n          onRowsPerPageChange={handleChangeRowsPerPage}\n        />\n      </Paper>\n    </Box>\n  );\n}\n","/**\n * Graph node/vertex that hold adjacencies nodes\n * For performance, uses a HashSet instead of array for adjacents.\n */\nexport class Node {\n  constructor(key, value) {\n    this.adjacents = new Set(); // adjacency list\n    this.key = key; // key\n    this.value = value;\n  }\n\n  /**\n   * Add node to adjacency list\n   * Runtime: O(1)\n   * @param {Node} node\n   */\n  addAdjacent(node) {\n    this.adjacents.add(node);\n  }\n\n  /**\n   * Check if a Node is adjacent to other\n   * Runtime: O(1)\n   * @param {Node} node\n   */\n  isAdjacent(node) {\n    return this.adjacents.has(node);\n  }\n\n  /**\n   * Get all adjacent nodes\n   */\n  getAdjacents() {\n    return Array.from(this.adjacents);\n  }\n}\n","import { Node } from \"utils/Node\";\n\n/**\n * Graph data structure implemented with an adjacent list\n */\nexport class Graph {\n  constructor() {\n    this.nodes = new Map();\n  }\n\n  /**\n   * Add a node to the graph.\n   */\n  addVertex(key, value) {\n    if (this.nodes.has(key)) {\n      return this.nodes.get(key);\n    }\n\n    const vertex = new Node(key, value);\n    this.nodes.set(key, vertex);\n    return vertex;\n  }\n\n  /**\n   * Create a connection between the source node and the destination node.\n   * If the nodes don't exist, then it will make them on the fly.\n   */\n  addEdge(source, destination) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n\n    sourceNode.addAdjacent(destinationNode);\n\n    return [sourceNode, destinationNode];\n  }\n\n  /**\n   * True if two nodes are adjacent.\n   */\n  areAdjacents(source, destination) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n\n    if (sourceNode && destinationNode) {\n      return sourceNode.isAdjacent(destinationNode);\n    }\n\n    return false;\n  }\n\n  /**\n   * Generic graph search where we can pass a bfs or dfs\n   */\n  *graphSearch(first, type = \"bfs\") {\n    const visited = new Map();\n    const visitList = [];\n\n    visitList.push(first);\n\n    while (visitList.length !== 0) {\n      const node = type === \"dfs\" ? visitList.pop() : visitList.shift();\n      if (node && !visited.has(node)) {\n        yield node;\n        visited.set(node);\n        node.getAdjacents().forEach(adj => visitList.push(adj));\n      }\n    }\n  }\n\n  /**\n   * Find a path between source and destination\n   * It might not be the optimal path\n   */\n  findPath(source, destination, path = new Map()) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n    const newPath = new Map(path);\n\n    if (!destinationNode || !sourceNode) return [];\n\n    newPath.set(sourceNode);\n\n    if (source === destination) {\n      return Array.from(newPath.keys());\n    }\n\n    // eslint-disable-next-line no-restricted-syntax\n    for (const node of sourceNode.getAdjacents()) {\n      if (!newPath.has(node)) {\n        const nextPath = this.findPath(node.value, destination, newPath);\n        if (nextPath.length) {\n          return nextPath;\n        }\n      }\n    }\n\n    return [];\n  }\n\n  /**\n   * Find all paths from source to destination\n   */\n  findAllPaths(source, destination, path = new Map()) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n    const newPath = new Map(path);\n\n    if (!destinationNode || !sourceNode) return [];\n\n    newPath.set(sourceNode);\n\n    if (source === destination) {\n      return [Array.from(newPath.keys())];\n    }\n\n    const paths = [];\n    sourceNode.getAdjacents().forEach(node => {\n      if (!newPath.has(node)) {\n        const nextPaths = this.findAllPaths(node.value, destination, newPath);\n        nextPaths.forEach(nextPath => paths.push(nextPath));\n      }\n    });\n    return paths;\n  }\n}\n","// api\nimport { thothSearchForPackage, getLicenses } from \"services/thothApi\";\n\n// utils\nimport { Graph } from \"utils/Graph\";\n\n// redux\nimport { DispatchContext, StateContext } from \"App\";\n\nimport { useContext, useEffect, useState } from \"react\";\n\n//vis-dataset\nimport { DataSet } from \"vis-network/standalone/esm/vis-network\";\n\nimport { useTheme } from \"@material-ui/core/styles\";\n\n// React hook for computing metrics and applying to state\nexport function useComputeMetrics(graph, roots) {\n  const dispatch = useContext(DispatchContext);\n  const state = useContext(StateContext);\n\n  useEffect(() => {\n    if (!state?.advise?.metadata || !state?.mergedGraph) {\n      return;\n    }\n\n    const advise = {\n      added: 0,\n      removed: 0,\n      version: 0,\n      equal: 0,\n      justification: {},\n      build: null\n    };\n\n    // package changes\n    state.mergedGraph.forEach(node => {\n      switch (node.change) {\n        case \"added\":\n          advise.added++;\n          break;\n        case \"removed\":\n          advise.removed++;\n          break;\n        case \"version\":\n          advise.version++;\n          break;\n        default:\n          advise.equal++;\n      }\n    });\n\n    // build environment\n    advise.build = `We have analysed an application stack running on ${state.advise.metadata.os_release.name} ${state.advise.metadata.os_release.version}, running Python (${state.advise.metadata.python.implementation_name}) ${state.advise.metadata.python.major}.${state.advise.metadata.python.minor}.${state.advise.metadata.python.micro}. It was Adviser Job ID ${state.advise.metadata.document_id}, by ${state.advise.metadata.analyzer} v${state.advise.metadata.analyzer_version}. `;\n\n    // justification counts\n    state.advise?.report?.products?.[0]?.justification.forEach(\n      justification => {\n        if (justification.type !== \"INFO\") {\n          if (advise?.justification[justification.type] !== undefined) {\n            advise.justification[justification.type]++;\n          } else {\n            advise.justification[justification.type] = 0;\n          }\n        }\n      }\n    );\n\n    dispatch({\n      type: \"metric\",\n      metric: \"advise\",\n      payload: advise\n    });\n  }, [state.mergedGraph, state.advise, dispatch]);\n\n  // get license info\n  const [licenseData, setLicenseData] = useState();\n  useEffect(() => {\n    getLicenses()\n      .then(licenseData => {\n        setLicenseData(licenseData);\n      })\n      .catch(() => setLicenseData({}));\n  }, []);\n\n  useEffect(() => {\n    if (!graph || !roots || !licenseData) {\n      return;\n    }\n\n    let dependencies = {\n      all: {},\n      roots: {}\n    };\n\n    let licenses = { total: undefined, all: {} };\n\n    // for each starting node\n    Object.keys(roots).forEach(root => {\n      const bfs = graph.graphSearch(graph.nodes.get(root));\n      const visitedOrder = Array.from(bfs);\n\n      // depth to type of dependency\n      visitedOrder.forEach(node => {\n        const depth =\n          node.value.depth === 0 || roots[node.value.id]\n            ? \"roots\"\n            : node.value.depth === 1\n            ? \"direct\"\n            : \"indirect\";\n\n        // dependency metric\n        dependencies = {\n          all: {\n            ...dependencies.all,\n            [depth]: (dependencies.all[depth] ?? 0) + 1\n          },\n          roots: {\n            ...dependencies.roots,\n            [root]: {\n              ...(dependencies.roots[root] ?? null),\n              [depth]: (dependencies.roots?.[root]?.[depth] ?? 0) + 1\n            }\n          }\n        };\n\n        // licence metric\n\n        // find license in dataset\n        let found = undefined;\n        if (licenseData.licenses) {\n          found = licenseData.licenses.find(l => {\n            const lower = node.value.metadata.license.toLowerCase();\n            return (\n              l.name.toLowerCase() === lower ||\n              l.licenseId.toLowerCase() === lower\n            );\n          });\n        }\n\n        licenses = {\n          total: (licenses.total ?? 0) + 1,\n          root: licenses.root ?? node.value.metadata.license,\n          all: {\n            ...licenses.all,\n            [found?.licenseId ?? node.value.metadata.license]: {\n              ...(licenses.all[node.value.metadata.license] ?? null),\n              [node.value.label]: node.value.depth,\n              _found: found !== undefined,\n              _isOsiApproved: found?.isOsiApproved ?? null,\n              _isFsfLibre: found?.isFsfLibre ?? null\n            }\n          }\n        };\n      });\n    });\n\n    // apply metrics to global state\n    dispatch({\n      type: \"metric\",\n      metric: \"dependencies\",\n      payload: dependencies\n    });\n    dispatch({\n      type: \"metric\",\n      metric: \"licenses\",\n      payload: licenses\n    });\n  }, [graph, dispatch, roots, licenseData]);\n}\n\nexport function useMergeGraphs(\n  oldGraph,\n  newGraph,\n  root,\n  showOldPackages = false\n) {\n  const dispatch = useContext(DispatchContext);\n  const state = useContext(StateContext);\n\n  const theme = useTheme();\n\n  const [visGraph, setVisGraph] = useState(undefined);\n  const [filterdGraph, setFilterdGraph] = useState(undefined);\n\n  useEffect(() => {\n    if (!oldGraph || !newGraph || !root) {\n      return;\n    }\n\n    const data = {\n      nodes: [],\n      edges: []\n    };\n\n    const edgeColors = new Map();\n\n    oldGraph.nodes.forEach((value, key) => {\n      // if the new and old graph have the same package\n      if (newGraph.nodes.has(key)) {\n        // if the versions match\n        const newNode = newGraph.nodes.get(key);\n\n        if (\n          key === root ||\n          value.value.metadata.version === newNode.value.metadata.version\n        ) {\n          data.nodes.push({\n            id: newNode.value.id,\n            label:\n              newNode.value.label +\n              \" \" +\n              (newNode?.value?.metadata?.version ?? \"\"),\n            node: newNode,\n            change: \"equal\"\n          });\n        }\n        // if the versions are different\n        else {\n          // set package node\n          data.nodes.push({\n            id: newNode.value.id,\n            label: newNode.value.label + \" \" + newNode.value.metadata.version,\n            font: {\n              color: theme.palette.success.main\n            },\n            node: newNode,\n            change: \"version\"\n          });\n        }\n      }\n      // if new graph does not have package then it is removed\n      else {\n        data.nodes.push({\n          id: value.value.id,\n          label: value.value.label + \" \" + value.value.metadata.version,\n          font: {\n            color: theme.palette.error.main\n          },\n          color: theme.palette.error.main,\n          node: oldGraph.nodes.get(value.value.id),\n          change: \"removed\"\n        });\n\n        edgeColors.set(value.value.id, theme.palette.error.main);\n      }\n    });\n\n    // get added nodes\n    newGraph.nodes.forEach((value, key) => {\n      // if the old grpah does not have what new graph has\n      if (!oldGraph.nodes.has(key)) {\n        data.nodes.push({\n          id: value.value.id,\n          label: value.value.label + \" \" + value.value.metadata.version,\n          font: {\n            color: theme.palette.success.main\n          },\n          color: theme.palette.success.main,\n          node: newGraph.nodes.get(value.value.id),\n          change: \"added\"\n        });\n\n        edgeColors.set(value.value.id, theme.palette.success.main);\n      }\n    });\n\n    oldGraph.nodes.forEach((value, key) => {\n      // set package edges\n      value.adjacents.forEach(adj => {\n        data.edges.push({\n          to: value.value.id,\n          from: adj.value.id,\n          color: edgeColors.get(adj.value.id) ?? undefined\n        });\n      });\n    });\n\n    newGraph.nodes.forEach((value, key) => {\n      // set package edges\n      value.adjacents.forEach(adj => {\n        data.edges.push({\n          to: value.value.id,\n          from: adj.value.id,\n          color: edgeColors.get(adj.value.id) ?? undefined\n        });\n      });\n    });\n\n    const visData = {\n      nodes: new DataSet(data.nodes),\n      edges: new DataSet(data.edges)\n    };\n\n    setVisGraph(visData);\n\n    dispatch({\n      type: \"graph\",\n      name: \"mergedGraph\",\n      payload: data.nodes\n    });\n  }, [oldGraph, newGraph, theme, root, dispatch]);\n\n  // if filter type is changed then apply filter to state\n  useEffect(() => {\n    if (!state.mergedGraph || !visGraph?.edges) {\n      return;\n    }\n\n    const filterdNodes = state.mergedGraph.filter(node => {\n      return node.change !== \"removed\" || showOldPackages;\n    });\n\n    setFilterdGraph(filterdNodes);\n\n    setVisGraph({\n      nodes: new DataSet(filterdNodes),\n      edges: visGraph.edges\n    });\n  }, [showOldPackages, dispatch, state.mergedGraph, visGraph?.edges]);\n\n  return { visGraph: visGraph, filterdGraph: filterdGraph };\n}\n\nexport function useLockFileToGraph(pipfile, pipfileLock, stateName) {\n  const dispatch = useContext(DispatchContext);\n\n  useEffect(() => {\n    if (!pipfile || !pipfileLock || !stateName) {\n      return;\n    }\n\n    const graph = new Graph();\n\n    (async () => {\n      const cantBeRoots = [];\n\n      await Promise.all(\n        // create nodes\n        Object.entries(pipfileLock).map(async ([key, value]) => {\n          // if package in pipfile has a match in the pipfile.lock\n          if (localStorage.getItem(key + value.version.replace(\"==\", \"\"))) {\n            const metadata = JSON.parse(\n              localStorage.getItem(key + value.version.replace(\"==\", \"\"))\n            );\n            const v = {\n              id: metadata.name.toLowerCase().replace(\".\", \"-\"),\n              label: metadata.name,\n              depth: null,\n              metadata: metadata\n            };\n\n            // add root to graph\n            graph.addVertex(v.id, v);\n\n            // add to cantBeRoots list\n\n            metadata.requires_dist?.forEach(adj => {\n              const adjacentName = adj\n                .split(\" \", 1)[0]\n                .toLowerCase()\n                .replace(\".\", \"-\");\n              const adjacentData = pipfileLock[adjacentName];\n\n              // if package exists in lockfile\n              if (adjacentData) {\n                cantBeRoots.push(adjacentName);\n              }\n            });\n          } else {\n            return await thothSearchForPackage(\n              key,\n              value.version.replace(\"==\", \"\")\n            ).then(metadata => {\n              const v = {\n                id: metadata.name.toLowerCase().replace(\".\", \"-\"),\n                label: metadata.name,\n                depth: null,\n                metadata: metadata\n              };\n\n              localStorage.setItem(\n                key + value.version.replace(\"==\", \"\"),\n                JSON.stringify(metadata)\n              );\n\n              // add root to graph\n              graph.addVertex(v.id, v);\n\n              // add to cantBeRoots list\n              metadata.requires_dist?.forEach(adj => {\n                const adjacentName = adj\n                  .split(\" \", 1)[0]\n                  .toLowerCase()\n                  .replace(\".\", \"-\");\n                const adjacentData = pipfileLock[adjacentName];\n\n                // if package exists in lockfile\n                if (adjacentData) {\n                  cantBeRoots.push(adjacentName);\n                }\n              });\n            });\n          }\n        })\n      ).catch(e => {\n        dispatch({\n          type: \"error\",\n          payload:\n            (e?.response?.statusText ?? \"Unknown Error\") +\n            \": an error occured while fetching package data.\"\n        });\n      });\n\n      // add app to graph\n      const app = graph.addVertex(\"*App\", {\n        id: \"*App\",\n        label: \"App\",\n        depth: -1\n      });\n      cantBeRoots.push(\"*App\");\n\n      // get roots\n      const visited = new Map();\n      const visitList = [];\n      graph.nodes.forEach((value, key, map) => {\n        if (!cantBeRoots.includes(key) || Object.keys(pipfile).includes(key)) {\n          const node = map.get(key);\n          node.value.depth = 0;\n          visitList.push(node);\n\n          graph.addEdge(app.key, node.key);\n        }\n      });\n\n      // run dfs to connect nodes\n\n      const promiseWhile = (data, condition, action) => {\n        var whilst = data => {\n          return condition(data)\n            ? action().then(whilst)\n            : Promise.resolve(data);\n        };\n        return whilst(data);\n      };\n\n      await promiseWhile(\n        visitList,\n        i => i.length > 0,\n        () => {\n          const node = visitList.pop();\n          if (node && !visited.has(node)) {\n            visited.set(node);\n\n            // get dependencies\n            if (node?.value?.metadata?.requires_dist) {\n              // for each dependency, parse to get name\n              node.value.metadata.requires_dist.map(async adj => {\n                const adjacentNode = graph.nodes.get(\n                  adj\n                    .split(\" \", 1)[0]\n                    .toLowerCase()\n                    .replace(\".\", \"-\")\n                );\n\n                // if package exists in lockfile\n                if (adjacentNode) {\n                  // update depth\n                  adjacentNode.value.depth = node.value.depth + 1;\n\n                  // add edge connecting parent and dependency\n                  graph.addEdge(node.key, adjacentNode.value.id);\n                  await visitList.push(adjacentNode);\n                }\n              });\n            }\n          }\n          return new Promise((resolve, reject) => {\n            resolve(visitList);\n          });\n        }\n      );\n    })().then(() => {\n      dispatch({\n        type: \"graph\",\n        name: stateName,\n        payload: graph\n      });\n    });\n  }, [pipfile, pipfileLock, dispatch, stateName]);\n}\n","// React\nimport React, { useContext, useState } from \"react\";\n\n// local components\nimport NetworkGraph from \"components/Dashboard/Advise/NetworkGraph.js\";\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\nimport TabPanel from \"components/Shared/TabPanel\";\nimport AdviseTable from \"components/Dashboard/Advise/AdviseTable\";\nimport SearchBar from \"components/Shared/SearchBar\";\n\n// utils\nimport { useMergeGraphs } from \"utils/produceMetrics\";\n\n// material-ui\nimport {\n  Paper,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Typography,\n  Button,\n  ToggleButton,\n  ToggleButtonGroup,\n  Grid,\n  Box,\n  Tab,\n  Tabs\n} from \"@material-ui/core\";\nimport ExpandMoreRoundedIcon from \"@material-ui/icons/ExpandMoreRounded\";\nimport AccountTreeRoundedIcon from \"@material-ui/icons/AccountTreeRounded\";\nimport TableRowsIcon from \"@material-ui/icons/TableRows\";\nimport DescriptionRoundedIcon from \"@material-ui/icons/DescriptionRounded\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst useStyles = makeStyles(theme => ({\n  graph: {\n    padding: theme.spacing(2)\n  },\n  buttonGroup: {\n    marginTop: theme.spacing(2),\n    marginLeft: theme.spacing(2)\n  },\n  lockfile: {\n    overflow: \"scroll\",\n    paddingLeft: theme.spacing(1)\n  }\n}));\n\nconst PackageDependencies = () => {\n  const classes = useStyles();\n  const state = useContext(StateContext);\n\n  const root = state.focus ?? \"*App\";\n  const [selectedPackage, setSelectedPackage] = useState(null);\n  const [expanded, setExpanded] = useState(false);\n  const [search, setSearch] = useState(\"\");\n\n  const [showOldPackages, setShowOldPackages] = useState(false);\n\n  // for tab control\n  const [tab, setTab] = useState(0);\n  const [display, setDisplay] = React.useState(\"graph\");\n\n  const { visGraph, filterdGraph } = useMergeGraphs(\n    state.initGraph,\n    state.adviseGraph,\n    root,\n    showOldPackages\n  );\n\n  const handleJustificationSelect = (package_name, i) => (\n    event,\n    isExpanded\n  ) => {\n    setExpanded(isExpanded ? i : false);\n\n    if (isExpanded) {\n      setSelectedPackage(package_name);\n      const section = document.getElementById(package_name);\n      if (section) {\n        section.scrollIntoView({ block: \"start\", behavior: \"smooth\" });\n      }\n    } else {\n      setSelectedPackage(null);\n    }\n  };\n\n  const handleDisplay = (event, newDisplay) => {\n    if (newDisplay) {\n      setDisplay(newDisplay);\n    }\n  };\n\n  return (\n    <LoadingErrorTemplate isLoading={visGraph === undefined}>\n      <Grid\n        container\n        spacing={2}\n        justifyContent=\"center\"\n        alignItems=\"flex-start\"\n      >\n        <Grid item s={12} md={6} mt={2}>\n          <Paper>\n            <Grid container spacing={1} alignItems=\"center\" ml={1}>\n              <Grid item md={4}>\n                <ToggleButtonGroup\n                  value={display}\n                  exclusive\n                  onChange={handleDisplay}\n                >\n                  <ToggleButton value=\"graph\">\n                    <AccountTreeRoundedIcon />\n                  </ToggleButton>\n                  <ToggleButton value=\"table\">\n                    <TableRowsIcon />\n                  </ToggleButton>\n                  <ToggleButton value=\"file\">\n                    <DescriptionRoundedIcon />\n                  </ToggleButton>\n                </ToggleButtonGroup>\n              </Grid>\n              {display !== \"file\" ? (\n                <>\n                  <Grid item md={4}>\n                    <SearchBar\n                      label=\"Filter packages\"\n                      onChange={event => setSearch(event.target.value)}\n                    />\n                  </Grid>\n                  <Grid item md={4}>\n                    <ToggleButton\n                      size={\"small\"}\n                      value=\"check\"\n                      selected={showOldPackages}\n                      onChange={() => {\n                        setShowOldPackages(!showOldPackages);\n                      }}\n                    >\n                      Include Changes\n                    </ToggleButton>\n                  </Grid>{\" \"}\n                </>\n              ) : null}\n            </Grid>\n\n            <TabPanel value={display} index={\"graph\"}>\n              <NetworkGraph\n                data={visGraph}\n                filterdGraph={filterdGraph}\n                className={classes.graph}\n                root={root}\n                selectedPackage={selectedPackage}\n                search={search}\n              />\n            </TabPanel>\n            <TabPanel value={display} index={\"table\"}>\n              <AdviseTable\n                filterdGraph={filterdGraph}\n                search={selectedPackage ?? search}\n              />\n            </TabPanel>\n            <TabPanel value={display} index={\"file\"}>\n              <Typography variant=\"caption\">\n                <pre>\n                  <div\n                    className={classes.lockfile}\n                    dangerouslySetInnerHTML={{\n                      __html: JSON.stringify(\n                        state?.advise?.report?.products?.[0]?.project\n                          ?.requirements_locked,\n                        undefined,\n                        4\n                      )?.replaceAll(\n                        new RegExp(\n                          '(\"' +\n                            Object.keys(\n                              state?.advise?.report?.products?.[0]?.project\n                                ?.requirements_locked?.default\n                            )?.join('\"|\"') +\n                            '\")',\n                          \"g\"\n                        ),\n                        match => {\n                          return `<a id=\"${match.slice(1, -1)}\">${match}</a>`;\n                        }\n                      )\n                    }}\n                  />\n                </pre>\n              </Typography>\n            </TabPanel>\n          </Paper>\n        </Grid>\n        <Grid item s={12} md={6}>\n          <Tabs\n            value={tab}\n            onChange={(event, newValue) => setTab(newValue)}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n          >\n            <Tab label=\"Advise\" />\n            <Tab label=\"Licenses\" />\n          </Tabs>\n          <Box mt={4}>\n            <TabPanel value={tab} index={0}>\n              {state?.advise?.report?.products?.[0]?.justification.map(\n                (justification, i) => {\n                  if (justification.type !== \"INFO\") {\n                    return (\n                      <Accordion\n                        key={i}\n                        onChange={handleJustificationSelect(\n                          justification.package_name,\n                          i\n                        )}\n                        expanded={expanded === i}\n                      >\n                        <AccordionSummary\n                          expandIcon={<ExpandMoreRoundedIcon />}\n                          aria-controls=\"panel1a-content\"\n                          id=\"panel1a-header\"\n                        >\n                          <Typography>{justification.message}</Typography>\n                        </AccordionSummary>\n                        <AccordionDetails>\n                          <Typography>{justification.advisory}</Typography>\n                          <Button href={justification.link}>READ MORE</Button>\n                        </AccordionDetails>\n                      </Accordion>\n                    );\n                  } else return null;\n                }\n              )}\n            </TabPanel>\n          </Box>\n          <TabPanel value={tab} index={1}>\n            under construnction\n          </TabPanel>\n        </Grid>\n      </Grid>\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default PackageDependencies;\n","// React\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\n// local\nimport MetricLayout from \"components/Dashboard/Summary/MetricLayout\";\nimport PackageHeader from \"components/Dashboard/Summary/PackageHeader\";\nimport AdviseHeader from \"components/Dashboard/AdviseHeader\";\n\nimport TabPanel from \"components/Shared/TabPanel\";\nimport AdvisePage from \"components/Dashboard/Advise/AdvisePage\";\n\n// utils\nimport { useComputeMetrics, useLockFileToGraph } from \"utils/produceMetrics\";\nimport { useInterval } from \"utils/useInterval\";\n\n// api\nimport { thothAdviseResult, thothAdviseStatus } from \"services/thothApi\";\n\n// redux\nimport { StateContext, DispatchContext } from \"App\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Tab, Tabs, Typography } from \"@material-ui/core\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    maxWidth: \"95%\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    paddingRight: theme.spacing(3),\n    paddingLeft: theme.spacing(3),\n    marginTop: theme.spacing(4)\n  }\n}));\n\n// The page that displays all analyis data\nexport const Dashboard = ({ location }) => {\n  const classes = useStyles();\n  const params = useParams();\n  const state = useContext(StateContext);\n  const dispatch = useContext(DispatchContext);\n\n  // for tab control\n  const [value, setValue] = useState(0);\n\n  // delay for each status api call\n  const [pollingTime, setPollingTime] = useState(null);\n\n  const getStatus = () => {\n    thothAdviseStatus(params.analysis_id)\n      .then(response => {\n        // set next polling delay\n        const status = response.data.status;\n\n        dispatch({\n          type: \"advise\",\n          param: \"status\",\n          payload: status\n        });\n\n        // check if advise is done\n        // if done then turn off polling whcih triggers another call for results\n        if (status.finished_at !== null) {\n          setPollingTime(null);\n        } else {\n          setPollingTime(\n            pollingTime !== null ? Math.min(pollingTime * 2, 8000) : null\n          );\n        }\n      })\n      .catch(e => {\n        dispatch({\n          type: \"error\",\n          payload:\n            (e?.response?.statusText ?? \"Unknown Error\") +\n            \": an error occured while fetching Thoth advise status.\"\n        });\n      });\n  };\n\n  // first reset state if using new anyalysis id\n  useEffect(() => {\n    if (!state?.analysis_id || params.analysis_id !== state?.analysis_id) {\n      dispatch({\n        type: \"reset\"\n      });\n      dispatch({\n        type: \"advise\",\n        param: \"analysis_id\",\n        payload: params.analysis_id\n      });\n    }\n  }, [params.analysis_id, state?.analysis_id, dispatch]);\n\n  // fetch results of advise\n  useEffect(() => {\n    // only run if polling is turned off (meaning the result is ready)\n    if (pollingTime !== null) {\n      return;\n    }\n\n    // get results of advise request\n    thothAdviseResult(params.analysis_id)\n      .then(response => {\n        const data = response?.data ?? response;\n\n        // if cant run advise error\n        if (response.status === 400 || response.status === 404) {\n          // set error and stop polling\n          setPollingTime(null);\n          dispatch({\n            type: \"advise\",\n            param: \"error\",\n            payload: data.error\n          });\n        }\n\n        // if not done then start polling\n        else if (response.status === 202) {\n          if (response.data.status.state === \"error\") {\n            dispatch({\n              type: \"advise\",\n              param: \"status\",\n              payload: response.data.status\n            });\n          } else {\n            setPollingTime(500);\n          }\n        }\n\n        // if done then set results and stop polling\n        // note this could also have an error but should of been stopped above\n        else if (response.status === 200) {\n          // stop polling when done\n          setPollingTime(null);\n\n          if (data.result?.error) {\n            dispatch({\n              type: \"advise\",\n              param: \"error\",\n              payload: data.result.error_msg\n            });\n          }\n          dispatch({\n            type: \"advise\",\n            param: \"initProject\",\n            payload: data.result.parameters.project\n          });\n          dispatch({\n            type: \"advise\",\n            param: \"report\",\n            payload: data.result.report\n          });\n          dispatch({\n            type: \"advise\",\n            param: \"metadata\",\n            payload: data.metadata\n          });\n        }\n        // if an unknown response occured\n        else {\n          dispatch({\n            type: \"advise\",\n            param: \"error\",\n            payload: \"Unknown Error: Aborting\"\n          });\n        }\n      })\n      .catch(e => {\n        dispatch({\n          type: \"error\",\n          payload:\n            (e?.response?.statusText ?? \"Unknown Error\") +\n            \": an error occured while fetching Thoth advise results.\"\n        });\n      });\n  }, [params.analysis_id, dispatch, pollingTime]);\n\n  useInterval(() => {\n    getStatus();\n  }, pollingTime);\n\n  // create graphs\n  useLockFileToGraph(\n    state?.advise?.report?.products?.[0]?.project?.requirements?.packages,\n    state?.advise?.report?.products?.[0]?.project?.requirements_locked?.default,\n    \"adviseGraph\"\n  );\n  useLockFileToGraph(\n    state?.advise?.initProject?.requirements?.packages,\n    state?.advise?.initProject?.requirements_locked?.default,\n    \"initGraph\"\n  );\n  useComputeMetrics(\n    state.adviseGraph,\n    state?.advise?.report?.products?.[0]?.project?.requirements?.packages\n  );\n\n  console.log(state);\n\n  // handle tab change\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div className={classes.root}>\n      {state?.focus ? (\n        <PackageHeader />\n      ) : (\n        <AdviseHeader adviseID={params.analysis_id} />\n      )}\n      {state?.roots?.map(r => {\n        if (r.error) {\n          return (\n            <Typography color=\"error\" gutterBottom variant=\"body2\">\n              {r.error}\n            </Typography>\n          );\n        }\n        return null;\n      })}\n      <Typography color=\"error\">{state?.error}</Typography>\n      <Tabs\n        value={value}\n        onChange={handleChange}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n      >\n        <Tab label=\"Overview\" />\n        <Tab label=\"Dependencies\" />\n      </Tabs>\n      <TabPanel value={value} index={0}>\n        <MetricLayout />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <AdvisePage />\n      </TabPanel>\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import { useEffect, useRef } from \"react\";\n\nexport const useInterval = (callback, delay) => {\n  const savedCallback = useRef();\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      const id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n","import { Route, Switch } from \"react-router-dom\";\nimport { ROOT, DASHBOARD } from \"./CONSTANTS\";\nimport NotFound from \"./NotFound\";\nimport Home from \"pages/Home/Home\";\nimport Dashboard from \"pages/Dashboard/Dashboard\";\n\nexport const RouterConfig = () => {\n  return (\n    <Switch>\n      <Route exact path={ROOT} component={Home} />\n      <Route exact path={DASHBOARD + \"/:analysis_id\"} component={Dashboard} />\n\n      <Route path=\"*\" status={404}>\n        <NotFound />\n      </Route>\n    </Switch>\n  );\n};\n\nexport default RouterConfig;\n","export const REPONAME = \"/thoth-search\";\nexport const ROOT = \"/\";\nexport const DASHBOARD = \"/dashboard\";\n","export function reducer(state, action) {\n  switch (action.type) {\n    case \"graph\":\n      return { ...state, [action.name]: action.payload };\n    case \"metric\":\n      return {\n        ...state,\n        metrics: {\n          ...state.metrics,\n          [action.metric]: action.payload\n        }\n      };\n    case \"error\": {\n      return {\n        ...state,\n        error: action.payload\n      };\n    }\n    case \"advise\": {\n      return {\n        ...state,\n        advise: {\n          ...state.advise,\n          [action.param]: action.payload\n        }\n      };\n    }\n    case \"packageWarning\": {\n      return {\n        ...state,\n        packageWarning: action.payload\n      };\n    }\n    case \"reset\": {\n      return initState;\n    }\n    case \"localStorage\": {\n      return action.payload;\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport const initState = {};\n","// local utils and configs\nimport { themeLight } from \"styles/theme\";\n\n// ROUTER\nimport { BrowserRouter } from \"react-router-dom\";\nimport { RouterConfig } from \"navigation/RouterConfig\";\nimport { REPONAME } from \"navigation/CONSTANTS\";\n\n// material ui\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\n// react\nimport React, { useReducer } from \"react\";\n\n// redux\nimport { reducer, initState } from \"redux/reducer\";\n\n// context for reducer\nexport const StateContext = React.createContext();\nexport const DispatchContext = React.createContext();\n\nfunction App() {\n  // for state control\n  const [state, dispatch] = useReducer(reducer, initState);\n  return (\n    <ThemeProvider theme={themeLight}>\n      <CssBaseline />\n      <BrowserRouter basename={REPONAME}>\n        <StateContext.Provider value={state}>\n          <DispatchContext.Provider value={dispatch}>\n            <RouterConfig />\n          </DispatchContext.Provider>\n        </StateContext.Provider>\n      </BrowserRouter>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}