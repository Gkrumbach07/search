(this["webpackJsonpthoth-search"]=this["webpackJsonpthoth-search"]||[]).push([[0],{198:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(56),c=a.n(r),o=a(10),l=a(142),s=Object(l.a)({palette:{background:{default:"#f9f9f9"}}}),d=a(73),u=a(19),v=a(95),j=a(0),b=function(e){var t=e.text;return Object(j.jsxs)(v.a,{variant:"h2",children:["404: ",null!==t&&void 0!==t?t:"page"," not found!"]})},h=a(33),p=a.n(h),f=a(67),m=a(275),O=a(284),x=a(282),g=a(264),y=a(14),k=a(285),w=a(27),E=function(e){var t=e.onChange,a=e.label,n=e.helpertext,i=e.boxprops,r=e.error,c=void 0!==r&&r,o=e.lefticon,l=e.righticon;return Object(j.jsxs)(O.a,{children:[Object(j.jsx)(v.a,{variant:"body1",sx:{color:c?"error.main":"text.secondary"},children:a}),Object(j.jsxs)(k.a,Object(y.a)(Object(y.a)({component:"form",variant:"outlined",sx:{p:"2px 4px",display:"flex",alignItems:"center"}},i),{},{children:[o,Object(j.jsx)(w.c,Object(y.a)({sx:{ml:1,flex:1},placeholder:n,error:c,onChange:function(e){return t(e.target.value)}},e)),l]}))]})},N=a(50),C=a.n(N),S="https://pypi.org/pypi",P="https://api.moc.thoth-station.ninja/api/v1";a(122);function A(){return(e="https://raw.githubusercontent.com/spdx/license-list-data/master/json/licenses.json",fetch(e).then((function(e){return e.text()})).then((function(e){return e}))).then((function(e){return JSON.parse(e)}));var e}var L=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://pypi.org/simple";return C.a.get(P+"/python/package/metadata",{params:{name:e,version:t,index:a},headers:{accept:"application/json"}}).then((function(e){return e.data.metadata})).catch((function(a){var n;if(404===(null===a||void 0===a||null===(n=a.response)||void 0===n?void 0:n.status))return C.a.get(S+"/"+e+(t?"/"+t:"")+"/json").then((function(e){return e.data.info}));throw a}))},_=function(e,t){var a={application_stack:{requirements:e,requirements_format:"pipenv",requirements_lock:t},runtime_environment:{operating_system:{name:"ubi",version:"8"},platform:"linux-x86_64",python_version:"3.6"}};return C.a.post(P+"/advise/python",a,{params:{recommendation_type:"stable"},headers:{accept:"application/json"}})},q=Object(g.a)((function(e){return{root:{display:"flex",flexFlow:"column nowrap",alignItems:"center",marginTop:"10%"},stretchContent:{minWidth:"50%"},searchBar:{display:"flex",justifyContent:"center"},flexColumn:{display:"flex",flexDirection:"column"},multilineTextBoxContainer:{display:"flex",justifyContent:"space-between"},description:{marginBottom:e.spacing(1),maxWidth:"50%",textAlign:"center"},mode:{marginBottom:e.spacing(3)},title:{marginBottom:e.spacing(1)}}})),B=function(){var e=Object(u.f)(),t=q(),a=Object(n.useContext)(ga),i=Object(n.useState)(""),r=Object(o.a)(i,2),c=r[0],l=r[1],s=Object(n.useState)(""),d=Object(o.a)(s,2),b=d[0],h=d[1],g=Object(n.useState)(""),y=Object(o.a)(g,2),k=y[0],w=y[1],N=Object(n.useState)(""),C=Object(o.a)(N,2),S=C[0],P=C[1],A=Object(n.useState)(!1),L=Object(o.a)(A,2),B=L[0],R=L[1],I=function(e,t){switch(t){case"pipfile":l(e.target.value),""!==k&&w("");break;case"lock":h(e.target.value),""!==S&&P("")}},T=function(){var t=Object(f.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==c&&""!==b&&""===k&&""===S){t.next=2;break}return t.abrupt("return");case 2:n=!1,c||(n=!0,w("Please provide a Pipfile")),b||(n=!0,P("Please provide a Pipfile.lock")),n||(R(!0),_(c,b).then((function(t){R(!1),a({type:"advise",param:"analysis_id",payload:t.data.analysis_id}),e.push("/dashboard/"+t.data.analysis_id)})).catch((function(e){R(!1),400===e.response.status&&(e.response.data.error.includes("Pipfile.lock")?P("Failed to parse provided Pipfile.lock"):e.response.data.error.includes("Pipfile")&&w("Failed to parse provided Pipfile"))})));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:t.root,children:[Object(j.jsx)(v.a,{variant:"h4",className:t.title,children:Object(j.jsx)("b",{children:"Thoth Search"})}),Object(j.jsxs)(v.a,{variant:"body1",className:t.description,children:["Thoth Search is a tool that runs analysis on a Python application. It utilizes package metadata and Thoth Adviser to analyse and recommend a software stack. ",Object(j.jsx)("br",{}),Object(j.jsx)("br",{})," Provide a properly formatted Pipfile and Pipfile.lock to run analysis on your Python application."]}),Object(j.jsxs)(m.a,{container:!0,spacing:2,justifyContent:"center",mt:2,children:[Object(j.jsx)(m.a,{item:!0,xs:10,sm:5,children:Object(j.jsx)(E,{label:""!==k?k:"Pipfile contents",onChange:function(e){return I(e,"pipfile")},error:""!==k,multiline:!0,rows:8})}),Object(j.jsx)(m.a,{item:!0,xs:10,sm:5,children:Object(j.jsx)(E,{label:""!==S?S:"Pipfile.lock contents",onChange:function(e){return I(e,"lock")},error:""!==S,multiline:!0,rows:8})})]}),Object(j.jsx)(O.a,{textAlign:"center",mt:2,children:Object(j.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){return T()},loading:B,children:Object(j.jsx)("b",{children:"Analyze"})})})]})},R=a(288),I=a(289),T=a(290),M=Object(g.a)({root:{minWidth:275,height:"100%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),D=function(e){var t=e.cardMeta,a=e.cardBody,n=e.cardAction,i=M();return Object(j.jsxs)(R.a,{className:i.root,children:[Object(j.jsx)(I.a,{action:n,title:t.title,subheader:t.subTitle}),Object(j.jsx)(T.a,{children:a})]})},G=a(46),z=a(291),F=a(292),W=["value","total","label","action"],J=Object(z.a)((function(e){return{root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:e.palette.grey["light"===e.palette.type?200:700]},bar:{borderRadius:5,backgroundColor:"#1a90ff"}}}))(F.a),U=Object(g.a)((function(e){return{root:{display:"grid",gridTemplateColumns:"repeat(6,1fr)",alignItems:"center",gridGap:e.spacing(1)},label:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},value:{textAlign:"end"}}})),V=function(e){var t=e.value,a=e.total,n=e.label,i=e.action,r=(Object(G.a)(e,W),U());return Object(j.jsxs)(m.a,{container:!0,spacing:1,alignItems:"center",children:[Object(j.jsx)(m.a,{item:!0,xs:4,children:Object(j.jsx)(v.a,{variant:"body2",className:r.label,children:n})}),Object(j.jsx)(m.a,{item:!0,xs:1,children:Object(j.jsx)(v.a,{className:r.value,variant:"body2",children:t})}),Object(j.jsx)(m.a,{item:!0,xs:6,children:Object(j.jsx)(J,{variant:"determinate",value:a>0?t/a*100:0})}),Object(j.jsx)(m.a,{item:!0,xs:!0,children:Object(j.jsx)("div",{children:null!==i&&void 0!==i?i:null})})]})},H=a(309),K=a(259),Z=a(293),Q=a(294),X=a(272),Y=a(260),$=Object(g.a)((function(e){return{bar:{marginBottom:e.spacing(1)}}})),ee=function(e){var t,a,n,i,r,c,l=e.metric,s=$(),d=(null!==(t=l.all.direct)&&void 0!==t?t:0)+(null!==(a=l.all.indirect)&&void 0!==a?a:0)+(null!==(n=l.all.roots)&&void 0!==n?n:0);return Object(j.jsxs)("div",{children:[Object(j.jsx)(v.a,{variant:"body2",gutterBottom:!0,children:Object(j.jsx)("b",{children:"All Packages"})}),Object(j.jsx)(K.a,{className:s.bar}),Object(j.jsx)(V,{value:null!==(i=l.all.roots)&&void 0!==i?i:0,total:d,label:"Root",className:s.bar}),Object(j.jsx)(V,{value:null!==(r=l.all.direct)&&void 0!==r?r:0,total:d,label:"Direct",className:s.bar}),Object(j.jsx)(V,{value:null!==(c=l.all.indirect)&&void 0!==c?c:0,total:d,label:"Indirect"}),Object(j.jsx)(v.a,{variant:"body2",gutterBottom:!0,mt:2,children:Object(j.jsx)("b",{children:"Root Packages"})}),Object(j.jsx)(K.a,{className:s.bar}),Object(j.jsx)(Z.a,{component:"nav",children:Object(j.jsx)(H.a,{children:Object.entries(l.roots).map((function(e,t){var a,n,i,r,c=Object(o.a)(e,2),d=c[0],u=(c[1],(null!==(a=l.roots[d].direct)&&void 0!==a?a:0)+(null!==(n=l.roots[d].indirect)&&void 0!==n?n:0));return Object(j.jsx)(Q.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(X.a,{children:Object(j.jsxs)(m.a,{container:!0,alignItems:"center",children:[Object(j.jsx)(m.a,{item:!0,xs:!0,children:Object(j.jsx)(Y.a,{primary:d})}),Object(j.jsx)(m.a,{item:!0,xs:!0,children:Object(j.jsxs)(m.a,{container:!0,direction:"column",children:[Object(j.jsx)(m.a,{item:!0,xs:!0,children:Object(j.jsx)(V,{value:null!==(i=l.roots[d].direct)&&void 0!==i?i:0,total:u,label:"Direct"})}),Object(j.jsx)(m.a,{item:!0,xs:!0,children:Object(j.jsx)(V,{value:null!==(r=l.roots[d].indirect)&&void 0!==r?r:0,total:u,label:"Indirect"})})]})})]})}),Object(j.jsx)(K.a,{variant:"middle",className:s.bar})]})},d)}))})})]})},te=Object(g.a)((function(e){return{bar:{marginBottom:e.spacing(1)}}})),ae=function(e){var t,a,n,i,r=e.metric,c=te(),o=(null!==(t=r.all.direct)&&void 0!==t?t:0)+(null!==(a=r.all.indirect)&&void 0!==a?a:0);return Object(j.jsxs)("div",{children:[Object(j.jsx)(V,{value:null!==(n=r.all.direct)&&void 0!==n?n:0,total:o,label:"Direct",className:c.bar}),Object(j.jsx)(V,{value:null!==(i=r.all.indirect)&&void 0!==i?i:0,total:o,label:"Indirect"})]})},ne=function(e){var t=e.text;return Object(j.jsx)(v.a,{align:"center",color:"error",variant:"body1",children:t})},ie=a(287),re=Object(g.a)((function(e){return{customProgressRoot:{display:"flex",flexDirection:"column",alignItems:"center"}}})),ce=function(e){var t=e.amount,a=e.note,n=re();return Object(j.jsxs)("div",{className:n.customProgressRoot,children:[Object(j.jsx)(ie.a,{variant:t?"determinate":"indeterminate",value:null!==t&&void 0!==t?t:0}),a?Object(j.jsx)(v.a,{align:"center",variant:"body1",children:a}):null]})},oe=function(e){var t=e.isError,a=e.isLoading,n=e.errorText,i=e.loadingPage,r=e.loadingAmount,c=e.loadingText,o=e.children;return Object(j.jsx)(j.Fragment,{children:t?Object(j.jsx)(ne,{text:null!==n&&void 0!==n?n:"A unknown error occured"}):a?null!==i&&void 0!==i?i:Object(j.jsx)(ce,{amount:r,note:c}):o})},le=function(e){var t=e.metric,a=Object(n.useContext)(xa);return Object(j.jsx)(oe,{isLoading:!t,children:(null===a||void 0===a?void 0:a.focus)?Object(j.jsx)(ae,{metric:t}):Object(j.jsx)(ee,{metric:t})})},se=a(276),de=a(286),ue=a(127),ve=a.n(ue),je=a(128),be=a.n(je),he=a(126),pe=a.n(he),fe=a(125),me=a.n(fe),Oe=Object(g.a)((function(e){return{bar:{marginBottom:e.spacing(1)},marginBottom:{marginBottom:e.spacing(2)},chip:{margin:e.spacing(.5)},border:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})),xe=function(e){var t,a=e.name,n=e.value,r=e.totalLicenses,c=Oe(),l=i.a.useState(!1),s=Object(o.a)(l,2),d=s[0],u=s[1];return Object(j.jsxs)(m.a,{container:!0,children:[Object(j.jsx)(m.a,{item:!0,xs:!0,children:null===n._meta.isOsiApproved?Object(j.jsx)(me.a,{}):n._meta.isOsiApproved?Object(j.jsx)(pe.a,{}):null}),Object(j.jsxs)(m.a,{item:!0,xs:11,children:[Object(j.jsx)("div",{className:c.flex,onClick:function(){return u(!d)},children:Object(j.jsx)(V,{value:null!==(t=Object.keys(n).length-1)&&void 0!==t?t:0,total:r,label:a,className:c.bar,action:d?Object(j.jsx)(ve.a,{}):Object(j.jsx)(be.a,{})},a)}),Object(j.jsxs)(Q.a,{in:d,timeout:"auto",unmountOnExit:!0,children:[Object(j.jsx)("div",{className:c.border,children:Object.entries(n).sort((function(e,t){return e[1]-t[1]})).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return"_"===a[0]?null:Object(j.jsx)(se.a,{className:c.chip,color:0===n.depth?"primary":1===n.depth?"secondary":"default",label:a,onClick:null},a)}))}),Object(j.jsx)(K.a,{})]})]})]})},ge=function(e){var t,a,n=e.metric,r=e.deepError,c=Oe(),l=i.a.useState(!1),s=Object(o.a)(l,2),d=s[0],u=s[1],b=Object.entries(null!==(t=null===n||void 0===n?void 0:n.all)&&void 0!==t?t:{}).sort((function(e,t){return Object.keys(t[1]).length-Object.keys(e[1]).length})),h=Object.entries(null!==(a=null===n||void 0===n?void 0:n.all)&&void 0!==a?a:{}).reduce((function(e,t){return e+Object.keys(t[1]).length}),0);return Object(j.jsxs)("div",{className:c.root,children:[Object(j.jsxs)(m.a,{container:!0,children:[Object(j.jsx)(m.a,{item:!0,xs:1,children:Object(j.jsx)(v.a,{variant:"body2",gutterBottom:!0,children:Object(j.jsx)("b",{children:"OSI"})})}),Object(j.jsx)(m.a,{item:!0,xs:!0,children:Object(j.jsx)(v.a,{variant:"body2",gutterBottom:!0,children:Object(j.jsx)("b",{children:"Dependency Licenses"})})})]}),Object(j.jsx)(K.a,{}),Object(j.jsxs)(oe,{state:r?"error":n.all,errorText:"Could not run analysis on dependencies.",children:[Object(j.jsx)(H.a,{children:b.slice(0,10).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(j.jsx)(Q.a,{children:Object(j.jsx)(xe,{name:a,value:n,totalLicenses:h})},a)}))}),Object(j.jsx)(Q.a,{in:d,timeout:"auto",unmountOnExit:!0,children:Object(j.jsx)(H.a,{children:b.slice(10).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(j.jsx)(Q.a,{children:Object(j.jsx)(xe,{name:a,value:n,totalLicenses:h})},a)}))})}),Object(j.jsx)(O.a,{textAlign:"center",children:Object(j.jsx)(de.a,{onClick:function(){return u(!d)},color:"primary",children:d?"Less":"More"})})]})]})},ye=Object(g.a)((function(e){return{bar:{marginBottom:e.spacing(1)},marginBottom:{marginBottom:e.spacing(2)}}})),ke=function(e){var t,a=e.metric,n=ye();return Object(j.jsxs)("div",{className:n.root,children:[Object(j.jsx)(v.a,{variant:"body2",gutterBottom:!0,children:Object(j.jsx)("b",{children:"License"})}),Object(j.jsx)(K.a,{}),Object(j.jsx)(v.a,{className:n.marginBottom,variant:"h6",children:a.root}),Object(j.jsx)(v.a,{variant:"body2",gutterBottom:!0,children:Object(j.jsx)("b",{children:"Dependency Licenses"})}),Object(j.jsx)(K.a,{}),Object.entries(null!==(t=null===a||void 0===a?void 0:a.all)&&void 0!==t?t:{}).map((function(e){var t,i=Object(o.a)(e,2),r=i[0],c=i[1];return Object(j.jsx)(V,{value:null!==(t=Object.keys(c).length)&&void 0!==t?t:0,total:a.total,label:r,className:n.bar},r)}))]})},we=function(e){var t=e.metric,a=Object(n.useContext)(xa);return Object(j.jsx)(oe,{isLoading:!t,children:(null===a||void 0===a?void 0:a.focus)?Object(j.jsx)(ke,{metric:t}):Object(j.jsx)(ge,{metric:t})})},Ee=Object(g.a)((function(e){return{bar:{marginBottom:e.spacing(1)},header:{marginTop:e.spacing(3)},flex:{display:"flex",flexDirection:"column"}}})),Ne=function(e){var t,a,n,i=e.metric,r=Ee(),c=i.added+i.removed+i.version+i.unchanged;return Object(j.jsxs)("div",{children:[Object(j.jsx)(v.a,{variant:"body2",gutterBottom:!0,children:i.build}),Object(j.jsx)(v.a,{variant:"body2",gutterBottom:!0,mt:2,children:Object(j.jsx)("b",{children:"Differences between the old Pipfile.lock and Thoth's new Pipfile.lock"})}),Object(j.jsx)(K.a,{className:r.bar}),Object(j.jsx)(V,{value:null!==(t=i.added)&&void 0!==t?t:0,total:c,label:"Added Packages",className:r.bar}),Object(j.jsx)(V,{value:null!==(a=i.removed)&&void 0!==a?a:0,total:c,label:"Removed Packages",className:r.bar}),Object(j.jsx)(V,{value:null!==(n=i.version)&&void 0!==n?n:0,total:c,label:"Version Changes"}),Object(j.jsx)(v.a,{variant:"body2",className:r.header,gutterBottom:!0,mt:2,children:Object(j.jsx)("b",{children:"Noteworthy Justifications"})}),Object(j.jsx)(K.a,{className:r.bar}),Object.entries(i.justification).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(j.jsxs)(v.a,{variant:"body2",gutterBottom:!0,children:[a,": ",n]},a)}))]})},Ce=function(){var e,t=Object(n.useContext)(xa);return Object(j.jsx)(oe,{isLoading:!(null===(e=t.metrics)||void 0===e?void 0:e.advise),children:(null===t||void 0===t?void 0:t.focus)?null:Object(j.jsx)(Ne,{metric:t.metrics.advise})})},Se=a(277),Pe=a(295),Ae=function(e){var t=e.value,a=e.onChange;return Object(j.jsxs)(Se.a,{value:t,exclusive:!0,size:"small",onChange:a,children:[Object(j.jsx)(Pe.a,{value:"old",children:"Old"}),Object(j.jsx)(Pe.a,{value:"new",children:"New"})]})},Le=function(){var e,t,a,r,c=Object(n.useContext)(xa),l=i.a.useState("new"),s=Object(o.a)(l,2),d=s[0],u=s[1],v=function(e,t){(null===t||void 0===t?void 0:t.length)&&u(t)};return Object(j.jsx)(oe,{isLoading:void 0===(null===c||void 0===c?void 0:c.metrics),children:Object(j.jsxs)(m.a,{container:!0,spacing:3,mb:3,mt:1,children:[Object(j.jsx)(m.a,{item:!0,xs:12,md:6,children:Object(j.jsx)(D,{cardMeta:{title:"Thoth Advise Summary"},cardBody:Object(j.jsx)(Ce,{})})}),Object(j.jsx)(m.a,{item:!0,xs:12,md:6,children:Object(j.jsx)(D,{cardMeta:{title:"Dependencies Summary"},cardBody:Object(j.jsx)(le,{metric:null===c||void 0===c||null===(e=c.metrics)||void 0===e||null===(t=e[d])||void 0===t?void 0:t.dependencies}),cardAction:Object(j.jsx)(Ae,{value:d,onChange:v})})}),Object(j.jsx)(m.a,{item:!0,xs:12,md:6,children:Object(j.jsx)(D,{cardMeta:{title:"Licenses Summary"},cardBody:Object(j.jsx)(we,{metric:null===c||void 0===c||null===(a=c.metrics)||void 0===a||null===(r=a[d])||void 0===r?void 0:r.licenses}),cardAction:Object(j.jsx)(Ae,{value:d,onChange:v})})})]})})},_e=a(129),qe=a.n(_e),Be=a(130),Re=a.n(Be),Ie=["text","icon","link"],Te=Object(g.a)((function(e){return{root:{display:"flex",alignItems:"center"}}})),Me=function(e){var t=e.text,a=e.icon,n=e.link,i=Object(G.a)(e,Ie),r=Te();return Object(j.jsxs)("div",{className:"".concat(r.root," ").concat(i.className),children:[a,Object(j.jsx)(v.a,{href:n||null,variant:"body2",marginLeft:!0,children:t})]})};function De(e){var t=Math.floor((new Date-e)/1e3),a=t/31536e3;if(a>1){var n=Math.floor(a);return n+" year"+(1!==n?"s":"")}if((a=t/2592e3)>1){var i=Math.floor(a);return i+" month"+(1!==i?"s":"")}if((a=t/86400)>1){var r=Math.floor(a);return r+" day"+(1!==r?"s":"")}if((a=t/3600)>1){var c=Math.floor(a);return c+" hour"+(1!==c?"s":"")}if((a=t/60)>1){var o=Math.floor(a);return o+" minute"+(1!==o?"s":"")}var l=Math.floor(t);return l+" second"+(1!==l?"s":"")}var Ge=Object(g.a)((function(e){return{titleRow:{display:"flex",alignItems:"center",marginBottom:e.spacing(1)},marginLeft:{marginLeft:e.spacing(2)},marginRight:{marginRight:e.spacing(2)},linksRow:{display:"flex",marginBottom:e.spacing(3)},warning:{display:"flex"}}})),ze=function(){var e,t,a,i,r,c,o,l,s=Ge(),d=Object(n.useContext)(xa).state,u=null===d||void 0===d||null===(e=d.mergedGraph)||void 0===e||null===(t=e.nodes)||void 0===t?void 0:t.get(null===d||void 0===d?void 0:d.focus);return Object(j.jsxs)(oe,{isLoading:void 0===u,children:[Object(j.jsxs)("div",{className:s.titleRow,children:[Object(j.jsx)(v.a,{variant:"h4",children:Object(j.jsx)("b",{children:null===u||void 0===u?void 0:u.name})}),Object(j.jsxs)(v.a,{className:s.marginLeft,variant:"subtitle1",children:["v",null!==(a=null===u||void 0===u?void 0:u.version)&&void 0!==a?a:"NaN"]})]}),Object(j.jsx)(v.a,{gutterBottom:!0,variant:"body1",children:null!==(i=null===u||void 0===u?void 0:u.summary)&&void 0!==i?i:"NaN"}),Object(j.jsxs)("div",{className:s.linksRow,children:[Object(j.jsx)(Me,{text:null!==(r=null===u||void 0===u?void 0:u.license)&&void 0!==r?r:"NaN",icon:Object(j.jsx)(qe.a,{})}),Object(j.jsx)(Me,{className:s.marginLeft,text:"Latest version published "+De(new Date(null===u||void 0===u||null===(c=u.releases)||void 0===c||null===(o=c[null===u||void 0===u?void 0:u.version])||void 0===o||null===(l=o[0])||void 0===l?void 0:l.upload_time))+" ago.",icon:Object(j.jsx)(Re.a,{})})]})]})},Fe=a(267),We=a(131),Je=a.n(We),Ue=["info"],Ve=Object(g.a)((function(e){return{titleRow:{display:"flex",alignItems:"center",marginBottom:e.spacing(1)},marginLeft:{marginLeft:e.spacing(2)},marginRight:{marginRight:e.spacing(2)},linksRow:{display:"flex",marginBottom:e.spacing(3),alignItems:"center"},alert:{width:"100%",marginTop:e.spacing(1)}}})),He=function(e){var t=e.info,a=Object(G.a)(e,Ue);return Object(j.jsx)(Fe.a,{className:a.className,action:Object(j.jsx)(de.a,{color:"inherit",size:"small",href:t.link,children:"DETAILS"}),severity:t.type.toLowerCase(),children:t.message})},Ke=function(e){var t,a,r=e.adviseID,c=Ve(),l=Object(n.useContext)(xa),s=i.a.useState(!1),d=Object(o.a)(s,2),u=d[0],b=d[1],h=function(){var e,t,a;return(null===l||void 0===l||null===(e=l.advise)||void 0===e?void 0:e.report)?l.advise.report.ERROR?["ERROR","error"]:["COMPLETE","success"]:(null===l||void 0===l||null===(t=l.advise)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.state)?[l.advise.status.state.toUpperCase(),"info"]:["UNKNOWN",void 0]}(),p=Object(o.a)(h,2),f=p[0],m=p[1],O=(null===l||void 0===l||null===(t=l.advise)||void 0===t||null===(a=t.report)||void 0===a?void 0:a.stack_info)?l.advise.report.stack_info.filter((function(e){return"ERROR"===e.type})):null;return Object(j.jsxs)("div",{children:[Object(j.jsx)(v.a,{variant:"h4",children:Object(j.jsx)("b",{children:r})}),Object(j.jsxs)("div",{className:c.linksRow,children:[Object(j.jsx)(se.a,{label:f,color:m}),Object(j.jsx)(Me,{className:c.marginLeft,text:function(){var e,t,a,n,i,r;return(null===l||void 0===l||null===(e=l.advise)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.finished_at)?"Advise finished "+De(new Date(l.advise.status.finished_at))+" ago.":(null===l||void 0===l||null===(a=l.advise)||void 0===a||null===(n=a.status)||void 0===n?void 0:n.started_at)?"Advise started "+De(new Date(l.advise.status.started_at))+" ago.":(null===l||void 0===l||null===(i=l.advise)||void 0===i||null===(r=i.metadata)||void 0===r?void 0:r.datetime)?"Advise finished "+De(new Date(l.advise.metadata.datetime+"Z"))+" ago.":"Time started/finished not available"}(),icon:Object(j.jsx)(Je.a,{})})]}),(null===O||void 0===O?void 0:O.length)>0?Object(j.jsxs)("div",{children:[Object(j.jsx)(He,{info:O[0]}),Object(j.jsx)(Q.a,{in:u,timeout:"auto",unmountOnExit:!0,children:null===O||void 0===O?void 0:O.slice(1).map((function(e){return Object(j.jsx)(He,{info:e,className:c.alert})}))}),Object(j.jsx)(de.a,{color:"inherit",size:"small",onClick:function(){return b(!u)},children:(null===O||void 0===O?void 0:O.length)>1?u?"LESS":"MORE":null})]}):null,"COMPLETE"===f?Object(j.jsxs)(v.a,{variant:"body2",sx:{color:"text.secondary"},children:["Thoth has added and removed packages from the original Pipfile.lock, resulting in a ",Object(j.jsx)("i",{children:"new"})," Pipfile.lock. Switch between the new and old Python environments to see the differences."]}):null]})},Ze=["children","value","index"],Qe=function(e){var t=e.children,a=e.value,n=e.index,i=Object(G.a)(e,Ze);return Object(j.jsx)("div",Object(y.a)(Object(y.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n),className:"".concat(i.className)},i),{},{children:a===n&&t}))},Xe=a(15);function Ye(e,t,a){var n=a.filter((function(t){return e.includes(t.from)})),i={nodes:[],edges:[]};return n.forEach((function(e){var n=$e(e,{nodes:[],edges:[]},a,t);i={nodes:Object(Xe.a)(new Set([].concat(Object(Xe.a)(n.nodes),Object(Xe.a)(i.nodes)))),edges:Object(Xe.a)(new Set([].concat(Object(Xe.a)(n.edges),Object(Xe.a)(i.edges))))}})),i}function $e(e,t,a,n){if(t.edges.includes(e.id))return t;if(t.nodes.push(e.from,e.to),t.edges.push(e.id),e.to===n)return t;var i={nodes:[],edges:[]};return a.filter((function(t){return t.from===e.to})).forEach((function(e){var r=$e(e,t,a,n);i={nodes:Object(Xe.a)(new Set([].concat(Object(Xe.a)(r.nodes),Object(Xe.a)(i.nodes)))),edges:Object(Xe.a)(new Set([].concat(Object(Xe.a)(r.edges),Object(Xe.a)(i.edges))))}})),i}var et={manipulation:{enabled:!1,editNode:function(e,t){e.fixed=!e.fixed.x,t(e)}},interaction:{hover:!0,hoverConnectedEdges:!1,selectConnectedEdges:!1,selectable:!0},edges:{chosen:!1,smooth:!1,color:{color:"#5c6470"},arrowStrikethrough:!1,arrows:{from:{enabled:!0,type:"triangle"}}},nodes:{chosen:!1,color:{background:"#5c6470",border:"#fff",hover:{background:"#f39200",border:"#fff"}},shape:"dot",size:10,borderWidth:2,labelHighlightBold:!1,font:{color:"#393e46",strokeWidth:2,size:15}},physics:{hierarchicalRepulsion:{damping:.1,springLength:200},solver:"hierarchicalRepulsion",minVelocity:.15}},tt=a(94),at=["root","search","filteredGraph","renderPathNodes","lockfile"],nt=Object(g.a)((function(e){return{root:{display:"flex",flexFlow:"column nowrap"},canvas:{flex:"1 1 auto",height:"75vh"}}})),it=function(e){var t=e.root,a=e.search,i=e.filteredGraph,r=e.renderPathNodes,c=e.lockfile,l=Object(G.a)(e,at),s=nt(),d=Object(n.useState)(),u=Object(o.a)(d,2),v=u[0],b=u[1],h=Object(n.useRef)(null),p=Object(n.useContext)(xa),f=Object(n.useCallback)((function(){v.nodes.updateOnly(v.nodes.get().map((function(e){var a,n,i,r,c;e.id!==t&&(e.opacity=1,e.font=Object(y.a)(Object(y.a)({},null===(a=p.mergedGraph.nodes.get(e.id))||void 0===a||null===(n=a.value)||void 0===n?void 0:n.font),{},{size:et.nodes.font.size}),e.color=null!==(i=null===(r=p.mergedGraph.nodes.get(e.id))||void 0===r||null===(c=r.value)||void 0===c?void 0:c.color)&&void 0!==i?i:et.nodes.color);return e}))),v.edges.updateOnly(v.edges.get().map((function(e){return e.color={opacity:1},e})))}),[v,t,p.mergedGraph.nodes]);return Object(n.useEffect)((function(){if(i&&p.mergedGraph){var e=null;r?(e=new Map,i.nodes.forEach((function(t,a){p.mergedGraph.findAllPaths("*App",a).forEach((function(t){t.forEach((function(t){e.set(t.key,t)}))}))}))):e=i.nodes;var t=[];e.forEach((function(e){("both"===c||e.value.lockfile.includes(c))&&t.push(e.value)}));var a={nodes:new tt.a(t),edges:new tt.a(i.visEdges)};b(a)}}),[i,p.mergedGraph,c,r]),Object(n.useEffect)((function(){if(null===v||void 0===v?void 0:v.nodes){var e=h.current&&new tt.b(h.current,v,et),a=v.nodes.get(t);a.color="#4fc1ea",a.font={color:"#4fc1ea",strokeWidth:3,size:20},v.nodes.updateOnly(a);var n=document.getElementById("mynetwork").getElementsByTagName("canvas")[0];e.on("hoverNode",(function(){i("grab")})),e.on("blurNode",(function(){i("default")})),e.on("dragStart",(function(){i("grabbing")})),e.on("dragging",(function(){i("grabbing")})),e.on("dragEnd",(function(){i("grab")})),e.on("dragEnd",(function(t){0===t.nodes.length||e.isCluster(t.nodes[0])||e.editNode(t.nodes[0])})),e.on("dragStart",(function(t){0!==t.nodes.length&&void 0!==e.body.nodes[t.nodes[0]].options.x&&e.body.nodes[t.nodes[0]].options.x&&!e.isCluster(t.nodes[0])&&e.editNode(t.nodes[0])}))}function i(e){n.style.cursor=e}}),[t,v]),Object(n.useEffect)((function(){if(v&&t&&(f(),""!==a)){var e=v.nodes.get({filter:function(e){return e.label.includes(a)}}),n=Ye(e.map((function(e){return e.id})),t,v.edges.map((function(e){return e}))),i=v.edges.get().filter((function(e){return!n.edges.includes(e.id)})).map((function(e){return e.color={opacity:.05},e})),r=v.nodes.get().filter((function(e){return!n.nodes.includes(e.id)})).map((function(e){return e.id!==t&&(e.font={size:0},e.opacity=.05),e}));e=e.map((function(e){return e.id!==t&&(e.color="#f39200"),e})),v.nodes.updateOnly(r.concat(e)),v.edges.updateOnly(i)}}),[a,v,t,f]),Object(j.jsx)("div",{className:"".concat(s.root," ").concat(l.className),children:Object(j.jsx)("div",{ref:h,id:"mynetwork",className:s.canvas})})},rt=a(301),ct=a(302),ot=a(299),lt=a(300),st=a(297),dt=a(268),ut=a(298),vt=a(278),jt=a(262),bt=a(133),ht=a.n(bt),pt=a(132),ft=a.n(pt),mt=a(134),Ot=a.n(mt);function xt(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function gt(e,t){return"desc"===e?function(e,a){return xt(e,a,t)}:function(e,a){return-xt(e,a,t)}}function yt(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}var kt=[{id:"name",numeric:!1,label:"Package"},{id:"depth",numeric:!0,label:"Depth"},{id:"license",numeric:!1,label:"License"},{id:"dependencies",numeric:!0,label:"Direct Dependencies"}];function wt(e){var t=e.order,a=e.orderBy,n=e.onRequestSort;return Object(j.jsx)(st.a,{children:Object(j.jsx)(ut.a,{children:kt.map((function(e){return Object(j.jsx)(ot.a,{align:e.numeric?"right":"left",padding:"normal",sortDirection:a===e.id&&t,children:Object(j.jsxs)(vt.a,{active:a===e.id,direction:a===e.id?t:"asc",onClick:(i=e.id,function(e){n(e,i)}),children:[e.label,a===e.id?Object(j.jsx)(O.a,{component:"span",sx:jt.a,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var i}))})})}function Et(e){var t=e.search,a=e.filteredGraph,r=Object(n.useState)("asc"),c=Object(o.a)(r,2),l=c[0],s=c[1],d=i.a.useState("calories"),u=Object(o.a)(d,2),b=u[0],h=u[1],p=i.a.useState([]),f=Object(o.a)(p,2),m=f[0],x=f[1],g=i.a.useState(0),y=Object(o.a)(g,2),w=y[0],E=y[1],N=i.a.useState(5),C=Object(o.a)(N,2),S=C[0],P=C[1],A=i.a.useState([]),L=Object(o.a)(A,2),_=L[0],q=L[1],B=i.a.useState(null),R=Object(o.a)(B,2),I=R[0],T=R[1];Object(n.useEffect)((function(){if(a){E(0);var e=[];a.nodes.forEach((function(t){var a,n,i,r;-1!==t.value.depth&&e.push({name:t.value.label,warnings:[],depth:t.value.depth,license:null===t||void 0===t||null===(a=t.value)||void 0===a||null===(n=a.metadata)||void 0===n?void 0:n.license,dependencies:t.adjacents.size,change:t.value.change,summary:null===t||void 0===t||null===(i=t.value)||void 0===i||null===(r=i.metadata)||void 0===r?void 0:r.summary})})),q(e)}}),[a]);var M=w>0?Math.max(0,(1+w)*S-_.length):0;return Object(j.jsx)(O.a,{sx:{width:"100%"},children:Object(j.jsxs)(k.a,{sx:{width:"100%",mb:2},children:[Object(j.jsx)(lt.a,{children:Object(j.jsxs)(rt.a,{sx:{minWidth:750},size:"medium",children:[Object(j.jsx)(wt,{numSelected:m.length,order:l,orderBy:b,onRequestSort:function(e,t){s(b===t&&"asc"===l?"desc":"asc"),h(t)},rowCount:_.length}),Object(j.jsxs)(ct.a,{children:[yt(_,gt(l,b)).filter((function(e){return e.name.includes(t)})).slice(w*S,w*S+S).map((function(e,t){var a,n="enhanced-table-checkbox-".concat(t),r="removed"===e.change?"error":"added"===e.change?"success":void 0;return Object(j.jsxs)(i.a.Fragment,{children:[Object(j.jsxs)(ut.a,{hover:!0,onClick:function(){x(e.name),I!==e.name?T(e.name):T(null)},tabIndex:-1,selected:m===e.name,children:[Object(j.jsx)(ot.a,{component:"th",id:n,scope:"row",children:Object(j.jsxs)(O.a,{display:"flex",children:["removed"===e.change?Object(j.jsx)(ft.a,{color:r}):"added"===e.change?Object(j.jsx)(ht.a,{color:r}):Object(j.jsx)(Ot.a,{}),Object(j.jsx)(v.a,{ml:2,children:e.name})]})}),Object(j.jsx)(ot.a,{align:"right",children:e.depth}),Object(j.jsx)(ot.a,{align:"right",children:e.license}),Object(j.jsx)(ot.a,{align:"right",children:e.dependencies})]}),Object(j.jsx)(ut.a,{children:Object(j.jsx)(ot.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(j.jsx)(Q.a,{in:I===e.name,timeout:"auto",unmountOnExit:!0,children:Object(j.jsx)(v.a,{gutterBottom:!0,variant:"body1",children:null!==(a=e.summary)&&void 0!==a?a:"NaN"})})})})]},e.name)})),M>0&&Object(j.jsx)(ut.a,{style:{height:53*M},children:Object(j.jsx)(ot.a,{colSpan:6})})]})]})}),Object(j.jsx)(dt.a,{rowsPerPageOptions:[5,10,25],component:"div",count:_.length,rowsPerPage:S,page:w,onPageChange:function(e,t){E(t)},onRowsPerPageChange:function(e){P(parseInt(e.target.value,10)),E(0)}})]})})}var Nt=a(274),Ct=a(296),St=a(135),Pt=a.n(St),At=a(136),Lt=a.n(At),_t=a(137),qt=a.n(_t),Bt=a(139),Rt=a.n(Bt),It=a(138),Tt=a.n(It),Mt=a(3),Dt=a(265),Gt=a(280),zt=a(266),Ft=a(305),Wt=a(269),Jt=function(e){var t=e.dispatch,a=e.state,n=e.param,r=e.paramType,c=e.paramDisplay,l=e.paramCategory,s=[["equal to","="],["not equal to","!="],["greater than",">"],["greater than or equal to",">="],["less than","<"],["less than or equal to","<="]],d=[["equal to","="],["not equal to","!="],["contains","~"],["does not contain","!~"]],u=function(e){var i;t({param:n,payload:{operator:null===a||void 0===a||null===(i=a[n])||void 0===i?void 0:i.operator,query:e}})},b=function(){var e,i;return Object(j.jsxs)(m.a,{container:!0,item:!0,xs:12,spacing:2,alignItems:"center",children:[Object(j.jsx)(m.a,{item:!0,xs:4,children:Object(j.jsx)(v.a,{variant:"body2",sx:{color:"text.secondary"},children:c})}),Object(j.jsx)(m.a,{item:!0,xs:4,children:Object(j.jsx)(Dt.a,{value:null===a||void 0===a||null===(e=a[n])||void 0===e?void 0:e.operator,onChange:function(e){return function(e){var i;t({param:n,payload:{operator:e,query:null===a||void 0===a||null===(i=a[n])||void 0===i?void 0:i.query}})}(e.target.value)},size:"small",variant:"standard",fullWidth:!0,children:("string"===r?d:s).map((function(e){var t=Object(o.a)(e,2),a=t[0],i=t[1];return Object(j.jsx)(Gt.a,{value:i,children:a},a+n)}))})}),Object(j.jsx)(m.a,{xs:!0,item:!0,children:Object(j.jsx)(zt.a,{size:"small",variant:"standard",value:null===a||void 0===a||null===(i=a[n])||void 0===i?void 0:i.query,fullWidth:!0,onChange:function(e){return u(e.target.value)}})})]})};return Object(j.jsx)(i.a.Fragment,{children:function(){switch(r){case"category":return function(){var e;return Object(j.jsxs)(m.a,{container:!0,item:!0,xs:12,spacing:2,alignItems:"center",children:[Object(j.jsx)(m.a,{item:!0,xs:4,children:Object(j.jsx)(v.a,{variant:"body2",sx:{color:"text.secondary"},children:c})}),Object(j.jsx)(m.a,{item:!0,xs:!0,children:Object(j.jsx)(Dt.a,{value:null===a||void 0===a||null===(e=a[n])||void 0===e?void 0:e.query,displayEmpty:!0,onChange:function(e){u(e.target.value)},size:"small",variant:"standard",fullWidth:!0,children:l.map((function(e,t){return Object(j.jsx)(Gt.a,{value:e,children:e},e+n)}))})})]})}();default:return b()}}()})},Ut=function(e){var t,a=e.applyFilter,i=e.initialFilter;var r=Object(n.useReducer)((function(e,t){return(null===t||void 0===t?void 0:t.param)?Object(y.a)(Object(y.a)({},e),{},Object(Mt.a)({},t.param,t.payload)):i}),i),c=Object(o.a)(r,2),l=c[0],s=c[1];return Object(j.jsxs)(m.a,{container:!0,alignItems:"center",children:[[["id","Package name","string"],["version","Package version","string"],["license","Package license","string"],["depth","Distance from root packages","number"],["depenencies","Package depenencies count","number"],["lockfile","Which Pipfile.lock","category",["new","old","both"]],["change","Package change type","category",["added","removed","version","unchanged"]]].map((function(e){var t=Object(o.a)(e,4),a=t[0],n=t[1],i=t[2],r=t[3];return Object(j.jsx)(Jt,{state:l,dispatch:s,param:a,paramDisplay:n,paramType:i,paramCategory:r},a+i)})),Object(j.jsx)(m.a,{item:!0,xs:12,children:Object(j.jsx)(Ft.a,{control:Object(j.jsx)(Wt.a,{checked:null===l||void 0===l||null===(t=l.between)||void 0===t?void 0:t.query,onChange:function(e){return s({param:"between",payload:{query:e.target.checked}})},name:"checkedA"}),label:"Include packages that are in paths from filtered to root"})}),Object(j.jsxs)(m.a,{container:!0,justifyContent:"flex-end",item:!0,xs:12,mt:2,children:[Object(j.jsx)(m.a,{item:!0,xs:3,children:Object(j.jsx)(de.a,{onClick:function(){s(),a(i)},children:"Clear filter"})}),Object(j.jsx)(m.a,{item:!0,xs:2,children:Object(j.jsx)(de.a,{variant:"contained",onClick:function(){return a(l)},children:"Search"})})]})]})},Vt=function(e){var t,a,i,r,c,l=e.handleSearch,s=e.handleDisplay,d=e.display,u=e.applyFilter,v=e.initialFilter,b=Object(n.useState)(!1),h=Object(o.a)(b,2),p=h[0],f=h[1],O=Object(n.useState)(0),x=Object(o.a)(O,2),g=x[0],y=x[1],k=Object(n.useContext)(xa),w=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),i=a[0],r=a[1];return Object(n.useEffect)((function(){""!==i&&window.URL.revokeObjectURL(i)}),[i]),Object(n.useEffect)((function(){if(e){var t=new Blob([JSON.stringify(e,void 0,4)],{type:"text/plain",endings:"native"});r(window.URL.createObjectURL(t))}}),[e]),i}(null===k||void 0===k||null===(t=k.advise)||void 0===t||null===(a=t.report)||void 0===a||null===(i=a.products)||void 0===i||null===(r=i[0])||void 0===r||null===(c=r.project)||void 0===c?void 0:c.requirements_locked);return Object(j.jsxs)(m.a,{container:!0,spacing:1,alignItems:"stretch",justifyContent:"space-between",children:[Object(j.jsx)(m.a,{item:!0,xs:!0,children:Object(j.jsxs)(Se.a,{value:d,exclusive:!0,onChange:s,children:[Object(j.jsx)(Pe.a,{value:"graph",children:Object(j.jsx)(Pt.a,{})}),Object(j.jsx)(Pe.a,{value:"table",children:Object(j.jsx)(Lt.a,{})}),Object(j.jsx)(Pe.a,{value:"file",children:Object(j.jsx)(qt.a,{})})]})}),"file"!==d?Object(j.jsx)(m.a,{item:!0,xs:7,children:Object(j.jsx)(E,{helpertext:"Filter packages",onChange:l,righticon:Object(j.jsx)(Nt.a,{badgeContent:g,color:"primary",children:Object(j.jsx)(Ct.a,{"aria-label":"filter",onClick:function(){return f(!p)},children:Object(j.jsx)(Tt.a,{})})})})}):Object(j.jsx)(m.a,{item:!0,xs:3,children:Object(j.jsx)(de.a,{sx:{height:"100%"},variant:"outlined",endIcon:Object(j.jsx)(Rt.a,{}),href:w,download:"Pipfile.lock",children:"Download"})}),Object(j.jsx)(m.a,{item:!0,xs:12,children:Object(j.jsx)(Q.a,{in:p,children:Object(j.jsx)(Ut,{initialFilter:v,applyFilter:function(e){var t=0;Object.entries(e).forEach((function(e){var a=Object(o.a)(e,2),n=a[0];a[1].query!==v[n].query&&t++})),y(t),f(!1),u(e)}})})})]})},Ht=Object(g.a)((function(e){return{lockfile:{overflow:"scroll",paddingLeft:e.spacing(1)}}})),Kt=function(e){var t,a,n=e.file,i=Ht();return Object(j.jsx)(v.a,{variant:"caption",children:Object(j.jsx)("pre",{children:Object(j.jsx)("div",{className:i.lockfile,dangerouslySetInnerHTML:{__html:null===(t=JSON.stringify(n,void 0,4))||void 0===t?void 0:t.replaceAll(new RegExp('("'+(null===(a=Object.keys(null===n||void 0===n?void 0:n.default))||void 0===a?void 0:a.join('"|"'))+'")',"g"),(function(e){return'<a id="'.concat(e.slice(1,-1),'">').concat(e,"</a>")}))}})})})},Zt=a(281),Qt=a(306),Xt=a(307),Yt=a(140),$t=a.n(Yt),ea=function(e){var t=e.justifications,a=e.handleJustificationSelect,i=Object(n.useState)(!1),r=Object(o.a)(i,2),c=r[0],l=r[1];return Object(j.jsx)(j.Fragment,{children:t.map((function(e,t){return"INFO"!==e.type?Object(j.jsxs)(Zt.a,{onChange:function(n,i){a(n,i,e.package_name,t),l(!!i&&t)},expanded:c===t,children:[Object(j.jsx)(Qt.a,{expandIcon:Object(j.jsx)($t.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(j.jsx)(v.a,{children:e.message})}),Object(j.jsxs)(Xt.a,{children:[Object(j.jsx)(v.a,{children:e.advisory}),Object(j.jsx)(de.a,{href:e.link,children:"READ MORE"})]})]},t):null}))})},ta=a(141),aa=a(65),na=a(66),ia=function(){function e(t,a){Object(aa.a)(this,e),this.adjacents=new Set,this.key=t,this.value=a}return Object(na.a)(e,[{key:"addAdjacent",value:function(e){this.adjacents.add(e)}},{key:"isAdjacent",value:function(e){return this.adjacents.has(e)}},{key:"getAdjacents",value:function(){return Array.from(this.adjacents)}}]),e}(),ra=function(){function e(){Object(aa.a)(this,e),this.nodes=new Map}return Object(na.a)(e,[{key:"addVertex",value:function(e,t){if(this.nodes.has(e))return this.nodes.get(e);var a=new ia(e,t);return this.nodes.set(e,a),a}},{key:"addEdge",value:function(e,t){var a=this.nodes.get(e),n=this.nodes.get(t);return a.addAdjacent(n),[a,n]}},{key:"areAdjacents",value:function(e,t){var a=this.nodes.get(e),n=this.nodes.get(t);return!(!a||!n)&&a.isAdjacent(n)}},{key:"graphSearch",value:p.a.mark((function e(t){var a,n,i,r,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=c.length>1&&void 0!==c[1]?c[1]:"bfs",n=new Map,(i=[]).push(t);case 4:if(0===i.length){e.next=13;break}if(!(r="dfs"===a?i.pop():i.shift())||n.has(r)){e.next=11;break}return e.next=9,r;case 9:n.set(r),r.getAdjacents().forEach((function(e){return i.push(e)}));case 11:e.next=4;break;case 13:case"end":return e.stop()}}),e)}))},{key:"findPath",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,n=this.nodes.get(e),i=this.nodes.get(t),r=new Map(a);if(!i||!n)return[];if(r.set(n),e===t)return Array.from(r.keys());var c,o=Object(ta.a)(n.getAdjacents());try{for(o.s();!(c=o.n()).done;){var l=c.value;if(!r.has(l)){var s=this.findPath(l.value,t,r);if(s.length)return s}}}catch(d){o.e(d)}finally{o.f()}return[]}},{key:"findAllPaths",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,i=this.nodes.get(e),r=this.nodes.get(t),c=new Map(n);if(!r||!i)return[];if(c.set(i),e===t)return[Array.from(c.keys())];var o=[];return i.getAdjacents().forEach((function(e){c.has(e)||a.findAllPaths(e.value.id,t,c).forEach((function(e){o.push(e)}))})),o}}]),e}(),ca=Object(g.a)((function(e){return{graph:{padding:e.spacing(2)}}})),oa=function(){var e,t,a,i,r,c,l,s,d,u,v,b,h=ca(),p=Object(n.useContext)(xa),f=null!==(e=p.focus)&&void 0!==e?e:"*App",O={lockfile:{query:"new",operator:"="},change:{query:"",operator:"="},id:{operator:"=",query:""},version:{operator:"=",query:""},license:{operator:"=",query:""},depth:{operator:"=",query:""},depenencies:{operator:"=",query:""},between:{query:!0}},x=Object(n.useState)(""),g=Object(o.a)(x,2),w=g[0],E=g[1],N=Object(n.useState)(O),C=Object(o.a)(N,2),S=C[0],P=C[1],A=Object(n.useState)(),L=Object(o.a)(A,2),_=L[0],q=L[1],B=Object(n.useState)("graph"),M=Object(o.a)(B,2),D=M[0],G=M[1];return Object(n.useEffect)((function(){var e;if(S&&(null===p||void 0===p||null===(e=p.mergedGraph)||void 0===e?void 0:e.nodes)){var t=new Map;p.mergedGraph.nodes.forEach((function(e,a){var n=!0;Object.entries(S).forEach((function(t){var i=Object(o.a)(t,2),r=i[0],c=i[1];if(""!==c.query){if("lockfile"===r)return void(n=("both"===c.query||e.value[r].includes(c.query))&&n);if(a===f)return;var l=isNaN(Number(e.value[r]))?e.value[r]:Number(e.value[r]),s=isNaN(Number(c.query))?c.query:Number(c.query);switch(c.operator){case"=":n=s===l&&n;break;case"!=":n=s!==l&&n;break;case">":n=l>s&&n;break;case">=":n=l>=s&&n;break;case"<":n=l<s&&n;break;case"<=":n=l<=s&&n;break;case"~":n=e.value[r].includes(c.query)&&n;break;case"!~":n=!e.value[r].includes(c.query)&&n;break;default:s&&(n=s&&n)}}})),n&&t.set(a,p.mergedGraph.nodes.get(a))}));var a=new ra;a.nodes=t,a.visEdges=p.mergedGraph.visEdges,q(a)}}),[S,p.mergedGraph,f]),Object(j.jsx)(oe,{isLoading:void 0===p.mergedGraph,children:Object(j.jsxs)(m.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"flex-start",mt:2,children:[Object(j.jsx)(m.a,{item:!0,s:12,md:6,children:Object(j.jsxs)(k.a,{className:h.graph,children:[Object(j.jsx)(Vt,{handleSearch:function(e){E(e.target.value)},handleDisplay:function(e,t){t&&G(t)},display:D,initialFilter:O,applyFilter:function(e){P(e)}}),Object(j.jsx)(Qe,{value:D,index:"graph",children:Object(j.jsx)(it,{className:h.graph,root:f,search:w,filteredGraph:_,renderPathNodes:null===S||void 0===S||null===(t=S.between)||void 0===t?void 0:t.query,lockfile:null===S||void 0===S||null===(a=S.lockfile)||void 0===a?void 0:a.query})}),Object(j.jsx)(Qe,{value:D,index:"table",children:Object(j.jsx)(Et,{search:w,filteredGraph:_})}),Object(j.jsx)(Qe,{value:D,index:"file",children:Object(j.jsx)(Kt,{file:null===p||void 0===p||null===(i=p.advise)||void 0===i||null===(r=i.report)||void 0===r||null===(c=r.products)||void 0===c||null===(l=c[0])||void 0===l||null===(s=l.project)||void 0===s?void 0:s.requirements_locked})})]})}),Object(j.jsx)(m.a,{item:!0,s:12,md:6,children:Object(j.jsxs)(R.a,{className:h.root,children:[Object(j.jsx)(I.a,{title:"Thoth Justifications"}),Object(j.jsxs)(T.a,{children:[" ",Object(j.jsx)(ea,{justifications:null===p||void 0===p||null===(d=p.advise)||void 0===d||null===(u=d.report)||void 0===u||null===(v=u.products)||void 0===v||null===(b=v[0])||void 0===b?void 0:b.justification,handleJustificationSelect:function(e,t,a,n){if(t){P(Object(y.a)(Object(y.a)({},S),{},{id:{query:a,operator:"="},between:{query:!0}})),E(a);var i=document.getElementById(a);i&&i.scrollIntoView({block:"start",behavior:"smooth"})}else P(O),E("")}})]})]})})]})})},la=a(22);function sa(e,t){var a=Object(n.useContext)(ga),i=Object(n.useContext)(xa);Object(n.useEffect)((function(){var e,t,n,r,c;if((null===i||void 0===i||null===(e=i.advise)||void 0===e?void 0:e.metadata)&&(null===i||void 0===i?void 0:i.mergedGraph)){var o={added:0,removed:0,version:0,unchanged:0,justification:{},build:null};i.mergedGraph.nodes.forEach((function(e){switch(e.value.change){case"added":o.added++;break;case"removed":o.removed++;break;case"version":o.version++;break;default:o.unchanged++}})),o.build="We have analysed an application stack running on ".concat(i.advise.metadata.os_release.name," ").concat(i.advise.metadata.os_release.version,", running Python (").concat(i.advise.metadata.python.implementation_name,") ").concat(i.advise.metadata.python.major,".").concat(i.advise.metadata.python.minor,".").concat(i.advise.metadata.python.micro,". It was Adviser Job ID ").concat(i.advise.metadata.document_id,", by ").concat(i.advise.metadata.analyzer," v").concat(i.advise.metadata.analyzer_version,". "),null===(t=i.advise)||void 0===t||null===(n=t.report)||void 0===n||null===(r=n.products)||void 0===r||null===(c=r[0])||void 0===c||c.justification.forEach((function(e){"INFO"!==e.type&&(void 0!==(null===o||void 0===o?void 0:o.justification[e.type])?o.justification[e.type]++:o.justification[e.type]=0)})),a({type:"metric",metric:"advise",payload:o})}}),[i.mergedGraph,i.advise,a]);var r=Object(n.useState)(),c=Object(o.a)(r,2),l=c[0],s=c[1];Object(n.useEffect)((function(){A().then((function(e){s(e)})).catch((function(){return s({})}))}),[]),Object(n.useEffect)((function(){if(e&&l){var n={all:{},roots:{}},i={total:void 0,all:{}},r=[];e.nodes.forEach((function(e){0===e.value.depth&&r.push(e.key)}));var c=new Set;r.forEach((function(t){var a=e.graphSearch(e.nodes.get(t));Array.from(a).forEach((function(e){var a,r,o,s,d,u,v,j,b,h,p;if(!c.has(e.value.id)){c.add(e.value.id);var f=0===e.value.depth?"roots":1===e.value.depth?"direct":"indirect";n={all:Object(y.a)(Object(y.a)({},n.all),{},Object(Mt.a)({},f,(null!==(a=n.all[f])&&void 0!==a?a:0)+1)),roots:Object(y.a)(Object(y.a)({},n.roots),{},Object(Mt.a)({},t,Object(y.a)(Object(y.a)({},null!==(r=n.roots[t])&&void 0!==r?r:null),{},Object(Mt.a)({},f,(null!==(o=null===(s=n.roots)||void 0===s||null===(d=s[t])||void 0===d?void 0:d[f])&&void 0!==o?o:0)+1))))};var m=[];if(null===(u=null!==(v=null===e||void 0===e||null===(j=e.value)||void 0===j||null===(b=j.metadata)||void 0===b?void 0:b.classifier)&&void 0!==v?v:null===e||void 0===e||null===(h=e.value)||void 0===h||null===(p=h.metadata)||void 0===p?void 0:p.classifiers)||void 0===u||u.forEach((function(t){var a,n,i=t.split(" :: ");"License"===i[0]&&("OSI Approved"===i[1]?m.push({generalLicense:null!==(a=null===i||void 0===i?void 0:i[2])&&void 0!==a?a:e.value.metadata.license,specificLicense:e.value.metadata.license,isOsiApproved:!0}):m.push({generalLicense:null!==(n=null===i||void 0===i?void 0:i[1])&&void 0!==n?n:e.value.metadata.license,specificLicense:e.value.metadata.license,isOsiApproved:!1}))})),0===m.length){var O=void 0;l.licenses&&(O=l.licenses.find((function(t){var a=e.value.metadata.license.toLowerCase();return t.name.toLowerCase()===a||t.licenseId.toLowerCase()===a}))),O?m.push({generalLicense:O.name,specificLicense:O.licenseId,isOsiApproved:O.isOsiApproved}):m.push({generalLicense:e.value.metadata.license,specificLicense:e.value.metadata.license,isOsiApproved:null})}m.forEach((function(t){var a,n,r;i={total:(null!==(a=i.total)&&void 0!==a?a:0)+1,all:Object(y.a)(Object(y.a)({},i.all),{},Object(Mt.a)({},t.generalLicense,Object(y.a)(Object(y.a)({},null!==(n=i.all[t.generalLicense])&&void 0!==n?n:null),{},(r={},Object(Mt.a)(r,e.value.label,{depth:e.value.depth,specific:t.specificLicense}),Object(Mt.a)(r,"_meta",{isOsiApproved:t.isOsiApproved}),r))))}}))}}))})),a({type:"metric",metric:"dependencies",label:t,payload:n}),a({type:"metric",metric:"licenses",label:t,payload:i})}}),[e,a,l,t])}function da(e,t,a){var i=Object(n.useContext)(ga);Object(n.useEffect)((function(){if(e&&t&&a){var n=new ra;Object(f.a)(p.a.mark((function a(){var r,c,l,s,d;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=[],a.next=3,Promise.all(Object.entries(t).map(function(){var e=Object(f.a)(p.a.mark((function e(a){var i,c,l,s,d,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object(o.a)(a,2),c=i[0],l=i[1],!localStorage.getItem(c+l.version.replace("==",""))){e.next=8;break}d=JSON.parse(localStorage.getItem(c+l.version.replace("==",""))),u={id:d.name.toLowerCase().replace(".","-"),label:d.name,depth:null,metadata:d},n.addVertex(u.id,u),null===(s=d.requires_dist)||void 0===s||s.forEach((function(e){var a=e.split(" ",1)[0].toLowerCase().replace(".","-");t[a]&&r.push(a)})),e.next=11;break;case 8:return e.next=10,L(c,l.version.replace("==","")).then((function(e){var a,i={id:e.name.toLowerCase().replace(".","-"),label:e.name,depth:null,metadata:e};localStorage.setItem(c+l.version.replace("==",""),JSON.stringify(e)),n.addVertex(i.id,i),null===(a=e.requires_dist)||void 0===a||a.forEach((function(e){var a=e.split(" ",1)[0].toLowerCase().replace(".","-");t[a]&&r.push(a)}))}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).catch((function(e){var t,a;i({type:"error",payload:(null!==(t=null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.statusText)&&void 0!==t?t:"Unknown Error")+": an error occured while fetching package data."})}));case 3:return c=n.addVertex("*App",{id:"*App",label:"App",depth:-1}),r.push("*App"),l=new Map,s=[],n.nodes.forEach((function(t,a,i){if(!r.includes(a)||Object.keys(e).includes(a)){var o=i.get(a);o.value.depth=0,s.push(o),n.addEdge(c.key,o.key)}})),d=function(e,t,a){return function e(n){return t(n)?a().then(e):Promise.resolve(n)}(e)},a.next=11,d(s,(function(e){return e.length>0}),(function(){var e,t,a=s.pop();a&&!l.has(a)&&(l.set(a),(null===a||void 0===a||null===(e=a.value)||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.requires_dist)&&a.value.metadata.requires_dist.map(function(){var e=Object(f.a)(p.a.mark((function e(t){var i,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=n.nodes.get(t.split(" ",1)[0].toLowerCase().replace(".","-")))){e.next=6;break}return i.value.depth=Math.min(a.value.depth+1,null!==(r=i.value.depth)&&void 0!==r?r:a.value.depth+2),n.addEdge(a.key,i.value.id),e.next=6,s.push(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));return new Promise((function(e,t){e(s)}))}));case 11:case"end":return a.stop()}}),a)})))().then((function(){i({type:"graph",name:a,payload:n})}))}}),[e,t,i,a])}var ua=a(270),va=a(308),ja=Object(g.a)((function(e){return{root:{flexGrow:1,maxWidth:"95%",marginLeft:"auto",marginRight:"auto",paddingRight:e.spacing(3),paddingLeft:e.spacing(3),marginTop:e.spacing(4)}}})),ba=function(e){e.location;var t,a,i,r,c,l,s,d,b,h,p,f,m,O,x,g,y,k,w,E=ja(),N=Object(u.g)(),S=Object(n.useContext)(xa),A=Object(n.useContext)(ga),L=Object(n.useState)(0),_=Object(o.a)(L,2),q=_[0],B=_[1],R=Object(n.useState)(null),I=Object(o.a)(R,2),T=I[0],M=I[1],D=function(){var e;(e=N.analysis_id,C.a.get(P+"/advise/python/"+e+"/status",{headers:{accept:"application/json"}})).then((function(e){var t=e.data.status;A({type:"advise",param:"status",payload:t}),e.data.error&&S.error!==e.data.error&&A({type:"error",payload:e.data.error}),null!==t.finished_at?M(null):M(null!==T?Math.min(2*T,8e3):null)})).catch((function(e){var t,a;A({type:"error",payload:(null!==(t=null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.statusText)&&void 0!==t?t:"Unknown Error")+": an error occured while fetching Thoth advise status."})}))};Object(n.useEffect)((function(){(null===S||void 0===S?void 0:S.analysis_id)&&N.analysis_id===(null===S||void 0===S?void 0:S.analysis_id)||(A({type:"reset"}),A({type:"advise",param:"analysis_id",payload:N.analysis_id}))}),[N.analysis_id,null===S||void 0===S?void 0:S.analysis_id,A]),Object(n.useEffect)((function(){var e;null===T&&(e=N.analysis_id,C.a.get(P+"/advise/python/"+e,{headers:{accept:"application/json"}})).then((function(e){var t=null===e||void 0===e?void 0:e.data;if(400===e.status||404===e.status)M(null),A({type:"advise",param:"error",payload:t.error});else if(202===e.status)"error"===e.data.status.state?A({type:"advise",param:"status",payload:e.data.status}):M(500);else if(200===e.status){var a;M(null),(null===(a=t.result)||void 0===a?void 0:a.error)&&A({type:"advise",param:"error",payload:t.result.error_msg}),A({type:"advise",param:"initProject",payload:t.result.parameters.project}),A({type:"advise",param:"report",payload:t.result.report}),A({type:"advise",param:"metadata",payload:t.metadata})}else A({type:"advise",param:"error",payload:"Unknown Error: Aborting"})})).catch((function(e){var t,a;A({type:"error",payload:(null!==(t=null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.statusText)&&void 0!==t?t:"Unknown Error")+": an error occured while fetching Thoth advise results."})}))}),[N.analysis_id,A,T]),function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){D()}),T),da(null===S||void 0===S||null===(t=S.advise)||void 0===t||null===(a=t.report)||void 0===a||null===(i=a.products)||void 0===i||null===(r=i[0])||void 0===r||null===(c=r.project)||void 0===c||null===(l=c.requirements)||void 0===l?void 0:l.packages,null===S||void 0===S||null===(s=S.advise)||void 0===s||null===(d=s.report)||void 0===d||null===(b=d.products)||void 0===b||null===(h=b[0])||void 0===h||null===(p=h.project)||void 0===p||null===(f=p.requirements_locked)||void 0===f?void 0:f.default,"adviseGraph"),da(null===S||void 0===S||null===(m=S.advise)||void 0===m||null===(O=m.initProject)||void 0===O||null===(x=O.requirements)||void 0===x?void 0:x.packages,null===S||void 0===S||null===(g=S.advise)||void 0===g||null===(y=g.initProject)||void 0===y||null===(k=y.requirements_locked)||void 0===k?void 0:k.default,"initGraph"),sa(S.adviseGraph,"new"),sa(S.initGraph,"old"),function(e,t,a){var i=Object(n.useContext)(ga),r=Object(la.a)();Object(n.useEffect)((function(){if(e&&t&&a){var n=[],c=new Map,o=new ra;e.nodes.forEach((function(e,n){if(t.nodes.has(n)){var i,l,s,d,u,v,j,b,h,p=t.nodes.get(n);p.value.label=p.value.label+" "+(null!==(i=null===p||void 0===p||null===(l=p.value)||void 0===l||null===(s=l.metadata)||void 0===s?void 0:s.version)&&void 0!==i?i:""),p.value.version=null!==(d=null===p||void 0===p||null===(u=p.value)||void 0===u||null===(v=u.metadata)||void 0===v?void 0:v.version)&&void 0!==d?d:"",p.value.depenencies=p.adjacents.size,p.value.license=null!==(j=null===p||void 0===p||null===(b=p.value)||void 0===b||null===(h=b.metadata)||void 0===h?void 0:h.license)&&void 0!==j?j:"",p.value.lockfile=["new","old"],n===a||e.value.metadata.version===p.value.metadata.version?(o.nodes.set(p.key,p),p.value.change="unchanged"):(o.nodes.set(p.key,p),p.value.change="version",p.value.font={color:r.palette.success.main})}else{var f,m,O,x,g,y,k,w,E;o.nodes.set(e.key,e),e.value.change="removed",e.value.label=e.value.label+" "+(null!==(f=null===e||void 0===e||null===(m=e.value)||void 0===m||null===(O=m.metadata)||void 0===O?void 0:O.version)&&void 0!==f?f:""),e.value.font={color:r.palette.error.main},e.value.color=r.palette.error.main,e.value.version=null!==(x=null===e||void 0===e||null===(g=e.value)||void 0===g||null===(y=g.metadata)||void 0===y?void 0:y.version)&&void 0!==x?x:"",e.value.depenencies=e.adjacents.size,e.value.license=null!==(k=null===e||void 0===e||null===(w=e.value)||void 0===w||null===(E=w.metadata)||void 0===E?void 0:E.license)&&void 0!==k?k:"",e.value.lockfile=["old"],c.set(e.value.id,r.palette.error.main)}})),t.nodes.forEach((function(t,a){var n,i,l,s,d,u,v,j,b;e.nodes.has(a)||(o.nodes.set(t.key,t),t.value.change="added",t.value.label=t.value.label+" "+(null!==(n=null===t||void 0===t||null===(i=t.value)||void 0===i||null===(l=i.metadata)||void 0===l?void 0:l.version)&&void 0!==n?n:""),t.value.font={color:r.palette.success.main},t.value.color=r.palette.success.main,t.value.version=null!==(s=null===t||void 0===t||null===(d=t.value)||void 0===d||null===(u=d.metadata)||void 0===u?void 0:u.version)&&void 0!==s?s:"",t.value.depenencies=t.adjacents.size,t.value.license=null!==(v=null===t||void 0===t||null===(j=t.value)||void 0===j||null===(b=j.metadata)||void 0===b?void 0:b.license)&&void 0!==v?v:"",t.value.lockfile=["new"],c.set(t.value.id,r.palette.success.main))}));var l=t.nodes.get(a),s=e.nodes.get(a),d=new ia(a,JSON.parse(JSON.stringify(l.value)));s.getAdjacents().forEach((function(e){return d.adjacents.add(e)})),l.getAdjacents().forEach((function(e){return d.adjacents.add(e)})),o.nodes.set(a,d),e.nodes.forEach((function(e,t){e.adjacents.forEach((function(t){var a;n.push({to:e.value.id,from:t.value.id,color:null!==(a=c.get(t.value.id))&&void 0!==a?a:void 0})}))})),t.nodes.forEach((function(e,t){e.adjacents.forEach((function(t){var a;n.push({to:e.value.id,from:t.value.id,color:null!==(a=c.get(t.value.id))&&void 0!==a?a:void 0})}))})),o.visEdges=n,i({type:"graph",name:"mergedGraph",payload:o})}}),[e,t,r,a,i])}(S.initGraph,S.adviseGraph,"*App");return Object(j.jsxs)("div",{className:E.root,children:[(null===S||void 0===S?void 0:S.focus)?Object(j.jsx)(ze,{}):Object(j.jsx)(Ke,{adviseID:N.analysis_id}),null===S||void 0===S||null===(w=S.roots)||void 0===w?void 0:w.map((function(e){return e.error?Object(j.jsx)(v.a,{color:"error",gutterBottom:!0,variant:"body2",children:e.error}):null})),Object(j.jsx)(v.a,{color:"error",children:null===S||void 0===S?void 0:S.error}),Object(j.jsxs)(ua.a,{value:q,onChange:function(e,t){B(t)},indicatorColor:"primary",textColor:"primary",children:[Object(j.jsx)(va.a,{label:"Summary"}),Object(j.jsx)(va.a,{label:"Advise Results"})]}),Object(j.jsx)(Qe,{value:q,index:0,children:Object(j.jsx)(Le,{})}),Object(j.jsx)(Qe,{value:q,index:1,children:Object(j.jsx)(oa,{})})]})},ha=function(){return Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{exact:!0,path:"/",component:B}),Object(j.jsx)(u.a,{exact:!0,path:"/dashboard/:analysis_id",component:ba}),Object(j.jsx)(u.a,{path:"*",status:404,children:Object(j.jsx)(b,{})})]})},pa=a(283),fa=a(263);function ma(e,t){switch(t.type){case"graph":return Object(y.a)(Object(y.a)({},e),{},Object(Mt.a)({},t.name,t.payload));case"metric":var a;return t.label?Object(y.a)(Object(y.a)({},e),{},{metrics:Object(y.a)(Object(y.a)({},e.metrics),{},Object(Mt.a)({},t.label,Object(y.a)(Object(y.a)({},null===(a=e.metrics)||void 0===a?void 0:a[t.label]),{},Object(Mt.a)({},t.metric,t.payload))))}):Object(y.a)(Object(y.a)({},e),{},{metrics:Object(y.a)(Object(y.a)({},e.metrics),{},Object(Mt.a)({},t.metric,t.payload))});case"error":return Object(y.a)(Object(y.a)({},e),{},{error:t.payload});case"advise":return Object(y.a)(Object(y.a)({},e),{},{advise:Object(y.a)(Object(y.a)({},e.advise),{},Object(Mt.a)({},t.param,t.payload))});case"packageWarning":return Object(y.a)(Object(y.a)({},e),{},{packageWarning:t.payload});case"reset":return Oa;case"localStorage":return t.payload;case"focus":return Object(y.a)(Object(y.a)({},e),{},{focus:t.payload});default:return e}}var Oa={},xa=i.a.createContext(),ga=i.a.createContext();var ya=function(){var e=Object(n.useReducer)(ma,Oa),t=Object(o.a)(e,2),a=t[0],i=t[1];return Object(j.jsxs)(pa.a,{theme:s,children:[Object(j.jsx)(fa.a,{}),Object(j.jsx)(d.a,{basename:"/thoth-search",children:Object(j.jsx)(xa.Provider,{value:a,children:Object(j.jsx)(ga.Provider,{value:i,children:Object(j.jsx)(ha,{})})})})]})};c.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(ya,{})}),document.getElementById("root"))}},[[198,1,2]]]);
//# sourceMappingURL=main.8b665b2d.chunk.js.map