{"version":3,"sources":["styles/theme.js","navigation/NotFound.js","components/Shared/SearchBar.js","components/Shared/TabPanel.js","services/CONSTANTS.js","services/thothApi.js","utils/validatePackage.js","pages/Home/Home.js","components/InfoCard/InfoCard.js","components/Shared/ProgressBar.js","components/Metrics/DependenciesMetric/MultipleDependenciesMetric.js","components/Metrics/DependenciesMetric/SingleDependenciesMetric.js","components/Shared/ErrorPage.js","components/Shared/LoadingErrorTemplate.js","components/Metrics/DependenciesMetric/index.js","components/Metrics/LicenseMetric/MultipleLicenseMetric.js","components/Metrics/LicenseMetric/SingleLicenseMetric.js","components/Metrics/LicenseMetric/index.js","components/Dashboard/PackageMetrics.js","components/Shared/IconText.js","utils/timeSince.js","components/Dashboard/PackageHeader.js","components/Dashboard/AdviseHeader.js","utils/recurseToRoot.js","config/networkOptions.js","components/Metrics/NetworkGraph.js","utils/Node.js","utils/Graph.js","components/Dashboard/PackageDependencies.js","utils/produceMetrics.js","pages/Dashboard/Dashboard.js","utils/useInterval.js","navigation/RouterConfig.js","navigation/CONSTANTS.js","redux/reducer.js","App.js","index.js"],"names":["themeLight","createTheme","palette","background","default","NotFound","text","Typography","variant","useStyles","makeStyles","theme","root","display","flexDirection","alignItems","flexGrow","SearchBar","props","onChange","label","helperText","boxprops","error","classes","Box","className","TextField","e","target","value","TabPanel","children","index","role","hidden","id","aria-labelledby","PYPI","THOTH","searchForPackage","name","version","axios","get","thothSearchForPackage","params","headers","accept","then","res","data","metadata","catch","response","status","info","thothAdvise","pipfile","pipfileLock","application_stack","requirements","requirements_format","requirements_lock","runtime_environment","operating_system","platform","python_version","post","recommendation_type","thothGetLatestVersion","timeout","versions","length","sorted","sort","a","b","compareVersions","package_version","includes","validatePackage","r","v","thothVersion","flexFlow","marginTop","stretchContent","minWidth","searchBar","justifyContent","flexColumn","multilineTextBoxContainer","description","marginBottom","spacing","maxWidth","textAlign","mode","title","Home","history","useHistory","dispatch","useContext","DispatchContext","useState","searchQuery","setSearchQuery","pipfileQuery","setPipfileQuery","pipfileLockQuery","setPipfileLockQuery","searchError","setSearchError","pipfileError","setPipfileError","pipfileLockError","setPipfileLockError","setMode","expandOptions","setExpandOptions","queryLoading","setQueryLoading","handleChange","box","handleAnalyze","fail","type","param","payload","analysis_id","push","DASHBOARD","ToggleButtonGroup","exclusive","event","newMode","size","ToggleButton","aria-label","disabled","mr","Button","color","onClick","Collapse","in","unmountOnExit","mt","multiline","rows","ml","LoadingButton","loading","bullet","margin","transform","fontSize","pos","InfoCard","cardMeta","cardBody","Card","CardHeader","action","subheader","subTitle","CardContent","CustomLinearProgress","withStyles","height","borderRadius","colorPrimary","backgroundColor","grey","bar","LinearProgress","gridTemplateColumns","gridGap","gridColumnStart","whiteSpace","overflow","textOverflow","end","ProgressBar","total","Tooltip","placement","header","flex","MultipleDependenciesMetric","metric","totalDependencies","all","direct","indirect","roots","gutterBottom","Divider","List","component","Object","entries","map","i","key","t","ListItem","ListItemText","primary","SingleDependenciesMetric","ErrorPage","align","customProgressRoot","CustomProgress","amount","note","CircularProgress","LoadingErrorTemplate","isError","isLoading","errorText","loadingPage","loadingAmount","loadingText","DependenciesMetric","state","StateContext","metrics","licences","focus","dependencies","chip","border","LicenseDisplay","totalLicenses","React","open","setOpen","keys","k","Chip","LicenseMetric","deepError","more","setMore","licenses","reduce","sum","slice","SingleLicenseMetric","MultipleLicenseMetric","MetricLayout","undefined","Grid","container","item","xs","sm","charAt","toUpperCase","IconText","icon","link","href","marginLeft","timeSince","date","seconds","Math","floor","Date","interval","num","titleRow","marginRight","linksRow","warning","PackageHeader","packageWarning","summary","license","releases","upload_time","p","alert","width","CustomAlert","Alert","severity","toLowerCase","message","AdviseHeader","adviseID","expandAlerts","setExpandAlerts","advise","report","ERROR","statusText","statusColor","alerts","stack_info","filter","finished_at","started_at","datetime","calcTime","recurseToRoot","start","edges","starting_edges","edge","from","combined","nodes","forEach","path","recurse","Set","selection","to","options","manipulation","enabled","editNode","nodeData","callback","fixed","x","interaction","hover","hoverConnectedEdges","selectConnectedEdges","selectable","chosen","smooth","arrowStrikethrough","arrows","shape","borderWidth","labelHighlightBold","font","strokeWidth","physics","hierarchicalRepulsion","damping","springLength","solver","minVelocity","canvas","NetworkGraph","searchText","visJsRef","useRef","useEffect","network","current","Network","rootNode","updateOnly","networkCanvas","document","getElementById","getElementsByTagName","changeCursor","newCursorStyle","style","cursor","on","body","query","possible_results","node","selected","unselected_edges","unselected_nodes","concat","handleSearch","ref","Node","this","adjacents","add","has","Array","Graph","Map","vertex","set","source","destination","sourceNode","destinationNode","addAdjacent","isAdjacent","first","visited","visitList","pop","shift","getAdjacents","adj","newPath","nextPath","findPath","paths","findAllPaths","graph","padding","PackageDependencies","visGraph","setVisGraph","useFormatVisGraph","Paper","DataSet","paddingRight","paddingLeft","Dashboard","location","useParams","setValue","pollingTime","setPollingTime","getStatus","min","result","error_msg","parameters","project","delay","savedCallback","setInterval","clearInterval","useInterval","cantBeRoots","Promise","replace","depth","addVertex","requires_dist","adjacentName","split","promiseWhile","condition","whilst","resolve","adjacentNode","addEdge","reject","app","useLockFileToGraph","initProject","packages","requirements_locked","bfs","graphSearch","useComputeMetrics","Tabs","newValue","indicatorColor","textColor","Tab","PackageMetrics","RouterConfig","exact","reducer","initState","createContext","App","useReducer","ThemeProvider","CssBaseline","basename","Provider","ReactDOM","render","StrictMode"],"mappings":"iLAEaA,EAAaC,YAAY,CACpCC,QAAS,CACPC,WAAY,CACVC,QAAS,c,gCCCAC,EAJS,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACzB,OAAO,eAACC,EAAA,EAAD,CAAYC,QAAQ,KAApB,yBAA+BF,QAA/B,IAA+BA,IAAQ,OAAvC,kB,yGCIHG,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,QAAS,OACTC,cAAe,SACfC,WAAY,UACZC,SAAU,OA6BCC,EAzBG,SAAAC,GAChB,IAAQC,EAAyDD,EAAzDC,SAAUC,EAA+CF,EAA/CE,MAAOC,EAAwCH,EAAxCG,WAAYC,EAA4BJ,EAA5BI,SAArC,EAAiEJ,EAAlBK,aAA/C,SACMC,EAAUf,IAEhB,OACE,cAACgB,EAAA,EAAD,yBAAKC,UAAWF,EAAQZ,MAAUU,GAAlC,aACE,cAACK,EAAA,EAAD,aACEnB,QAAQ,WACRY,MAAOA,EACPD,SAAU,SAAAS,GAAC,OAAIT,EAASS,EAAEC,OAAOC,QACjCT,WAAYA,EACZE,MAAOA,GACHL,Q,uCCJGa,EArBE,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,SAAUF,EAA6B,EAA7BA,MAAOG,EAAsB,EAAtBA,MAAUf,EAAY,iBACzD,OACE,6CACEgB,KAAK,WACLC,OAAQL,IAAUG,EAClBG,GAAE,0BAAqBH,GACvBI,kBAAA,qBAA+BJ,GAC/BP,UAAS,UAAKR,EAAMQ,YAChBR,GANN,aAQGY,IAAUG,GAASD,M,iBCbbM,EAAO,wBACPC,EAAQ,6C,iBCmBd,IAAMC,EAAmB,SAACC,EAAMC,GACrC,OAAOC,IAAMC,IACXN,EAAO,IAAMG,GAAQC,EAAU,IAAMA,EAAU,IAAM,UAI5CG,EAAwB,SACnCJ,EACAC,GAEI,IADJT,EACG,uDADK,0BAER,OAAOU,IACJC,IAAIL,EAAQ,2BAA4B,CACvCO,OAAQ,CACNL,KAAMA,EACNC,QAASA,EACTT,MAAOA,GAETc,QAAS,CACPC,OAAQ,sBAGXC,MAAK,SAAAC,GACJ,OAAOA,EAAIC,KAAKC,YAEjBC,OAAM,SAAAzB,GAAM,IAAD,EACV,GAA4B,OAAvB,OAADA,QAAC,IAADA,GAAA,UAAAA,EAAG0B,gBAAH,eAAaC,QACf,OAAOZ,IACJC,IAAIN,EAAO,IAAMG,GAAQC,EAAU,IAAMA,EAAU,IAAM,SACzDO,MAAK,SAAAC,GACJ,OAAOA,EAAIC,KAAKK,YAOfC,EAAc,SAACC,EAASC,GACnC,IAAMR,EAAO,CACXS,kBAAmB,CACjBC,aAAcH,EACdI,oBAAqB,SACrBC,kBAAmBJ,GAErBK,oBAAqB,CACnBC,iBAAkB,CAChBxB,KAAM,MACNC,QAAS,KAEXwB,SAAU,eACVC,eAAgB,QAIpB,OAAOxB,IAAMyB,KAAK7B,EAAQ,iBAAkBY,EAAM,CAChDL,OAAQ,CACNuB,oBAAqB,UAEvBtB,QAAS,CACPC,OAAQ,uBAuCDsB,EAAwB,SAAC7B,EAAMC,GAC1C,OAAOC,IACJC,IAAIL,EAAQ,2BAA4B,CACvCO,OAAQ,CACNL,KAAMA,GAER8B,QAAS,IACTxB,QAAS,CACPC,OAAQ,sBAGXC,MAAK,SAAAC,GACJ,GAAiC,IAA7BA,EAAIC,KAAKqB,SAASC,OACpB,OAAO,KAEP,IAAMC,EAASxB,EAAIC,KAAKqB,SAASG,MAAK,SAASC,EAAGC,GAChD,OAAOC,IAAgBF,EAAEG,gBAAiBF,EAAEE,oBAI9C,OAAIrC,GAAWgC,EAAOM,SAAStC,GACtBA,EAGFgC,EAAOA,EAAOD,OAAS,GAAGM,mBAGpC1B,OAAM,WACL,OAAO,SCvIN,SAAe4B,EAAtB,oC,4CAAO,WAA+BxC,EAAMC,GAArC,SAAAkC,EAAA,sEAEQpC,EAAiBC,EAAMC,GACjCO,KADU,uCACL,WAAMiC,GAAN,SAAAN,EAAA,sEAESN,EAAsB7B,EAAMC,GACtCO,MAAK,SAAAkC,GAEJ,OAAU,OAANA,EACK,CACL/B,SAAU8B,EAAE/B,KACZ5B,MACE,qCAAuC2D,EAAE/B,KAAKK,KAAKf,KAAO,MAIvDqC,IAAgBI,EAAE/B,KAAKK,KAAKd,QAASyC,GAAK,EAC1C,CACL/B,SAAU8B,EAAE/B,KACZiC,aAAcD,EACd5D,MACE,6BACA2D,EAAE/B,KAAKK,KAAKf,KACZ,mBACA0C,EACA,uCACAD,EAAE/B,KAAKK,KAAKf,KACZ,QACAyC,EAAE/B,KAAKK,KAAKd,QACZ,KAKG,CACLU,SAAU8B,EAAE/B,SAIjBE,OAAM,WAEL,OAAO,QAtCP,mFADK,uDA0CVA,OAAM,WAEL,OAAO,QA9CN,oF,sBCcP,IAAM5C,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,QAAS,OACTwE,SAAU,gBACVtE,WAAY,SACZuE,UAAW,OAEbC,eAAgB,CACdC,SAAU,OAEZC,UAAW,CACT5E,QAAS,OACT6E,eAAgB,UAElBC,WAAY,CACV9E,QAAS,OACTC,cAAe,UAEjB8E,0BAA2B,CACzB/E,QAAS,OACT6E,eAAgB,iBAElBG,YAAa,CACXC,aAAcnF,EAAMoF,QAAQ,GAC5BC,SAAU,MACVC,UAAW,UAEbC,KAAM,CACJJ,aAAcnF,EAAMoF,QAAQ,IAE9BI,MAAO,CACLL,aAAcnF,EAAMoF,QAAQ,QA0OjBK,EAtOF,WACX,IAAMC,EAAUC,cACV9E,EAAUf,IACV8F,EAAWC,qBAAWC,IAG5B,EAAsCC,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAwCF,mBAAS,IAAjD,mBAAOG,EAAP,KAAqBC,EAArB,KACA,EAAgDJ,mBAAS,IAAzD,mBAAOK,EAAP,KAAyBC,EAAzB,KAGA,EAAsCN,mBAAS,IAA/C,mBAAOO,EAAP,KAAoBC,EAApB,KACA,EAAwCR,mBAAS,IAAjD,mBAAOS,EAAP,KAAqBC,EAArB,KACA,EAAgDV,mBAAS,IAAzD,mBAAOW,EAAP,KAAyBC,EAAzB,KAGA,EAAwBZ,mBAAS,YAAjC,mBAAOR,EAAP,KAAaqB,EAAb,KACA,EAA0Cb,oBAAS,GAAnD,mBAAOc,EAAP,KAAsBC,EAAtB,KAEA,EAAwCf,oBAAS,GAAjD,oBAAOgB,GAAP,MAAqBC,GAArB,MAGMC,GAAe,SAAChG,EAAGiG,GACvB,OAAQA,GACN,IAAK,SACHjB,EAAehF,EAAEC,OAAOC,OACJ,KAAhBmF,GACFC,EAAe,IAEjB,MACF,IAAK,UACHJ,EAAgBlF,EAAEC,OAAOC,OACJ,KAAjBqF,GACFC,EAAgB,IAElB,MACF,IAAK,OACHJ,EAAoBpF,EAAEC,OAAOC,OACJ,KAArBuF,GACFC,EAAoB,MAetBQ,GAAa,uCAAG,4BAAAlD,EAAA,yDASP,WAATsB,EATgB,mBAWE,KAAhBS,EAXc,iDAclB1B,EAAgB0B,GACb1D,MAAK,eAGLI,OAAM,WACL6D,EAAe,6BAnBD,0BA0BC,KAAjBL,GACqB,KAArBE,GACiB,KAAjBI,GACqB,KAArBE,EA7BgB,iDAkCdU,GAAO,EACNlB,IACHkB,GAAO,EACPX,EAAgB,6BAEbL,IACHgB,GAAO,EACPT,EAAoB,kCAIjBS,IACHJ,IAAgB,GAChBlE,EAAYoD,EAAcE,GACvB9D,MAAK,SAAAK,GACJqE,IAAgB,GAChBpB,EAAS,CACPyB,KAAM,SACNC,MAAO,cACPC,QAAS5E,EAASH,KAAKgF,cAEzB9B,EAAQ+B,KAAKC,cAAkB/E,EAASH,KAAKgF,gBAE9C9E,OAAM,SAAA9B,GACLoG,IAAgB,GACc,MAA1BpG,EAAM+B,SAASC,SACbhC,EAAM+B,SAASH,KAAK5B,MAAMyD,SAAS,gBACrCsC,EAAoB,yCACX/F,EAAM+B,SAASH,KAAK5B,MAAMyD,SAAS,YAC5CoC,EAAgB,yCA/DR,4CAAH,qDAuEnB,OACE,sBAAK1F,UAAWF,EAAQZ,KAAxB,UACE,cAACL,EAAA,EAAD,CAAYC,QAAQ,KAAKkB,UAAWF,EAAQ2E,MAA5C,SACE,+CAEF,eAAC5F,EAAA,EAAD,CAAYC,QAAQ,QAAQkB,UAAWF,EAAQqE,YAA/C,0KAGkB,uBAChB,uBAJF,6KAQA,eAACyC,EAAA,EAAD,CACExG,MAAOoE,EACPqC,WAAS,EACTpH,SA9Fa,SAACqH,EAAOC,GACrBA,GACFlB,EAAQkB,IA6FNC,KAAM,QACNhH,UAAWF,EAAQ0E,KALrB,UAOE,cAACyC,EAAA,EAAD,CAAc7G,MAAM,SAAS8G,aAAW,eAAeC,UAAQ,EAA/D,SACE,iDAEF,cAACF,EAAA,EAAD,CAAc7G,MAAM,WAAW8G,aAAW,WAA1C,SACE,uDAGJ,eAAC,EAAD,CACE9G,MAAOoE,EACPjE,MAAO,SACPP,UAAS,UAAKF,EAAQmE,WAAb,YAA2BnE,EAAQ+D,gBAH9C,UAKE,eAAC9D,EAAA,EAAD,CAAKC,UAAWF,EAAQiE,UAAxB,UACE,cAAC,EAAD,CACErE,MAAM,8BACND,SAAU,SAAAS,GAAC,OAAIgG,GAAahG,EAAG,WAC/BP,WAAY4F,EACZ1F,MAAuB,KAAhB0F,EACPe,KAAK,SACL1G,SAAU,CAAEwH,GAAI,KAGlB,cAACC,EAAA,EAAD,CACEvI,QAAQ,YACRwI,MAAM,UACNC,QAAS,kBAAMnB,MAHjB,SAKE,6CAIJ,cAACoB,EAAA,EAAD,CAAUC,GAAI3B,EAAejD,QAAQ,OAAO6E,eAAa,EAAzD,SACE,cAAC3H,EAAA,EAAD,CAAK4H,GAAI,MAEX,cAAC5H,EAAA,EAAD,CAAKwE,UAAU,SAASoD,GAAI,EAA5B,SACE,cAACN,EAAA,EAAD,CACEE,QAAS,kBAAMxB,GAAkBD,IACjCwB,MAAM,UAFR,SAIGxB,EAAgB,eAAiB,sBAKxC,eAAC,EAAD,CACE1F,MAAOoE,EACPjE,MAAO,WACPP,UAAS,UAAKF,EAAQmE,WAAb,YAA2BnE,EAAQ+D,gBAH9C,UAKE,eAAC9D,EAAA,EAAD,CAAKC,UAAWF,EAAQoE,0BAAxB,UACE,cAAC,EAAD,CACExE,MAAM,mBACND,SAAU,SAAAS,GAAC,OAAIgG,GAAahG,EAAG,YAC/BP,WAAY8F,EACZ5F,MAAwB,KAAjB4F,EACPmC,WAAS,EACTC,KAAM,EACNjI,SAAU,CAAEwH,GAAI,KAElB,cAAC,EAAD,CACE1H,MAAM,wBACND,SAAU,SAAAS,GAAC,OAAIgG,GAAahG,EAAG,SAC/BP,WAAYgG,EACZ9F,MAA4B,KAArB8F,EACPiC,WAAS,EACTC,KAAM,EACNjI,SAAU,CAAEkI,GAAI,QAIpB,cAAC/H,EAAA,EAAD,CAAKwE,UAAU,SAASoD,GAAI,EAA5B,SACE,cAACI,EAAA,EAAD,CACEjJ,QAAQ,YACRwI,MAAM,UACNC,QAAS,kBAAMnB,MACf4B,QAAShC,GAJX,SAME,mD,2BClRNjH,EAAYC,YAAW,CAC3BE,KAAM,CACJ4E,SAAU,KAEZmE,OAAQ,CACN9I,QAAS,eACT+I,OAAQ,QACRC,UAAW,cAEb1D,MAAO,CACL2D,SAAU,IAEZC,IAAK,CACHjE,aAAc,MA4BHkE,EAxBE,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SACtB1I,EAAUf,IAEhB,OACE,eAAC0J,EAAA,EAAD,CAAMzI,UAAWF,EAAQZ,KAAzB,UACE,cAACwJ,EAAA,EAAD,CACEC,OAAQJ,EAASI,OACjBlE,MAAO8D,EAAS9D,MAChBmE,UAAWL,EAASM,WAEtB,cAACC,EAAA,EAAD,UAAcN,Q,iEC3BdO,GAAuBC,aAAW,SAAA/J,GAAK,MAAK,CAChDC,KAAM,CACJ+J,OAAQ,GACRC,aAAc,GAEhBC,aAAc,CACZC,gBACEnK,EAAMT,QAAQ6K,KAA4B,UAAvBpK,EAAMT,QAAQ8H,KAAmB,IAAM,MAE9DgD,IAAK,CACHJ,aAAc,EACdE,gBAAiB,cAXQJ,CAazBO,KAEExK,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,QAAS,OACTqK,oBAAqB,gBACrBnK,WAAY,SACZoK,QAASxK,EAAMoF,QAAQ,IAEzB3E,MAAO,CACLgK,gBAAiB,EACjBC,WAAY,SACZC,SAAU,SACVC,aAAc,YAEhBzJ,MAAO,CACLsJ,gBAAiB,EACjBnF,UAAW,OAEb+E,IAAK,CACHI,gBAAiB,UAEnBI,IAAK,CACHJ,gBAAiB,OAkCNK,GA9BK,SAAC,GAA+C,IAA7C3J,EAA4C,EAA5CA,MAAO4J,EAAqC,EAArCA,MAAOtK,EAA8B,EAA9BA,MAAOiJ,EAAuB,EAAvBA,OAAWnJ,EAAY,kBAC3DM,EAAUf,KAChB,OACE,sBAAKiB,UAAS,UAAKF,EAAQZ,KAAb,YAAqBM,EAAMQ,WAAzC,UACE,cAACiK,EAAA,EAAD,CAASxF,MAAO/E,EAAOwK,UAAU,OAAjC,SACE,cAACrL,EAAA,EAAD,CAAYC,QAAQ,QAAQkB,UAAWF,EAAQJ,MAA/C,SACGA,MAIL,cAACb,EAAA,EAAD,CAAYmB,UAAWF,EAAQM,MAAOtB,QAAQ,QAA9C,SACGsB,IAGH,cAAC2I,GAAD,CACEjK,QAAQ,cACRsB,MAAO4J,EAAQ,EAAK5J,EAAQ4J,EAAS,IAAM,EAC3ChK,UAAWF,EAAQwJ,MAErB,qBAAKtJ,UAAWF,EAAQgK,IAAxB,gBAA8BnB,QAA9B,IAA8BA,IAAU,W,wCCjDxC5J,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCqK,IAAK,CACHlF,aAAcnF,EAAMoF,QAAQ,IAE9B8F,OAAQ,CACNvG,UAAW3E,EAAMoF,QAAQ,IAE3B+F,KAAM,CACJjL,QAAS,OACTC,cAAe,cA+EJiL,GA3EoB,SAAC,GAAgB,IAAD,YAAbC,EAAa,EAAbA,OAC9BxK,EAAUf,KACVwL,GACJ,UAACD,EAAOE,IAAIC,cAAZ,QAAsB,IAAtB,UACCH,EAAOE,IAAIE,gBADZ,QACwB,IADxB,UAECJ,EAAOE,IAAIG,aAFZ,QAEqB,GAEvB,OACE,gCACE,cAAC9L,EAAA,EAAD,CAAYC,QAAQ,QAAQ8L,cAAY,EAAxC,SACE,+CAEF,cAACC,GAAA,EAAD,CAAS7K,UAAWF,EAAQwJ,MAC5B,cAAC,GAAD,CACElJ,MAAK,UAAEkK,EAAOE,IAAIG,aAAb,QAAsB,EAC3BX,MAAOO,EACP7K,MAAO,OACPM,UAAWF,EAAQwJ,MAErB,cAAC,GAAD,CACElJ,MAAK,UAAEkK,EAAOE,IAAIC,cAAb,QAAuB,EAC5BT,MAAOO,EACP7K,MAAO,SACPM,UAAWF,EAAQwJ,MAErB,cAAC,GAAD,CACElJ,MAAK,UAAEkK,EAAOE,IAAIE,gBAAb,QAAyB,EAC9BV,MAAOO,EACP7K,MAAO,aAET,cAACb,EAAA,EAAD,CAAYC,QAAQ,QAAQkB,UAAWF,EAAQqK,OAAQS,cAAY,EAAnE,SACE,gDAEF,cAACC,GAAA,EAAD,CAAS7K,UAAWF,EAAQwJ,MAC5B,cAACwB,GAAA,EAAD,CAAMC,UAAU,MAAhB,SACGC,OAAOC,QAAQX,EAAOK,OAAOO,KAAI,WAAeC,GAAO,IAAD,2BAAnBC,EAAmB,KAC/CC,GAD+C,MAEnD,UAACf,EAAOK,MAAMS,GAAKX,cAAnB,QAA6B,IAA7B,UAAmCH,EAAOK,MAAMS,GAAKV,gBAArD,QAAiE,IACnE,OACE,gCACE,eAACY,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAcC,QAASJ,IACvB,sBAAKpL,UAAWF,EAAQsK,KAAxB,UACE,cAAC,GAAD,CACEhK,MAAK,UAAEkK,EAAOK,MAAMS,GAAKX,cAApB,QAA8B,EACnCT,MAAOqB,EACP3L,MAAO,SACPM,UAAWF,EAAQwJ,MAErB,cAAC,GAAD,CACElJ,MAAK,UAAEkK,EAAOK,MAAMS,GAAKV,gBAApB,QAAgC,EACrCV,MAAOqB,EACP3L,MAAO,mBAIb,cAACmL,GAAA,EAAD,CAAS/L,QAAS,SAAUkB,UAAWF,EAAQwJ,QAjBvC8B,YC5DhBrM,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCqK,IAAK,CACHlF,aAAcnF,EAAMoF,QAAQ,QAoCjBoH,GAhCkB,SAAC,GAAgB,IAAD,QAAbnB,EAAa,EAAbA,OAC5BxK,EAAUf,KACVwL,GACJ,UAACD,EAAOE,IAAIC,cAAZ,QAAsB,IAAtB,UAA4BH,EAAOE,IAAIE,gBAAvC,QAAmD,GAErD,OACE,gCACE,cAAC,GAAD,CACEtK,MAAK,UAAEkK,EAAOE,IAAIC,cAAb,QAAuB,EAC5BT,MAAOO,EACP7K,MAAO,SACPM,UAAWF,EAAQwJ,MAGrB,cAAC,GAAD,CACElJ,MAAK,UAAEkK,EAAOE,IAAIE,gBAAb,QAAyB,EAC9BV,MAAOO,EACP7K,MAAO,iB,UClBAgM,GAZG,SAAC,GAAc,IAAZ9M,EAAW,EAAXA,KACnB,OACE,cAACC,EAAA,EAAD,CAAY8M,MAAM,SAASrE,MAAM,QAAQxI,QAAQ,QAAjD,SACGF,KCMDG,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC2M,mBAAoB,CAClBzM,QAAS,OACTC,cAAe,SACfC,WAAY,cAIVwM,GAAiB,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,KAC1BjM,EAAUf,KAChB,OACE,sBAAKiB,UAAWF,EAAQ8L,mBAAxB,UACE,cAACI,GAAA,EAAD,CACElN,QAASgN,EAAS,cAAgB,gBAClC1L,MAAK,OAAE0L,QAAF,IAAEA,IAAU,IAElBC,EACC,cAAClN,EAAA,EAAD,CAAY8M,MAAM,SAAS7M,QAAQ,QAAnC,SACGiN,IAED,SAmCKE,GA9Bc,SAAC,GAQvB,IAPLC,EAOI,EAPJA,QACAC,EAMI,EANJA,UACAC,EAKI,EALJA,UACAC,EAII,EAJJA,YACAC,EAGI,EAHJA,cACAC,EAEI,EAFJA,YACAjM,EACI,EADJA,SAgBA,OAAO,mCAbD4L,EACK,cAAC,GAAD,CAAWtN,KAAI,OAAEwN,QAAF,IAAEA,IAAa,4BAC5BD,EACT,OACEE,QADF,IACEA,IACE,cAAC,GAAD,CAAgBP,OAAQQ,EAAeP,KAAMQ,IAI1CjM,KC7BEkM,GAdY,WAAO,IAAD,EACzBC,EAAQ3H,qBAAW4H,IAEzB,OACE,cAAC,GAAD,CAAsBP,UAAS,UAAEM,EAAME,eAAR,aAAE,EAAeC,SAAhD,UACQ,OAALH,QAAK,IAALA,OAAA,EAAAA,EAAOI,OACN,cAAC,GAAD,CAA0BvC,OAAQmC,EAAME,QAAQG,eAEhD,cAAC,GAAD,CAA4BxC,OAAQmC,EAAME,QAAQG,kB,oDCApD/N,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCqK,IAAK,CACHlF,aAAcnF,EAAMoF,QAAQ,IAE9BD,aAAc,CACZA,aAAcnF,EAAMoF,QAAQ,IAE9B0I,KAAM,CACJ7E,OAAQjJ,EAAMoF,QAAQ,KAExB2I,OAAQ,CACNpJ,UAAW3E,EAAMoF,QAAQ,GACzBD,aAAcnF,EAAMoF,QAAQ,QAI1B4I,GAAiB,SAAC,GAAoC,IAAD,EAAjClM,EAAiC,EAAjCA,KAAMX,EAA2B,EAA3BA,MAAO8M,EAAoB,EAApBA,cAC/BpN,EAAUf,KAChB,EAAwBoO,IAAMnI,UAAS,GAAvC,mBAAOoI,EAAP,KAAaC,EAAb,KAEA,OACE,gCACE,qBAAKrN,UAAWF,EAAQsK,KAAM7C,QAAS,kBAAM8F,GAASD,IAAtD,SACE,cAAC,GAAD,CAEEhN,MAAK,UAAE4K,OAAOsC,KAAKlN,GAAO2C,cAArB,QAA+B,EACpCiH,MAAOkD,EACPxN,MAAOqB,EACPf,UAAWF,EAAQwJ,IACnBX,OAAQyE,EAAO,cAAC,KAAD,IAAiB,cAAC,KAAD,KAL3BrM,KAST,eAACyG,EAAA,EAAD,CAAUC,GAAI2F,EAAMvK,QAAQ,OAAO6E,eAAa,EAAhD,UACE,qBAAK1H,UAAWF,EAAQkN,OAAxB,SACGhC,OAAOC,QAAQ7K,GACb6C,MAAK,SAACC,EAAGC,GACR,OAAOD,EAAE,GAAKC,EAAE,MAEjB+H,KAAI,YAAa,IAAD,mBAAVqC,EAAU,KAAP9J,EAAO,KACf,OACE,cAAC+J,GAAA,EAAD,CAEExN,UAAWF,EAAQiN,KACnBzF,MACQ,IAAN7D,EAAU,UAAkB,IAANA,EAAU,YAAc,UAEhD/D,MAAO6N,EACPhG,QAAS,MANJgG,QAWf,cAAC1C,GAAA,EAAD,WAqEO4C,GA/DO,SAAC,GAA2B,IAAD,IAAxBnD,EAAwB,EAAxBA,OAAQoD,EAAgB,EAAhBA,UACzB5N,EAAUf,KAEhB,EAAwBoO,IAAMnI,UAAS,GAAvC,mBAAO2I,EAAP,KAAaC,EAAb,KAEMC,EAAW7C,OAAOC,QAAP,iBAAeX,QAAf,IAAeA,OAAf,EAAeA,EAAQE,WAAvB,QAA8B,IAAIvH,MAAK,SAACC,EAAGC,GAC1D,OAAO6H,OAAOsC,KAAKnK,EAAE,IAAIJ,OAASiI,OAAOsC,KAAKpK,EAAE,IAAIH,UAGhDmK,EAAgBlC,OAAOC,QAAP,iBAAeX,QAAf,IAAeA,OAAf,EAAeA,EAAQE,WAAvB,QAA8B,IAAIsD,QAAO,SAACC,EAAK3C,GACnE,OAAO2C,EAAM/C,OAAOsC,KAAKlC,EAAI,IAAIrI,SAChC,GAEH,OACE,sBAAK/C,UAAWF,EAAQZ,KAAxB,UACE,cAACL,EAAA,EAAD,CAAYC,QAAQ,QAAQ8L,cAAY,EAAxC,SACE,sDAEF,cAACC,GAAA,EAAD,IACA,eAAC,GAAD,CACE4B,MAAOiB,EAAY,QAAUpD,EAAOE,IACpC4B,UAAU,0CAFZ,UAIGyB,EAASG,MAAM,EAAG,IAAI9C,KAAI,YAAmB,IAAD,mBAAhBE,EAAgB,KAAXhL,EAAW,KAC3C,OACE,cAAC,GAAD,CAEEW,KAAMqK,EACNhL,MAAOA,EACP8M,cAAeA,GAHV9B,MAQX,cAAC5D,EAAA,EAAD,CAAUC,GAAIkG,EAAM9K,QAAQ,OAAO6E,eAAa,EAAhD,SACGmG,EAASG,MAAM,IAAI9C,KAAI,YAAmB,IAAD,mBAAhBE,EAAgB,KAAXhL,EAAW,KACxC,OACE,cAAC,GAAD,CAEEW,KAAMqK,EACNhL,MAAOA,EACP8M,cAAeA,GAHV9B,QAQb,cAACrL,EAAA,EAAD,CAAKwE,UAAU,SAAf,SACE,cAAC8C,EAAA,EAAD,CAAQE,QAAS,kBAAMqG,GAASD,IAAOrG,MAAM,UAA7C,SACGqG,EAAO,OAAS,kBCrHvB5O,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCqK,IAAK,CACHlF,aAAcnF,EAAMoF,QAAQ,IAE9BD,aAAc,CACZA,aAAcnF,EAAMoF,QAAQ,QA2CjB4J,GAvCa,SAAC,GAAgB,IAAD,EAAb3D,EAAa,EAAbA,OACvBxK,EAAUf,KAEhB,OACE,sBAAKiB,UAAWF,EAAQZ,KAAxB,UACE,cAACL,EAAA,EAAD,CAAYC,QAAQ,QAAQ8L,cAAY,EAAxC,SACE,0CAEF,cAACC,GAAA,EAAD,IACA,cAAChM,EAAA,EAAD,CAAYmB,UAAWF,EAAQsE,aAActF,QAAQ,KAArD,SACGwL,EAAOpL,OAEV,cAACL,EAAA,EAAD,CAAYC,QAAQ,QAAQ8L,cAAY,EAAxC,SACE,sDAEF,cAACC,GAAA,EAAD,IAECG,OAAOC,QAAP,iBAAeX,QAAf,IAAeA,OAAf,EAAeA,EAAQE,WAAvB,QAA8B,IAAIU,KAAI,YAAmB,IAAD,qBAAhBE,EAAgB,KAAXhL,EAAW,KACvD,OACE,cAAC,GAAD,CAEEA,MAAK,UAAE4K,OAAOsC,KAAKlN,GAAO2C,cAArB,QAA+B,EACpCiH,MAAOM,EAAON,MACdtK,MAAO0L,EACPpL,UAAWF,EAAQwJ,KAJd8B,UCXFqC,GAhBO,WAAO,IAAD,EACpBhB,EAAQ3H,qBAAW4H,IAEzB,OACE,cAAC,GAAD,CAAsBP,UAAS,UAAEM,EAAME,eAAR,aAAE,EAAeC,SAAhD,UACQ,OAALH,QAAK,IAALA,OAAA,EAAAA,EAAOI,OACN,cAAC,GAAD,CAAqBvC,OAAQmC,EAAME,QAAQkB,WAE3C,cAACK,GAAD,CAAuB5D,OAAQmC,EAAME,QAAQkB,c,UCyBtCM,GA/BM,WACnB,IAAM1B,EAAQ3H,qBAAW4H,IAEzB,OACE,cAAC,GAAD,CAAsBP,eAA8BiC,KAAd,OAAL3B,QAAK,IAALA,OAAA,EAAAA,EAAOE,SAAxC,SACE,cAAC0B,GAAA,EAAD,CAAMC,WAAS,EAACjK,QAAS,EAAzB,UACQ,OAALoI,QAAK,IAALA,OAAA,EAAAA,EAAOE,SACJ3B,OAAOsC,KAAKb,EAAME,SAASzB,KAAI,SAAAE,GAC7B,OACE,cAACiD,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACE,cAAC,EAAD,CACElG,SAAU,CACR9D,MAAO2G,EAAIsD,OAAO,GAAGC,cAAgBvD,EAAI4C,MAAM,IAEjDxF,SACU,iBAAR4C,EACE,cAAC,GAAD,IACU,aAARA,EACF,cAAC,GAAD,IACE,QAVqBA,MAgBnC,U,oECjCNrM,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,QAAS,OACTE,WAAY,cAgBDuP,GAZE,SAAC,GAAoC,IAAlChQ,EAAiC,EAAjCA,KAAMiQ,EAA2B,EAA3BA,KAAMC,EAAqB,EAArBA,KAAStP,EAAY,kBAC7CM,EAAUf,KAChB,OACE,sBAAKiB,UAAS,UAAKF,EAAQZ,KAAb,YAAqBM,EAAMQ,WAAzC,UACG6O,EACD,cAAChQ,EAAA,EAAD,CAAYkQ,KAAMD,GAAc,KAAMhQ,QAAQ,QAAQkQ,YAAU,EAAhE,SACGpQ,QCpBF,SAASqQ,GAAUC,GACxB,IAAIC,EAAUC,KAAKC,OAAO,IAAIC,KAASJ,GAAQ,KAE3CK,EAAWJ,EAAU,QAEzB,GAAII,EAAW,EAAG,CAChB,IAAMC,EAAMJ,KAAKC,MAAME,GACvB,OAAOC,EAAM,SAAmB,IAARA,EAAY,IAAM,IAG5C,IADAD,EAAWJ,EAAU,QACN,EAAG,CAChB,IAAMK,EAAMJ,KAAKC,MAAME,GACvB,OAAOC,EAAM,UAAoB,IAARA,EAAY,IAAM,IAG7C,IADAD,EAAWJ,EAAU,OACN,EAAG,CAChB,IAAMK,EAAMJ,KAAKC,MAAME,GACvB,OAAOC,EAAM,QAAkB,IAARA,EAAY,IAAM,IAG3C,IADAD,EAAWJ,EAAU,MACN,EAAG,CAChB,IAAMK,EAAMJ,KAAKC,MAAME,GACvB,OAAOC,EAAM,SAAmB,IAARA,EAAY,IAAM,IAG5C,IADAD,EAAWJ,EAAU,IACN,EAAG,CAChB,IAAMK,EAAMJ,KAAKC,MAAME,GACvB,OAAOC,EAAM,WAAqB,IAARA,EAAY,IAAM,IAE9C,IAAMA,EAAMJ,KAAKC,MAAMF,GACvB,OAAOK,EAAM,WAAqB,IAARA,EAAY,IAAM,ICX9C,IAAMzQ,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCwQ,SAAU,CACRtQ,QAAS,OACTE,WAAY,SACZ+E,aAAcnF,EAAMoF,QAAQ,IAE9B2K,WAAY,CACVA,WAAY/P,EAAMoF,QAAQ,IAE5BqL,YAAa,CACXA,YAAazQ,EAAMoF,QAAQ,IAE7BsL,SAAU,CACRxQ,QAAS,OACTiF,aAAcnF,EAAMoF,QAAQ,IAE9BuL,QAAS,CACPzQ,QAAS,YA+DE0Q,GA3DO,WAAO,IAAD,oCACpB/P,EAAUf,KAChB,EAAkC+F,qBAAW4H,IAArC/B,EAAR,EAAQA,MAAOmF,EAAf,EAAeA,eAEf,OACE,gCACE,sBAAK9P,UAAWF,EAAQ2P,SAAxB,UACE,cAAC5Q,EAAA,EAAD,CAAYC,QAAQ,KAApB,SACE,sCAAI6L,EAAM,UAAV,iBAAI,EAAUjJ,gBAAd,aAAI,EAAoBX,SAE1B,eAAClC,EAAA,EAAD,CAAYmB,UAAWF,EAAQkP,WAAYlQ,QAAQ,YAAnD,kCACI6L,EAAM,UADV,iBACI,EAAUjJ,gBADd,aACI,EAAoBV,eADxB,QACmC,YAIrC,cAACnC,EAAA,EAAD,CAAY+L,cAAY,EAAC9L,QAAQ,QAAjC,6BACG6L,EAAM,UADT,iBACG,EAAUjJ,gBADb,aACG,EAAoBqO,eADvB,QACkC,QAElC,sBAAK/P,UAAWF,EAAQ6P,SAAxB,UACE,cAAC,GAAD,CACE/Q,KAAI,oBAAE+L,EAAM,UAAR,iBAAE,EAAUjJ,gBAAZ,aAAE,EAAoBsO,eAAtB,QAAiC,MACrCnB,KAAM,cAAC,KAAD,MAER,cAAC,GAAD,CACE7O,UAAWF,EAAQkP,WACnBpQ,KACE,4BACAqQ,GACE,IAAIK,KAAJ,UACE3E,EAAM,UADR,iBACE,EAAUjJ,gBADZ,iBACE,EAAoBuO,gBADtB,iBACE,YACEtF,EAAM,UADR,iBACE,EAAUjJ,gBADZ,aACE,EAAoBV,gBAFxB,iBACE,EAEI,UAHN,aACE,EAEQkP,cAGZ,QAEFrB,KAAM,cAAC,KAAD,SAGTiB,GAA4C,IAA1BA,EAAe/M,OAC9B+M,EAAe5E,KAAI,SAAAiF,GACjB,OACE,eAACtR,EAAA,EAAD,CACE+L,cAAY,EACZtD,MAAO,QACPtH,UAAWF,EAAQ4P,YACnB5Q,QAAQ,QAJV,wBAMa,4BAAIgR,EAAe,GAAG1P,MAAMV,QAAW,IAClD,4BAAIoQ,EAAe,GAAG1P,MAAMsB,SAASV,UAPvC,8CAYJ,S,2CC7EJjC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCwQ,SAAU,CACRtQ,QAAS,OACTE,WAAY,SACZ+E,aAAcnF,EAAMoF,QAAQ,IAE9B2K,WAAY,CACVA,WAAY/P,EAAMoF,QAAQ,IAE5BqL,YAAa,CACXA,YAAazQ,EAAMoF,QAAQ,IAE7BsL,SAAU,CACRxQ,QAAS,OACTiF,aAAcnF,EAAMoF,QAAQ,GAC5BhF,WAAY,UAEd+Q,MAAO,CACLC,MAAO,OACPzM,UAAW3E,EAAMoF,QAAQ,QAIvBiM,GAAc,SAAC,GAAwB,IAAtBxO,EAAqB,EAArBA,KAAStC,EAAY,kBAC1C,OACE,cAAC+Q,GAAA,EAAD,CACEvQ,UAAWR,EAAMQ,UACjB2I,OACE,cAACtB,EAAA,EAAD,CAAQC,MAAM,UAAUN,KAAK,QAAQ+H,KAAMjN,EAAKgN,KAAhD,qBAIF0B,SAAU1O,EAAKwE,KAAKmK,cAPtB,SASG3O,EAAK4O,WAiGGC,GA5FM,SAAC,GAAkB,IAAD,IAAfC,EAAe,EAAfA,SAChB9Q,EAAUf,KACV0N,EAAQ3H,qBAAW4H,IACzB,EAAwCS,IAAMnI,UAAS,GAAvD,mBAAO6L,EAAP,KAAqBC,EAArB,KA+BA,EAAmC,WAAO,IAAD,MAEvC,cAAIrE,QAAJ,IAAIA,GAAJ,UAAIA,EAAOsE,cAAX,aAAI,EAAeC,QACbvE,EAAMsE,OAAOC,OAAOC,MACf,CAAC,QAAS,SAEV,CAAC,WAAY,YAInB,OAAIxE,QAAJ,IAAIA,GAAJ,UAAIA,EAAOsE,cAAX,iBAAI,EAAelP,cAAnB,aAAI,EAAuB4K,OACvB,CAACA,EAAMsE,OAAOlP,OAAO4K,MAAMkC,cAAe,QAE1C,CAAC,eAAWP,GAbY,GAAnC,mBAAO8C,EAAP,KAAmBC,EAAnB,KAiBMC,GAAc,OAAL3E,QAAK,IAALA,GAAA,UAAAA,EAAOsE,cAAP,mBAAeC,cAAf,eAAuBK,YAClC5E,EAAMsE,OAAOC,OAAOK,WAAWC,QAAO,SAAAlB,GACpC,MAAsB,UAAfA,EAAM9J,QAEf,KAEJ,OACE,gCACE,cAACzH,EAAA,EAAD,CAAYC,QAAQ,KAApB,SACE,4BAAI8R,MAEN,sBAAK5Q,UAAWF,EAAQ6P,SAAxB,UACE,cAACnC,GAAA,EAAD,CAAM9N,MAAOwR,EAAY5J,MAAO6J,IAChC,cAAC,GAAD,CACEnR,UAAWF,EAAQkP,WACnBpQ,KA7DS,WAAO,IAAD,YAErB,cAAI6N,QAAJ,IAAIA,GAAJ,UAAIA,EAAOsE,cAAX,iBAAI,EAAelP,cAAnB,aAAI,EAAuB0P,aAEvB,mBACAtC,GAAU,IAAIK,KAAK7C,EAAMsE,OAAOlP,OAAO0P,cACvC,SAIC,OAAI9E,QAAJ,IAAIA,GAAJ,UAAIA,EAAOsE,cAAX,iBAAI,EAAelP,cAAnB,aAAI,EAAuB2P,YAE5B,kBACAvC,GAAU,IAAIK,KAAK7C,EAAMsE,OAAOlP,OAAO2P,aACvC,SAIC,OAAI/E,QAAJ,IAAIA,GAAJ,UAAIA,EAAOsE,cAAX,iBAAI,EAAerP,gBAAnB,aAAI,EAAyB+P,UAE9B,mBACAxC,GAAU,IAAIK,KAAK7C,EAAMsE,OAAOrP,SAAS+P,SAAW,MACpD,QAGK,sCAoCGC,GACN7C,KAAM,cAAC,KAAD,UAGH,OAANuC,QAAM,IAANA,OAAA,EAAAA,EAAQrO,QAAS,EAChB,gCACE,cAAC,GAAD,CAAajB,KAAMsP,EAAO,KAC1B,cAAC5J,EAAA,EAAD,CAAUC,GAAIoJ,EAAchO,QAAQ,OAAO6E,eAAa,EAAxD,gBACG0J,QADH,IACGA,OADH,EACGA,EAAQpD,MAAM,GAAG9C,KAAI,SAAApJ,GACpB,OAAO,cAAC,GAAD,CAAaA,KAAMA,EAAM9B,UAAWF,EAAQsQ,aAIvD,cAAC/I,EAAA,EAAD,CACEC,MAAM,UACNN,KAAK,QACLO,QAAS,kBAAMuJ,GAAiBD,IAHlC,UAKS,OAANO,QAAM,IAANA,OAAA,EAAAA,EAAQrO,QAAS,EAAK8N,EAAe,OAAS,OAAU,UAG3D,S,SC/IH,SAASc,GAAcC,EAAO9H,EAAK+H,GAExC,IAAMC,EAAiBD,EAAMP,QAAO,SAAAS,GAAI,OAAIH,EAAMtO,SAASyO,EAAKC,SAI5DC,EAAW,CAAEC,MAAO,GAAIL,MAAO,IASnC,OARAC,EAAeK,SAAQ,SAAAJ,GACrB,IAAMK,EAAOC,GAAQN,EAAM,CAAEG,MAAO,GAAIL,MAAO,IAAMA,EAAO/H,GAC5DmI,EAAW,CACTC,MAAM,aAAK,IAAII,IAAJ,uBAAYF,EAAKF,OAAjB,aAA2BD,EAASC,UAC/CL,MAAM,aAAK,IAAIS,IAAJ,uBAAYF,EAAKP,OAAjB,aAA2BI,EAASJ,cAI5CI,EAGT,SAASI,GAAQN,EAAMQ,EAAWV,EAAO/H,GAEvC,GAAIyI,EAAUV,MAAMvO,SAASyO,EAAKrR,IAChC,OAAO6R,EAQT,GAJAA,EAAUL,MAAMxL,KAAKqL,EAAKC,KAAMD,EAAKS,IACrCD,EAAUV,MAAMnL,KAAKqL,EAAKrR,IAGtBqR,EAAKS,KAAO1I,EACd,OAAOyI,EAKP,IAAIN,EAAW,CAAEC,MAAO,GAAIL,MAAO,IAWnC,OAVAA,EACGP,QAAO,SAAApR,GAAC,OAAIA,EAAE8R,OAASD,EAAKS,MAC5BL,SAAQ,SAAAjS,GACP,IAAMkS,EAAOC,GAAQnS,EAAGqS,EAAWV,EAAO/H,GAC1CmI,EAAW,CACTC,MAAM,aAAK,IAAII,IAAJ,uBAAYF,EAAKF,OAAjB,aAA2BD,EAASC,UAC/CL,MAAM,aAAK,IAAIS,IAAJ,uBAAYF,EAAKP,OAAjB,aAA2BI,EAASJ,cAI9CI,EC9CJ,IAAMQ,GAAU,CACrBC,aAAc,CACZC,SAAS,EACTC,SAAU,SAASC,EAAUC,GAC3BD,EAASE,OAASF,EAASE,MAAMC,EACjCF,EAASD,KAGbI,YAAa,CACXC,OAAO,EACPC,qBAAqB,EACrBC,sBAAsB,EACtBC,YAAY,GAEdxB,MAAO,CACLyB,QAAQ,EACRC,QAAQ,EACRjM,MAAO,CACLA,MAAO,WAETkM,oBAAoB,EACpBC,OAAQ,CACNzB,KAAM,CACJW,SAAS,EACTrM,KAAM,cAIZ4L,MAAO,CACLoB,QAAQ,EACRhM,MAAO,CACL7I,WAAY,UACZuO,OAAQ,OACRkG,MAAO,CACLzU,WAAY,UACZuO,OAAQ,SAGZ0G,MAAO,MACP1M,KAAM,GACN2M,YAAa,EACbC,oBAAoB,EACpBC,KAAM,CACJvM,MAAO,UACPwM,YAAa,EACb9M,KAAM,KAGV+M,QAAS,CACPC,sBAAuB,CACrBC,QAAS,GACTC,aAAc,KAEhBC,OAAQ,wBACRC,YAAa,M,yCCvCXrV,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,QAAS,OACTwE,SAAU,iBAEZ0Q,OAAQ,CACNjK,KAAM,WACNnB,OAAQ,YAwJGqL,GApJM,SAAC,GAA0C,IAAxC7S,EAAuC,EAAvCA,KAAkBvC,GAAqB,EAAjCqV,WAAiC,EAArBrV,MAASM,EAAY,kBACvDgV,EAAWC,iBAAO,MAClB3U,EAAUf,KAEhB2V,qBAAU,WACR,IAAMC,EACJH,EAASI,SAAW,IAAIC,KAAQL,EAASI,QAASnT,EAAMgR,IAGpDqC,EAAWrT,EAAKyQ,MAAMhR,IAAIhC,GAChC4V,EAASxN,MAAQ,UACjBwN,EAASjB,KAAO,CAAEvM,MAAO,UAAWwM,YAAa,EAAG9M,KAAM,IAC1DvF,EAAKyQ,MAAM6C,WAAWD,GAItB,IAAIE,EAAgBC,SACjBC,eAAe,aACfC,qBAAqB,UAAU,GAGlC,SAASC,EAAaC,GACpBL,EAAcM,MAAMC,OAASF,EAE/BV,EAAQa,GAAG,aAAa,WACtBJ,EAAa,WAEfT,EAAQa,GAAG,YAAY,WACrBJ,EAAa,cAEfT,EAAQa,GAAG,aAAa,WACtBJ,EAAa,eAEfT,EAAQa,GAAG,YAAY,WACrBJ,EAAa,eAEfT,EAAQa,GAAG,WAAW,WACpBJ,EAAa,WAIfT,EAAQa,GAAG,WAAW,SAASpU,GACD,IAAxBA,EAAO8Q,MAAMnP,QACf4R,EAAQ/B,SAASxR,EAAO8Q,MAAM,OAKlCyC,EAAQa,GAAG,aAAa,SAASpU,GAIL,IAAxBA,EAAO8Q,MAAMnP,aACqCqL,IAAlDuG,EAAQc,KAAKvD,MAAM9Q,EAAO8Q,MAAM,IAAIO,QAAQO,GAC5C2B,EAAQc,KAAKvD,MAAM9Q,EAAO8Q,MAAM,IAAIO,QAAQO,GAG5C2B,EAAQ/B,SAASxR,EAAO8Q,MAAM,SAGjC,CAACsC,EAAU/S,EAAMvC,IA6EpB,OACE,sBAAKc,UAAS,UAAKF,EAAQZ,KAAb,YAAqBM,EAAMQ,WAAzC,UACE,cAAC,EAAD,CACEN,MAAM,kBACND,SAAU,SAAAb,GAAI,OA9EC,SAAC8W,EAAOjU,GAoB3B,GAlBAA,EAAKyQ,MAAM6C,WACTtT,EAAKyQ,MAAMhR,MAAMgK,KAAI,SAAAhL,GAKnB,OAJIA,EAAEQ,KAAOxB,IACXgB,EAAC,MAAYuS,GAAQP,MAAM5K,MAC3BpH,EAAC,KAAWuS,GAAQP,MAAM2B,MAErB3T,MAKXuB,EAAKoQ,MAAMkD,WACTtT,EAAKoQ,MAAM3Q,MAAMgK,KAAI,SAAAhL,GAEnB,OADAA,EAAC,MAAYuS,GAAQZ,MAAMvK,MACpBpH,MAIG,KAAVwV,EAAJ,CAMA,IAAIC,EAAmBlU,EAAKyQ,MAAMhR,IAAI,CACpCoQ,OAAQ,SAASsE,GACf,OAAOA,EAAKlW,MAAM4D,SAASoS,MAKzBG,EAAWlE,GACfgE,EAAiBzK,KAAI,SAAA0K,GAAI,OAAIA,EAAKlV,MAClCxB,EACAuC,EAAKoQ,MAAM3G,KAAI,SAAAhL,GAAC,OAAIA,MAKhB4V,EAAmBrU,EAAKoQ,MAC3B3Q,MACAoQ,QAAO,SAAAS,GAAI,OAAK8D,EAAShE,MAAMvO,SAASyO,EAAKrR,OAC7CwK,KAAI,SAAAhL,GAEH,OADAA,EAAC,MAAY,CAAEoH,MAAO,WACfpH,KAIL6V,EAAmBtU,EAAKyQ,MAC3BhR,MACAoQ,QAAO,SAAAsE,GAAI,OAAKC,EAAS3D,MAAM5O,SAASsS,EAAKlV,OAC7CwK,KAAI,SAAAhL,GAKH,OAJIA,EAAEQ,KAAOxB,IACXgB,EAAC,MAAY,CAAEzB,WAAY,WAC3ByB,EAAC,KAAW,CAAEoH,MAAO,UAAWwM,YAAa,EAAG9M,KAAM,KAEjD9G,KAIXyV,EAAmBA,EAAiBzK,KAAI,SAAAhL,GAItC,OAHIA,EAAEQ,KAAOxB,IACXgB,EAAC,MAAY,CAAEzB,WAAY,YAEtByB,KAITuB,EAAKyQ,MAAM6C,WAAWgB,EAAiBC,OAAOL,IAC9ClU,EAAKoQ,MAAMkD,WAAWe,IAOAG,CAAarX,EAAM6C,MAEvC,qBAAKyU,IAAK1B,EAAU9T,GAAG,YAAYV,UAAWF,EAAQuU,a,oCCrK/C8B,GAAb,WACE,WAAY/K,EAAKhL,GAAQ,qBACvBgW,KAAKC,UAAY,IAAI/D,IACrB8D,KAAKhL,IAAMA,EACXgL,KAAKhW,MAAQA,EAJjB,gDAYE,SAAYwV,GACVQ,KAAKC,UAAUC,IAAIV,KAbvB,wBAqBE,SAAWA,GACT,OAAOQ,KAAKC,UAAUE,IAAIX,KAtB9B,0BA4BE,WACE,OAAOY,MAAMxE,KAAKoE,KAAKC,eA7B3B,KCCaI,GAAb,WACE,aAAe,qBACbL,KAAKlE,MAAQ,IAAIwE,IAFrB,8CAQE,SAAUtL,EAAKhL,GACb,GAAIgW,KAAKlE,MAAMqE,IAAInL,GACjB,OAAOgL,KAAKlE,MAAMhR,IAAIkK,GAGxB,IAAMuL,EAAS,IAAIR,GAAK/K,EAAKhL,GAE7B,OADAgW,KAAKlE,MAAM0E,IAAIxL,EAAKuL,GACbA,IAfX,qBAsBE,SAAQE,EAAQC,GACd,IAAMC,EAAaX,KAAKlE,MAAMhR,IAAI2V,GAC5BG,EAAkBZ,KAAKlE,MAAMhR,IAAI4V,GAIvC,OAFAC,EAAWE,YAAYD,GAEhB,CAACD,EAAYC,KA5BxB,0BAkCE,SAAaH,EAAQC,GACnB,IAAMC,EAAaX,KAAKlE,MAAMhR,IAAI2V,GAC5BG,EAAkBZ,KAAKlE,MAAMhR,IAAI4V,GAEvC,SAAIC,IAAcC,IACTD,EAAWG,WAAWF,KAvCnC,mCAgDE,WAAaG,GAAb,yFAAoB7Q,EAApB,+BAA2B,MACnB8Q,EAAU,IAAIV,KACdW,EAAY,IAER3Q,KAAKyQ,GAJjB,UAM8B,IAArBE,EAAUtU,OANnB,sBAOU6S,EAAgB,QAATtP,EAAiB+Q,EAAUC,MAAQD,EAAUE,UAC7CH,EAAQb,IAAIX,GAR7B,iBASM,OATN,SASYA,EATZ,OAUMwB,EAAQR,IAAIhB,GACZA,EAAK4B,eAAerF,SAAQ,SAAAsF,GAAG,OAAIJ,EAAU3Q,KAAK+Q,MAXxD,mEAhDF,sBAoEE,SAASZ,EAAQC,GAAgC,IAAnB1E,EAAkB,uDAAX,IAAIsE,IACjCK,EAAaX,KAAKlE,MAAMhR,IAAI2V,GAC5BG,EAAkBZ,KAAKlE,MAAMhR,IAAI4V,GACjCY,EAAU,IAAIhB,IAAItE,GAExB,IAAK4E,IAAoBD,EAAY,MAAO,GAI5C,GAFAW,EAAQd,IAAIG,GAERF,IAAWC,EACb,OAAON,MAAMxE,KAAK0F,EAAQpK,QAVkB,qBAc3ByJ,EAAWS,gBAdgB,IAc9C,2BAA8C,CAAC,IAApC5B,EAAmC,QAC5C,IAAK8B,EAAQnB,IAAIX,GAAO,CACtB,IAAM+B,EAAWvB,KAAKwB,SAAShC,EAAKxV,MAAO0W,EAAaY,GACxD,GAAIC,EAAS5U,OACX,OAAO4U,IAlBiC,8BAuB9C,MAAO,KA3FX,0BAiGE,SAAad,EAAQC,GAAgC,IAAD,OAAlB1E,EAAkB,uDAAX,IAAIsE,IACrCK,EAAaX,KAAKlE,MAAMhR,IAAI2V,GAC5BG,EAAkBZ,KAAKlE,MAAMhR,IAAI4V,GACjCY,EAAU,IAAIhB,IAAItE,GAExB,IAAK4E,IAAoBD,EAAY,MAAO,GAI5C,GAFAW,EAAQd,IAAIG,GAERF,IAAWC,EACb,MAAO,CAACN,MAAMxE,KAAK0F,EAAQpK,SAG7B,IAAMuK,EAAQ,GAOd,OANAd,EAAWS,eAAerF,SAAQ,SAAAyD,GAC3B8B,EAAQnB,IAAIX,IACG,EAAKkC,aAAalC,EAAKxV,MAAO0W,EAAaY,GACnDvF,SAAQ,SAAAwF,GAAQ,OAAIE,EAAMnR,KAAKiR,SAGtCE,MArHX,K,cCeM9Y,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC8Y,MAAO,CACLC,QAAS/Y,EAAMoF,QAAQ,QA2BZ4T,GAvBa,WAAO,IAAD,EAC1BnY,EAAUf,KACV0N,EAAQ3H,qBAAW4H,IACnBxN,EAAI,UAAGuN,EAAMI,aAAT,QAAkB,OAEtBqL,ECqDD,SAA2BhZ,EAAM6Y,GACtC,MAAgC/S,wBAASoJ,GAAzC,mBAAO8J,EAAP,KAAiBC,EAAjB,KA8BA,OA5BAzD,qBAAU,WACR,GAAKxV,GAAS6Y,EAAd,CAIA,IAAMtW,EAAO,CACXyQ,MAAO,GACPL,MAAO,IAGTkG,EAAM7F,MAAMC,SAAQ,SAAC/R,EAAOgL,EAAKF,GAC/B,IAAM0K,EAAO1K,EAAIhK,IAAIkK,GACrB3J,EAAKyQ,MAAMxL,KAAK,CACdhG,GAAIkV,EAAKxV,MAAMM,GACfhB,MAAOkW,EAAKxV,MAAMV,QAGpBkW,EAAKS,UAAUlE,SAAQ,SAAAsF,GACrBhW,EAAKoQ,MAAMnL,KAAK,CACd8L,GAAIoD,EAAKxV,MAAMM,GACfsR,KAAMyF,EAAIrX,MAAMM,WAKtByX,EAAY1W,MACX,CAACvC,EAAM6Y,IAEHG,EDpFUE,CAAkBlZ,EAAMuN,EAAMsL,OAE/C,OACE,cAAC,GAAD,CAAsB5L,eAAwBiC,IAAb8J,EAAjC,SACE,cAACG,GAAA,EAAD,UACE,cAAC,GAAD,CACE5W,KAAM,CACJyQ,MAAO,IAAIoG,KAAJ,OAAYJ,QAAZ,IAAYA,OAAZ,EAAYA,EAAUhG,OAC7BL,MAAO,IAAIyG,KAAJ,OAAYJ,QAAZ,IAAYA,OAAZ,EAAYA,EAAUrG,QAE/B7R,UAAWF,EAAQiY,MACnB7Y,KAAMA,S,oBEfVH,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJI,SAAU,EACVgF,SAAU,MACV0K,WAAY,OACZU,YAAa,OACb6I,aAActZ,EAAMoF,QAAQ,GAC5BmU,YAAavZ,EAAMoF,QAAQ,GAC3BT,UAAW3E,EAAMoF,QAAQ,QAwLdoU,GAnLU,SAAC,GAAiB,EAAfC,SAAgB,IAAD,oBACnC5Y,EAAUf,KACVqC,EAASuX,cACTlM,EAAQ3H,qBAAW4H,IACnB7H,EAAWC,qBAAWC,IAG5B,EAA0BC,mBAAS,GAAnC,mBAAO5E,EAAP,KAAcwY,EAAd,KAGA,EAAsC5T,mBAAS,MAA/C,mBAAO6T,EAAP,KAAoBC,EAApB,KAEMC,EAAY,WzBwCa,IAAAtS,KyBvCXrF,EAAOqF,YzBwCpBxF,IAAMC,IAAIL,EAAQ,kBAAoB4F,EAAc,UAAW,CACpEpF,QAAS,CACPC,OAAQ,uByB1C4BC,MAAK,SAAAK,GAEzC,IAAMC,EAASD,EAASH,KAAKI,OAE7BgD,EAAS,CACPyB,KAAM,SACNC,MAAO,SACPC,QAAS3E,IAKgB,OAAvBA,EAAO0P,YACTuH,EAAe,MAEfA,EACkB,OAAhBD,EAAuBzJ,KAAK4J,IAAkB,EAAdH,EAAiB,KAAQ,UAOjEnE,qBAAU,YACJ,OAACjI,QAAD,IAACA,OAAD,EAACA,EAAOhG,cAAerF,EAAOqF,eAAP,OAAuBgG,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAOhG,eACvD5B,EAAS,CACPyB,KAAM,UAERzB,EAAS,CACPyB,KAAM,SACNC,MAAO,cACPC,QAASpF,EAAOqF,iBAGnB,CAACrF,EAAOqF,YAAR,OAAqBgG,QAArB,IAAqBA,OAArB,EAAqBA,EAAOhG,YAAa5B,IAG5C6P,qBAAU,WzBNqB,IAAAjO,EyBQT,OAAhBoS,IzBRyBpS,EyBaXrF,EAAOqF,YzBZpBxF,IAAMC,IAAIL,EAAQ,kBAAoB4F,EAAa,CACxDpF,QAAS,CACPC,OAAQ,uByBU4BC,MAAK,SAAAK,GACzC,IAAMH,EAAOG,EAASH,KAGtB,GAAwB,MAApBG,EAASC,QAAsC,MAApBD,EAASC,OAEtCiX,EAAe,MACfjU,EAAS,CACPyB,KAAM,SACNC,MAAO,QACPC,QAAS/E,EAAK5B,aAKb,GAAwB,MAApB+B,EAASC,OACmB,UAA/BD,EAASH,KAAKI,OAAO4K,MACvB5H,EAAS,CACPyB,KAAM,SACNC,MAAO,SACPC,QAAS5E,EAASH,KAAKI,SAGzBiX,EAAe,UAMd,GAAwB,MAApBlX,EAASC,OAAgB,CAAC,IAAD,EAEhCiX,EAAe,OAEf,UAAIrX,EAAKwX,cAAT,aAAI,EAAapZ,QACfgF,EAAS,CACPyB,KAAM,SACNC,MAAO,QACPC,QAAS/E,EAAKwX,OAAOC,YAGzBrU,EAAS,CACPyB,KAAM,SACNC,MAAO,cACPC,QAAS/E,EAAKwX,OAAOE,WAAWC,UAElCvU,EAAS,CACPyB,KAAM,SACNC,MAAO,SACPC,QAAS/E,EAAKwX,OAAOjI,SAEvBnM,EAAS,CACPyB,KAAM,SACNC,MAAO,WACPC,QAAS/E,EAAKC,gBAKhBmD,EAAS,CACPyB,KAAM,SACNC,MAAO,QACPC,QAAS,iCAId,CAACpF,EAAOqF,YAAa5B,EAAUgU,IChKT,SAAC/F,EAAUuG,GACpC,IAAMC,EAAgB7E,mBAEtBC,qBAAU,WACR4E,EAAc1E,QAAU9B,IACvB,CAACA,IAEJ4B,qBAAU,WAIR,GAAc,OAAV2E,EAAgB,CAClB,IAAM3Y,EAAK6Y,aAJb,WACED,EAAc1E,YAGeyE,GAC7B,OAAO,kBAAMG,cAAc9Y,OAE5B,CAAC2Y,IDmJJI,EAAY,WACVV,MACCF,GDhDE,SAA4B7W,EAASC,GAC1C,IAAM4C,EAAWC,qBAAWC,IAE5B2P,qBAAU,WACR,GAAK1S,GAAYC,EAAjB,CAIA,IAAM8V,EAAQ,IAAItB,GAElB,sBAAC,sCAAAvT,EAAA,6DACOwW,EAAc,GADrB,SAGOC,QAAQnP,IAEZQ,OAAOC,QAAQhJ,GAAaiJ,IAA5B,iBAAAF,OAAA,IAAAA,CAAA,UAAgC,iCAAA9H,EAAA,gFAAQkI,EAAR,KAAahL,EAAb,cAExBe,EACJiK,EACAhL,EAAMY,QAAQ4Y,QAAQ,KAAM,KAC5BrY,MAAK,SAAAG,GAAa,IAAD,EACXtB,EAAQ,CACZM,GAAIgB,EAASX,KAAK0P,cAClB/Q,MAAOgC,EAASX,KAChB8Y,MAAO,KACPnY,SAAUA,GAIZqW,EAAM+B,UAAU1Z,EAAMM,GAAIN,GAG1B,UAAAsB,EAASqY,qBAAT,SAAwB5H,SAAQ,SAAAsF,GAC9B,IAAMuC,EAAevC,EAAIwC,MAAM,IAAK,GAAG,GAClBhY,EAAY+X,IAI/BN,EAAYhT,KAAKsT,SAvBO,2CAAhC,wDALH,cAoCO5C,EAAU,IAAIV,IACdW,EAAY,GAClBU,EAAM7F,MAAMC,SAAQ,SAAC/R,EAAOgL,EAAKF,GAC/B,IAAKwO,EAAYpW,SAAS8H,IAAQJ,OAAOsC,KAAKtL,GAASsB,SAAS8H,GAAM,CACpE,IAAMwK,EAAO1K,EAAIhK,IAAIkK,GACrBwK,EAAKxV,MAAMyZ,MAAQ,EACnBxC,EAAU3Q,KAAKkP,OAMbsE,EAAe,SAACzY,EAAM0Y,EAAWxR,GAMrC,OALa,SAATyR,EAAS3Y,GACX,OAAO0Y,EAAU1Y,GACbkH,IAASpH,KAAK6Y,GACdT,QAAQU,QAAQ5Y,GAEf2Y,CAAO3Y,IAtDjB,SAyDOyY,EACJ7C,GACA,SAAAlM,GAAC,OAAIA,EAAEpI,OAAS,KAChB,WACE,IACgC,IAD1B6S,EAAOyB,EAAUC,MAsBvB,OArBI1B,IAASwB,EAAQb,IAAIX,KACvBwB,EAAQR,IAAIhB,IAGZ,OAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAMxV,aAAV,iBAAI,EAAasB,gBAAjB,aAAI,EAAuBqY,gBAEzBnE,EAAKxV,MAAMsB,SAASqY,cAAc7O,IAAlC,uCAAsC,WAAMuM,GAAN,eAAAvU,EAAA,2DAC9BoX,EAAevC,EAAM7F,MAAMhR,IAAIuW,EAAIwC,MAAM,IAAK,GAAG,KADnB,uBAMlCK,EAAala,MAAMyZ,MAAQjE,EAAKxV,MAAMyZ,MAAQ,EAG9C9B,EAAMwC,QAAQ3E,EAAKxK,IAAKkP,EAAala,MAAMM,IATT,SAU5B2W,EAAU3Q,KAAK4T,GAVa,2CAAtC,wDAeG,IAAIX,SAAQ,SAACU,EAASG,GAC3BH,EAAQhD,SApFf,OAyFOjX,EAAQ,CACZM,GAAI,OACJhB,MAAO,MACPma,OAAQ,GAIJY,EAAM1C,EAAM+B,UAAU1Z,EAAMM,GAAIN,GAEtC4K,OAAOsC,KAAKtL,GAASmQ,SAAQ,SAAAjT,GACvB6Y,EAAM7F,MAAMhR,IAAIhC,IAClB6Y,EAAMwC,QAAQE,EAAIrP,IAAKlM,MApG5B,2CAAD,GAuGKqC,MAAK,WACRsD,EAAS,CACPyB,KAAM,QACNE,QAASuR,UAGZ,CAAC/V,EAASC,EAAa4C,ICpE1B6V,CAAkB,OAChBjO,QADgB,IAChBA,GADgB,UAChBA,EAAOsE,cADS,iBAChB,EAAe4J,mBADC,iBAChB,EAA4BxY,oBADZ,aAChB,EAA0CyY,SAD1B,OAEhBnO,QAFgB,IAEhBA,GAFgB,UAEhBA,EAAOsE,cAFS,iBAEhB,EAAe4J,mBAFC,iBAEhB,EAA4BE,2BAFZ,aAEhB,EAAiDnc,SDhK9C,SAA2BqZ,EAAOpN,GACvC,IAAM9F,EAAWC,qBAAWC,IAE5B2P,qBAAU,WACR,GAAKqD,GAAUpN,EAAf,CAIA,IAAImC,EAAe,CACjBtC,IAAK,GACLG,MAAO,IAGLkD,EAAW,CAAE7D,WAAOoE,EAAW5D,IAAK,IAGxCQ,OAAOsC,KAAK3C,GAAOwH,SAAQ,SAAAjT,GACzB,IAAM4b,EAAM/C,EAAMgD,YAAYhD,EAAM7F,MAAMhR,IAAIhC,IACzBsX,MAAMxE,KAAK8I,GAGnB3I,SAAQ,SAAAyD,GAAS,IAAD,gBACrBiE,EACiB,IAArBjE,EAAKxV,MAAMyZ,OAAe3a,IAAS0W,EAAKxV,MAAMM,GAC1C,QACqB,IAArBkV,EAAKxV,MAAMyZ,MACX,SACA,WAGN/M,EAAe,CACbtC,IAAI,2BACCsC,EAAatC,KADf,mBAEAqP,GAAQ,UAAC/M,EAAatC,IAAIqP,UAAlB,QAA4B,GAAK,IAE5ClP,MAAM,2BACDmC,EAAanC,OADb,mBAEFzL,EAFE,qCAGG4N,EAAanC,MAAMzL,UAHtB,QAG+B,MAH/B,mBAIA2a,GAAQ,oBAAC/M,EAAanC,aAAd,iBAAC,EAAqBzL,UAAtB,aAAC,EAA6B2a,UAA9B,QAAwC,GAAK,OAM5DhM,EAAW,CACT7D,OAAO,UAAC6D,EAAS7D,aAAV,QAAmB,GAAK,EAC/B9K,KAAI,UAAE2O,EAAS3O,YAAX,QAAmB0W,EAAKxV,MAAMsB,SAASsO,QAC3CxF,IAAI,2BACCqD,EAASrD,KADX,mBAEAoL,EAAKxV,MAAMsB,SAASsO,QAFpB,qCAGKnC,EAASrD,IAAIoL,EAAKxV,MAAMsB,SAASsO,gBAHtC,QAGkD,MAHlD,mBAIE4F,EAAKxV,MAAMV,MAAQkW,EAAKxV,MAAMyZ,iBAQzChV,EAAS,CACPyB,KAAM,SACNgE,OAAQ,eACR9D,QAASsG,IAEXjI,EAAS,CACPyB,KAAM,SACNgE,OAAQ,WACR9D,QAASqH,OAEV,CAACkK,EAAOlT,EAAU8F,IC4FrBqQ,CACEvO,EAAMsL,MADS,OAEftL,QAFe,IAEfA,GAFe,UAEfA,EAAOsE,cAFQ,iBAEf,EAAe4J,mBAFA,iBAEf,EAA4BxY,oBAFb,aAEf,EAA0CyY,UAQ5C,OACE,sBAAK5a,UAAWF,EAAQZ,KAAxB,WACQ,OAALuN,QAAK,IAALA,OAAA,EAAAA,EAAOI,OACN,cAAC,GAAD,IAEA,cAAC,GAAD,CAAc+D,SAAUxP,EAAOqF,cAJnC,OAMGgG,QANH,IAMGA,GANH,UAMGA,EAAO9B,aANV,aAMG,EAAcO,KAAI,SAAA1H,GACjB,OAAIA,EAAE3D,MAEF,cAAChB,EAAA,EAAD,CAAYyI,MAAM,QAAQsD,cAAY,EAAC9L,QAAQ,QAA/C,SACG0E,EAAE3D,QAIF,QAET,eAACob,GAAA,EAAD,CACE7a,MAAOA,EACPX,SAvBe,SAACqH,EAAOoU,GAC3BtC,EAASsC,IAuBLC,eAAe,UACfC,UAAU,UAJZ,UAME,cAACC,GAAA,EAAD,CAAK3b,MAAM,aACX,cAAC2b,GAAA,EAAD,CAAK3b,MAAM,oBAEb,cAAC,EAAD,CAAUU,MAAOA,EAAOG,MAAO,EAA/B,SACE,cAAC+a,GAAD,MAEF,cAAC,EAAD,CAAUlb,MAAOA,EAAOG,MAAO,EAA/B,SACE,cAAC,GAAD,UE/MKgb,GAAe,WAC1B,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACpJ,KCRC,IDQWrH,UAAWrG,IACpC,cAAC,IAAD,CAAO8W,OAAK,EAACpJ,KAAMzL,0BAA6BoE,UAAW0N,KAE3D,cAAC,IAAD,CAAOrG,KAAK,IAAIvQ,OAAQ,IAAxB,SACE,cAAC,EAAD,U,oBEbD,SAAS4Z,GAAQhP,EAAO9D,GAC7B,OAAQA,EAAOrC,MACb,IAAK,QACH,OAAO,2BAAKmG,GAAZ,IAAmBsL,MAAOpP,EAAOnC,UACnC,IAAK,SACH,OAAO,2BACFiG,GADL,IAEEE,QAAQ,2BACHF,EAAME,SADJ,mBAEJhE,EAAO2B,OAAS3B,EAAOnC,YAG9B,IAAK,QACH,OAAO,2BACFiG,GADL,IAEE5M,MAAO8I,EAAOnC,UAGlB,IAAK,SACH,OAAO,2BACFiG,GADL,IAEEsE,OAAO,2BACFtE,EAAMsE,QADL,mBAEHpI,EAAOpC,MAAQoC,EAAOnC,YAI7B,IAAK,iBACH,OAAO,2BACFiG,GADL,IAEEqD,eAAgBnH,EAAOnC,UAG3B,IAAK,QACH,OAAOkV,GAGT,QACE,OAAOjP,GAIN,IAAMiP,GAAY,GCvBZhP,GAAeS,IAAMwO,gBACrB5W,GAAkBoI,IAAMwO,gBAmBtBC,OAjBf,WAEE,MAA0BC,qBAAWJ,GAASC,IAA9C,mBAAOjP,EAAP,KAAc5H,EAAd,KACA,OACE,eAACiX,GAAA,EAAD,CAAe7c,MAAOX,EAAtB,UACE,cAACyd,GAAA,EAAD,IACA,cAAC,IAAD,CAAeC,SF5BG,gBE4BlB,SACE,cAACtP,GAAauP,SAAd,CAAuB7b,MAAOqM,EAA9B,SACE,cAAC1H,GAAgBkX,SAAjB,CAA0B7b,MAAOyE,EAAjC,SACE,cAAC,GAAD,cC3BZqX,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFnH,SAASC,eAAe,W","file":"static/js/main.44c1aaf8.chunk.js","sourcesContent":["import { createTheme } from \"@material-ui/core/styles\";\n\nexport const themeLight = createTheme({\n  palette: {\n    background: {\n      default: \"#f9f9f9\"\n    }\n  }\n});\n","import { Typography } from \"@material-ui/core\";\n\nexport const NotFound = ({ text }) => {\n  return <Typography variant=\"h2\">404: {text ?? \"page\"} not found!</Typography>;\n};\n\nexport default NotFound;\n","// material ui\nimport { TextField, Box } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// react\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    flexGrow: 1\n  }\n}));\n\nconst SearchBar = props => {\n  const { onChange, label, helperText, boxprops, error = false } = props;\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.root} {...boxprops}>\n      <TextField\n        variant=\"outlined\"\n        label={label}\n        onChange={e => onChange(e.target.value)}\n        helperText={helperText}\n        error={error}\n        {...props}\n      />\n    </Box>\n  );\n};\n\nSearchBar.propTypes = {\n  label: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  helperText: PropTypes.string,\n  error: PropTypes.bool\n};\n\nexport default SearchBar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst TabPanel = ({ children, value, index, ...props }) => {\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      className={`${props.className}`}\n      {...props}\n    >\n      {value === index && children}\n    </div>\n  );\n};\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nexport default TabPanel;\n","export const PYPI = \"https://pypi.org/pypi\";\nexport const THOTH = \"https://api.moc.thoth-station.ninja/api/v1\";\n","import axios from \"axios\";\nimport { PYPI, THOTH } from \"./CONSTANTS\";\nimport compareVersions from \"tiny-version-compare\";\n\n// GitHub\nexport function getGitHubFileText(githubRepo, fileName) {\n  const url = new URL(githubRepo);\n\n  if (url.hostname === \"github.com\") {\n    return fetch(\n      \"https://raw.githubusercontent.com\" + url.pathname + \"/master/\" + fileName\n    )\n      .then(response => response.text())\n      .then(response => {\n        return response;\n      });\n  } else return Promise.reject();\n}\n\n// pypi\nexport const searchForPackage = (name, version) => {\n  return axios.get(\n    PYPI + \"/\" + name + (version ? \"/\" + version : \"\") + \"/json\"\n  );\n};\n\nexport const thothSearchForPackage = (\n  name,\n  version,\n  index = \"https://pypi.org/simple\"\n) => {\n  return axios\n    .get(THOTH + \"/python/package/metadata\", {\n      params: {\n        name: name,\n        version: version,\n        index: index\n      },\n      headers: {\n        accept: \"application/json\"\n      }\n    })\n    .then(res => {\n      return res.data.metadata;\n    })\n    .catch(e => {\n      if (e?.response?.status === 404) {\n        return axios\n          .get(PYPI + \"/\" + name + (version ? \"/\" + version : \"\") + \"/json\")\n          .then(res => {\n            return res.data.info;\n          });\n      }\n    });\n};\n\n// thoth\nexport const thothAdvise = (pipfile, pipfileLock) => {\n  const data = {\n    application_stack: {\n      requirements: pipfile,\n      requirements_format: \"pipenv\",\n      requirements_lock: pipfileLock\n    },\n    runtime_environment: {\n      operating_system: {\n        name: \"ubi\",\n        version: \"8\"\n      },\n      platform: \"linux-x86_64\",\n      python_version: \"3.6\"\n    }\n  };\n\n  return axios.post(THOTH + \"/advise/python\", data, {\n    params: {\n      recommendation_type: \"stable\"\n    },\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothAdviseResult = analysis_id => {\n  return axios.get(THOTH + \"/advise/python/\" + analysis_id, {\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothAdviseStatus = analysis_id => {\n  return axios.get(THOTH + \"/advise/python/\" + analysis_id + \"/status\", {\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothGetDependencies = (\n  name,\n  version,\n  index = \"https://pypi.org/simple\"\n) => {\n  return axios.get(THOTH + \"/python/package/dependencies\", {\n    params: {\n      name: name,\n      version: version,\n      index: index\n    },\n    //timeout: 5000,\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothGetLatestVersion = (name, version) => {\n  return axios\n    .get(THOTH + \"/python/package/versions\", {\n      params: {\n        name: name\n      },\n      timeout: 5000,\n      headers: {\n        accept: \"application/json\"\n      }\n    })\n    .then(res => {\n      if (res.data.versions.length === 0) {\n        return null;\n      } else {\n        const sorted = res.data.versions.sort(function(a, b) {\n          return compareVersions(a.package_version, b.package_version);\n        });\n\n        // compare to version if supplied\n        if (version && sorted.includes(version)) {\n          return version;\n        }\n\n        return sorted[sorted.length - 1].package_version;\n      }\n    })\n    .catch(() => {\n      return null;\n    });\n};\n","// API\nimport { searchForPackage, thothGetLatestVersion } from \"services/thothApi\";\n\n// utils\nimport compareVersions from \"tiny-version-compare\";\n\n// return null if no packages\n// return metadata if package exists\n// return metadata of requested package\n// \t\tand thoth latest version and error\n//\t\tif thoth not up to date or n/a\nexport async function validatePackage(name, version) {\n  //if the package or version doesnt exists, then get it\n  return await searchForPackage(name, version)\n    .then(async r => {\n      // check if thoth is up to data for package\n      return await thothGetLatestVersion(name, version)\n        .then(v => {\n          // if thoth does not have any refrence to package\n          if (v === null) {\n            return {\n              metadata: r.data,\n              error:\n                \"Thoth currently does not support '\" + r.data.info.name + \"'.\"\n            };\n          }\n          // thoth does not have the latest but has a version\n          else if (compareVersions(r.data.info.version, v) > 0) {\n            return {\n              metadata: r.data,\n              thothVersion: v,\n              error:\n                \"Thoth currently supports '\" +\n                r.data.info.name +\n                \"' up to version \" +\n                v +\n                \", while the most recent version of '\" +\n                r.data.info.name +\n                \"' is \" +\n                r.data.info.version +\n                \".\"\n            };\n          }\n          // thoth is up to date with the version\n          else {\n            return {\n              metadata: r.data\n            };\n          }\n        })\n        .catch(() => {\n          // thoth ran into an error unlreated to the package\n          return null;\n        });\n    })\n    .catch(() => {\n      // package does not exist\n      return null;\n    });\n}\n","// react\nimport React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n// material-ui\nimport { Typography, Button, Box, Collapse } from \"@material-ui/core\";\nimport LoadingButton from \"@material-ui/lab/LoadingButton\";\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// local\nimport { DASHBOARD } from \"navigation/CONSTANTS\";\nimport SearchBar from \"components/Shared/SearchBar\";\nimport TabPanel from \"components/Shared/TabPanel\";\n\n// utils\nimport { validatePackage } from \"utils/validatePackage\";\n\n// redux\nimport { DispatchContext } from \"App\";\n\n// api\nimport { thothAdvise } from \"services/thothApi\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\",\n    alignItems: \"center\",\n    marginTop: \"10%\"\n  },\n  stretchContent: {\n    minWidth: \"50%\"\n  },\n  searchBar: {\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  flexColumn: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  multilineTextBoxContainer: {\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  description: {\n    marginBottom: theme.spacing(1),\n    maxWidth: \"50%\",\n    textAlign: \"center\"\n  },\n  mode: {\n    marginBottom: theme.spacing(3)\n  },\n  title: {\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst Home = () => {\n  const history = useHistory();\n  const classes = useStyles();\n  const dispatch = useContext(DispatchContext);\n\n  // textbox states\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [pipfileQuery, setPipfileQuery] = useState(\"\");\n  const [pipfileLockQuery, setPipfileLockQuery] = useState(\"\");\n\n  // textbox errors\n  const [searchError, setSearchError] = useState(\"\");\n  const [pipfileError, setPipfileError] = useState(\"\");\n  const [pipfileLockError, setPipfileLockError] = useState(\"\");\n\n  // utlity states\n  const [mode, setMode] = useState(\"multiple\");\n  const [expandOptions, setExpandOptions] = useState(false);\n\n  const [queryLoading, setQueryLoading] = useState(false);\n\n  // handle textbox state change\n  const handleChange = (e, box) => {\n    switch (box) {\n      case \"single\":\n        setSearchQuery(e.target.value);\n        if (searchError !== \"\") {\n          setSearchError(\"\");\n        }\n        break;\n      case \"pipfile\":\n        setPipfileQuery(e.target.value);\n        if (pipfileError !== \"\") {\n          setPipfileError(\"\");\n        }\n        break;\n      case \"lock\":\n        setPipfileLockQuery(e.target.value);\n        if (pipfileLockError !== \"\") {\n          setPipfileLockError(\"\");\n        }\n        break;\n      default:\n    }\n  };\n\n  // change mode view\n  const handleMode = (event, newMode) => {\n    if (newMode) {\n      setMode(newMode);\n    }\n  };\n\n  // handle the input\n  const handleAnalyze = async () => {\n    // dispatch({\n    // \ttype: \"reset\"\n    // });\n    // history.push({\n    // \tpathname: DASHBOARD,\n    // \tstate: roots\n    // });\n\n    if (mode === \"single\") {\n      // if no query\n      if (searchQuery === \"\") {\n        return;\n      }\n      validatePackage(searchQuery)\n        .then(() => {\n          // TODO create pipfile\n        })\n        .catch(() => {\n          setSearchError(\"Package does not exist\");\n        });\n    }\n    // if using pipfile and pipfile.lock\n    else {\n      // if no query\n      if (\n        pipfileQuery === \"\" ||\n        pipfileLockQuery === \"\" ||\n        pipfileError !== \"\" ||\n        pipfileLockError !== \"\"\n      ) {\n        return;\n      }\n\n      let fail = false;\n      if (!pipfileQuery) {\n        fail = true;\n        setPipfileError(\"Please provide a Pipfile\");\n      }\n      if (!pipfileLockQuery) {\n        fail = true;\n        setPipfileLockError(\"Please provide a Pipfile.lock\");\n      }\n\n      // if able to parse both\n      if (!fail) {\n        setQueryLoading(true);\n        thothAdvise(pipfileQuery, pipfileLockQuery)\n          .then(response => {\n            setQueryLoading(false);\n            dispatch({\n              type: \"advise\",\n              param: \"analysis_id\",\n              payload: response.data.analysis_id\n            });\n            history.push(DASHBOARD + \"/\" + response.data.analysis_id);\n          })\n          .catch(error => {\n            setQueryLoading(false);\n            if (error.response.status === 400) {\n              if (error.response.data.error.includes(\"Pipfile.lock\")) {\n                setPipfileLockError(\"Failed to parse provided Pipfile.lock\");\n              } else if (error.response.data.error.includes(\"Pipfile\")) {\n                setPipfileError(\"Failed to parse provided Pipfile\");\n              }\n            }\n          });\n      }\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h4\" className={classes.title}>\n        <b>Thoth Search</b>\n      </Typography>\n      <Typography variant=\"body1\" className={classes.description}>\n        Thoth Search is a tool that runs analysis on a Python application. It\n        utilizes package metadata and Thoth Adviser to analyse and recommend a\n        software stack. <br />\n        <br /> You can run analysis on a specific Python package or you can\n        provide a properly formatted Pipfile and/or Pipfile.lock to run analysis\n        on an entire Python application.\n      </Typography>\n      <ToggleButtonGroup\n        value={mode}\n        exclusive\n        onChange={handleMode}\n        size={\"small\"}\n        className={classes.mode}\n      >\n        <ToggleButton value=\"single\" aria-label=\"left aligned\" disabled>\n          <b>Single Package</b>\n        </ToggleButton>\n        <ToggleButton value=\"multiple\" aria-label=\"centered\">\n          <b>Multiple Packages</b>\n        </ToggleButton>\n      </ToggleButtonGroup>\n      <TabPanel\n        value={mode}\n        index={\"single\"}\n        className={`${classes.flexColumn} ${classes.stretchContent}`}\n      >\n        <Box className={classes.searchBar}>\n          <SearchBar\n            label=\"Search for a Python package\"\n            onChange={e => handleChange(e, \"single\")}\n            helperText={searchError}\n            error={searchError !== \"\"}\n            type=\"search\"\n            boxprops={{ mr: 2 }}\n          />\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => handleAnalyze()}\n          >\n            <b>Analyze</b>\n          </Button>\n        </Box>\n\n        <Collapse in={expandOptions} timeout=\"auto\" unmountOnExit>\n          <Box mt={1}></Box>\n        </Collapse>\n        <Box textAlign=\"center\" mt={1}>\n          <Button\n            onClick={() => setExpandOptions(!expandOptions)}\n            color=\"primary\"\n          >\n            {expandOptions ? \"Less Options\" : \"More Options\"}\n          </Button>\n        </Box>\n      </TabPanel>\n\n      <TabPanel\n        value={mode}\n        index={\"multiple\"}\n        className={`${classes.flexColumn} ${classes.stretchContent}`}\n      >\n        <Box className={classes.multilineTextBoxContainer}>\n          <SearchBar\n            label=\"Pipfile contents\"\n            onChange={e => handleChange(e, \"pipfile\")}\n            helperText={pipfileError}\n            error={pipfileError !== \"\"}\n            multiline\n            rows={8}\n            boxprops={{ mr: 1 }}\n          />\n          <SearchBar\n            label=\"Pipfile.lock contents\"\n            onChange={e => handleChange(e, \"lock\")}\n            helperText={pipfileLockError}\n            error={pipfileLockError !== \"\"}\n            multiline\n            rows={8}\n            boxprops={{ ml: 1 }}\n          />\n        </Box>\n\n        <Box textAlign=\"center\" mt={2}>\n          <LoadingButton\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => handleAnalyze()}\n            loading={queryLoading}\n          >\n            <b>Analyze</b>\n          </LoadingButton>\n        </Box>\n      </TabPanel>\n    </div>\n  );\n};\n\nexport default Home;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Card, CardContent, CardHeader } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\"\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\n\nconst InfoCard = ({ cardMeta, cardBody }) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root}>\n      <CardHeader\n        action={cardMeta.action}\n        title={cardMeta.title}\n        subheader={cardMeta.subTitle}\n      />\n      <CardContent>{cardBody}</CardContent>\n    </Card>\n  );\n};\n\nInfoCard.propTypes = {\n  cardMeta: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    subTitle: PropTypes.string,\n    action: PropTypes.element\n  }),\n  cardBody: PropTypes.element\n};\n\nexport default InfoCard;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { withStyles, makeStyles } from \"@material-ui/styles\";\nimport { LinearProgress, Typography, Tooltip } from \"@material-ui/core\";\n\nconst CustomLinearProgress = withStyles(theme => ({\n  root: {\n    height: 10,\n    borderRadius: 5\n  },\n  colorPrimary: {\n    backgroundColor:\n      theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700]\n  },\n  bar: {\n    borderRadius: 5,\n    backgroundColor: \"#1a90ff\"\n  }\n}))(LinearProgress);\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(6,1fr)\",\n    alignItems: \"center\",\n    gridGap: theme.spacing(1)\n  },\n  label: {\n    gridColumnStart: 1,\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\"\n  },\n  value: {\n    gridColumnStart: 2,\n    textAlign: \"end\"\n  },\n  bar: {\n    gridColumnStart: \"span 3\"\n  },\n  end: {\n    gridColumnStart: 6\n  }\n}));\n\nconst ProgressBar = ({ value, total, label, action, ...props }) => {\n  const classes = useStyles();\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      <Tooltip title={label} placement=\"left\">\n        <Typography variant=\"body2\" className={classes.label}>\n          {label}\n        </Typography>\n      </Tooltip>\n\n      <Typography className={classes.value} variant=\"body2\">\n        {value}\n      </Typography>\n\n      <CustomLinearProgress\n        variant=\"determinate\"\n        value={total > 0 ? (value / total) * 100 : 0}\n        className={classes.bar}\n      />\n      <div className={classes.end}>{action ?? null}</div>\n    </div>\n  );\n};\n\nProgressBar.propTypes = {\n  value: PropTypes.number.isRequired,\n  total: PropTypes.number.isRequired,\n  label: PropTypes.string\n};\n\nexport default ProgressBar;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\n\nimport {\n  Typography,\n  Divider,\n  List,\n  ListItem,\n  ListItemText\n} from \"@material-ui/core/\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  header: {\n    marginTop: theme.spacing(3)\n  },\n  flex: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n}));\n\nconst MultipleDependenciesMetric = ({ metric }) => {\n  const classes = useStyles();\n  const totalDependencies =\n    (metric.all.direct ?? 0) +\n    (metric.all.indirect ?? 0) +\n    (metric.all.roots ?? 0);\n\n  return (\n    <div>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>All Packages</b>\n      </Typography>\n      <Divider className={classes.bar} />\n      <ProgressBar\n        value={metric.all.roots ?? 0}\n        total={totalDependencies}\n        label={\"Root\"}\n        className={classes.bar}\n      />\n      <ProgressBar\n        value={metric.all.direct ?? 0}\n        total={totalDependencies}\n        label={\"Direct\"}\n        className={classes.bar}\n      />\n      <ProgressBar\n        value={metric.all.indirect ?? 0}\n        total={totalDependencies}\n        label={\"Indirect\"}\n      />\n      <Typography variant=\"body2\" className={classes.header} gutterBottom>\n        <b>Root Packages</b>\n      </Typography>\n      <Divider className={classes.bar} />\n      <List component=\"nav\">\n        {Object.entries(metric.roots).map(([key, value], i) => {\n          const t =\n            (metric.roots[key].direct ?? 0) + (metric.roots[key].indirect ?? 0);\n          return (\n            <div key={key}>\n              <ListItem>\n                <ListItemText primary={key} />\n                <div className={classes.flex}>\n                  <ProgressBar\n                    value={metric.roots[key].direct ?? 0}\n                    total={t}\n                    label={\"Direct\"}\n                    className={classes.bar}\n                  />\n                  <ProgressBar\n                    value={metric.roots[key].indirect ?? 0}\n                    total={t}\n                    label={\"Indirect\"}\n                  />\n                </div>\n              </ListItem>\n              <Divider variant={\"middle\"} className={classes.bar} />\n            </div>\n          );\n        })}\n      </List>\n    </div>\n  );\n};\n\nMultipleDependenciesMetric.propTypes = {\n  metric: PropTypes.shape({\n    all: PropTypes.shape({\n      direct: PropTypes.number,\n      indirect: PropTypes.number,\n      roots: PropTypes.number\n    })\n  })\n};\n\nexport default MultipleDependenciesMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";;\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst SingleDependenciesMetric = ({ metric }) => {\n  const classes = useStyles();\n  const totalDependencies =\n    (metric.all.direct ?? 0) + (metric.all.indirect ?? 0);\n\n  return (\n    <div>\n      <ProgressBar\n        value={metric.all.direct ?? 0}\n        total={totalDependencies}\n        label={\"Direct\"}\n        className={classes.bar}\n      />\n\n      <ProgressBar\n        value={metric.all.indirect ?? 0}\n        total={totalDependencies}\n        label={\"Indirect\"}\n      />\n    </div>\n  );\n};\n\nSingleDependenciesMetric.propTypes = {\n  metric: PropTypes.shape({\n    all: PropTypes.shape({\n      direct: PropTypes.number,\n      indirect: PropTypes.number\n    })\n  })\n};\n\nexport default SingleDependenciesMetric;\n","import { Typography } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\nconst ErrorPage = ({ text }) => {\n  return (\n    <Typography align=\"center\" color=\"error\" variant=\"body1\">\n      {text}\n    </Typography>\n  );\n};\n\nErrorPage.propTypes = {\n  text: PropTypes.string.isRequired\n};\n\nexport default ErrorPage;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material ui\nimport { CircularProgress, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// local\nimport ErrorPage from \"components/Shared/ErrorPage\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n  customProgressRoot: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }\n}));\n\nconst CustomProgress = ({ amount, note }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.customProgressRoot}>\n      <CircularProgress\n        variant={amount ? \"determinate\" : \"indeterminate\"}\n        value={amount ?? 0}\n      />\n      {note ? (\n        <Typography align=\"center\" variant=\"body1\">\n          {note}\n        </Typography>\n      ) : null}\n    </div>\n  );\n};\n\nconst LoadingErrorTemplate = ({\n  isError,\n  isLoading,\n  errorText,\n  loadingPage,\n  loadingAmount,\n  loadingText,\n  children\n}) => {\n  const renderChoice = () => {\n    if (isError) {\n      return <ErrorPage text={errorText ?? \"A unknown error occured\"} />;\n    } else if (isLoading) {\n      return (\n        loadingPage ?? (\n          <CustomProgress amount={loadingAmount} note={loadingText} />\n        )\n      );\n    } else {\n      return children;\n    }\n  };\n\n  return <>{renderChoice()}</>;\n};\n\nLoadingErrorTemplate.propTypes = {\n  state: PropTypes.any\n};\n\nexport default LoadingErrorTemplate;\n","// react\nimport { useContext } from \"react\";\n\n// DependenciesMetric\nimport MultipleDependenciesMetric from \"./MultipleDependenciesMetric\";\nimport SingleDependenciesMetric from \"./SingleDependenciesMetric\";\n\n// Shared\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst DependenciesMetric = () => {\n  const state = useContext(StateContext);\n\n  return (\n    <LoadingErrorTemplate isLoading={state.metrics?.licences}>\n      {state?.focus ? (\n        <SingleDependenciesMetric metric={state.metrics.dependencies} />\n      ) : (\n        <MultipleDependenciesMetric metric={state.metrics.dependencies} />\n      )}\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default DependenciesMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport {\n  Typography,\n  Divider,\n  Collapse,\n  Chip,\n  Button,\n  Box\n} from \"@material-ui/core\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\n\n// local\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  marginBottom: {\n    marginBottom: theme.spacing(2)\n  },\n  chip: {\n    margin: theme.spacing(0.5)\n  },\n  border: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst LicenseDisplay = ({ name, value, totalLicenses }) => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  return (\n    <div>\n      <div className={classes.flex} onClick={() => setOpen(!open)}>\n        <ProgressBar\n          key={name}\n          value={Object.keys(value).length ?? 0}\n          total={totalLicenses}\n          label={name}\n          className={classes.bar}\n          action={open ? <ExpandLess /> : <ExpandMore />}\n        />\n      </div>\n\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <div className={classes.border}>\n          {Object.entries(value)\n            .sort((a, b) => {\n              return a[1] - b[1];\n            })\n            .map(([k, v]) => {\n              return (\n                <Chip\n                  key={k}\n                  className={classes.chip}\n                  color={\n                    v === 0 ? \"primary\" : v === 1 ? \"secondary\" : \"default\"\n                  }\n                  label={k}\n                  onClick={null}\n                />\n              );\n            })}\n        </div>\n        <Divider />\n      </Collapse>\n    </div>\n  );\n};\n\nconst LicenseMetric = ({ metric, deepError }) => {\n  const classes = useStyles();\n\n  const [more, setMore] = React.useState(false);\n\n  const licenses = Object.entries(metric?.all ?? {}).sort((a, b) => {\n    return Object.keys(b[1]).length - Object.keys(a[1]).length;\n  });\n\n  const totalLicenses = Object.entries(metric?.all ?? {}).reduce((sum, key) => {\n    return sum + Object.keys(key[1]).length;\n  }, 0);\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>Dependency Licenses</b>\n      </Typography>\n      <Divider />\n      <LoadingErrorTemplate\n        state={deepError ? \"error\" : metric.all}\n        errorText=\"Could not run analysis on dependencies.\"\n      >\n        {licenses.slice(0, 10).map(([key, value]) => {\n          return (\n            <LicenseDisplay\n              key={key}\n              name={key}\n              value={value}\n              totalLicenses={totalLicenses}\n            />\n          );\n        })}\n\n        <Collapse in={more} timeout=\"auto\" unmountOnExit>\n          {licenses.slice(10).map(([key, value]) => {\n            return (\n              <LicenseDisplay\n                key={key}\n                name={key}\n                value={value}\n                totalLicenses={totalLicenses}\n              />\n            );\n          })}\n        </Collapse>\n        <Box textAlign=\"center\">\n          <Button onClick={() => setMore(!more)} color=\"primary\">\n            {more ? \"Less\" : \"More\"}\n          </Button>\n        </Box>\n      </LoadingErrorTemplate>\n    </div>\n  );\n};\n\nLicenseMetric.propTypes = {\n  metric: PropTypes.shape({\n    root: PropTypes.string,\n    all: PropTypes.object\n  }).isRequired\n};\n\nexport default LicenseMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Typography, Divider } from \"@material-ui/core\";\n\n// local\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  marginBottom: {\n    marginBottom: theme.spacing(2)\n  }\n}));\n\nconst SingleLicenseMetric = ({ metric }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>License</b>\n      </Typography>\n      <Divider />\n      <Typography className={classes.marginBottom} variant=\"h6\">\n        {metric.root}\n      </Typography>\n      <Typography variant=\"body2\" gutterBottom>\n        <b>Dependency Licenses</b>\n      </Typography>\n      <Divider />\n\n      {Object.entries(metric?.all ?? {}).map(([key, value]) => {\n        return (\n          <ProgressBar\n            key={key}\n            value={Object.keys(value).length ?? 0}\n            total={metric.total}\n            label={key}\n            className={classes.bar}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nSingleLicenseMetric.propTypes = {\n  metric: PropTypes.shape({\n    root: PropTypes.string,\n    all: PropTypes.object\n  }).isRequired\n};\n\nexport default SingleLicenseMetric;\n","// react\nimport { useContext } from \"react\";\n\n// DependenciesMetric\nimport MultipleLicenseMetric from \"./MultipleLicenseMetric\";\nimport SingleLicenseMetric from \"./SingleLicenseMetric\";\n\n// Shared\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst LicenseMetric = () => {\n  const state = useContext(StateContext);\n\n  return (\n    <LoadingErrorTemplate isLoading={state.metrics?.licences}>\n      {state?.focus ? (\n        <SingleLicenseMetric metric={state.metrics.licenses} />\n      ) : (\n        <MultipleLicenseMetric metric={state.metrics.licenses} />\n      )}\n    </LoadingErrorTemplate>\n  );\n};\n\nLicenseMetric.propTypes = {};\n\nexport default LicenseMetric;\n","// React\nimport React, { useContext } from \"react\";\n\n// local components\nimport InfoCard from \"components/InfoCard/InfoCard\";\nimport DependenciesMetric from \"components/Metrics/DependenciesMetric\";\nimport LicenseMetric from \"components/Metrics/LicenseMetric\";\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// material-ui\nimport Grid from \"@material-ui/core/Grid\";\n\n// redux\nimport { StateContext } from \"App\";\n\nconst MetricLayout = () => {\n  const state = useContext(StateContext);\n\n  return (\n    <LoadingErrorTemplate isLoading={state?.metrics === undefined}>\n      <Grid container spacing={3}>\n        {state?.metrics\n          ? Object.keys(state.metrics).map(key => {\n              return (\n                <Grid item xs={12} sm={6} key={key}>\n                  <InfoCard\n                    cardMeta={{\n                      title: key.charAt(0).toUpperCase() + key.slice(1)\n                    }}\n                    cardBody={\n                      key === \"dependencies\" ? (\n                        <DependenciesMetric />\n                      ) : key === \"licenses\" ? (\n                        <LicenseMetric />\n                      ) : null\n                    }\n                  />\n                </Grid>\n              );\n            })\n          : null}\n      </Grid>\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default MetricLayout;\n","// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// react\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\"\n  }\n}));\n\nconst IconText = ({ text, icon, link, ...props }) => {\n  const classes = useStyles();\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      {icon}\n      <Typography href={link ? link : null} variant=\"body2\" marginLeft>\n        {text}\n      </Typography>\n    </div>\n  );\n};\n\nexport default IconText;\n\nIconText.propTypes = {\n  text: PropTypes.string.isRequired,\n  icon: PropTypes.element.isRequired,\n  link: PropTypes.string\n};\n","export function timeSince(date) {\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = seconds / 31536000;\n\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" year\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 2592000;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" month\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 86400;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" day\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 3600;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" hour\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 60;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" minute\" + (num !== 1 ? \"s\" : \"\");\n  }\n  const num = Math.floor(seconds);\n  return num + \" second\" + (num !== 1 ? \"s\" : \"\");\n}\n","// React\nimport React, { useContext } from \"react\";\n\n// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\n\n// local\nimport IconText from \"components/Shared/IconText\";\n\n// utils\nimport { timeSince } from \"utils/timeSince\";\n\n// redux\nimport { StateContext } from \"App\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n  titleRow: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(1)\n  },\n  marginLeft: {\n    marginLeft: theme.spacing(2)\n  },\n  marginRight: {\n    marginRight: theme.spacing(2)\n  },\n  linksRow: {\n    display: \"flex\",\n    marginBottom: theme.spacing(3)\n  },\n  warning: {\n    display: \"flex\"\n  }\n}));\n\nconst PackageHeader = () => {\n  const classes = useStyles();\n  const { roots, packageWarning } = useContext(StateContext);\n\n  return (\n    <div>\n      <div className={classes.titleRow}>\n        <Typography variant=\"h4\">\n          <b>{roots[0]?.metadata?.name}</b>\n        </Typography>\n        <Typography className={classes.marginLeft} variant=\"subtitle1\">\n          v{roots[0]?.metadata?.version ?? \"NaN\"}\n        </Typography>\n      </div>\n\n      <Typography gutterBottom variant=\"body1\">\n        {roots[0]?.metadata?.summary ?? \"NaN\"}\n      </Typography>\n      <div className={classes.linksRow}>\n        <IconText\n          text={roots[0]?.metadata?.license ?? \"NaN\"}\n          icon={<GavelIcon />}\n        />\n        <IconText\n          className={classes.marginLeft}\n          text={\n            \"Latest version published \" +\n            timeSince(\n              new Date(\n                roots[0]?.metadata?.releases?.[\n                  roots[0]?.metadata?.version\n                ]?.[0]?.upload_time\n              )\n            ) +\n            \" ago.\"\n          }\n          icon={<BookmarkIcon />}\n        />\n      </div>\n      {packageWarning && packageWarning.length !== 0\n        ? packageWarning.map(p => {\n            return (\n              <Typography\n                gutterBottom\n                color={\"error\"}\n                className={classes.marginRight}\n                variant=\"body2\"\n              >\n                Dependency <i>{packageWarning[0].value.label}</i>{\" \"}\n                <i>{packageWarning[0].value.metadata.version}</i> is currently\n                not supported by Thoth.\n              </Typography>\n            );\n          })\n        : null}\n    </div>\n  );\n};\n\nexport default PackageHeader;\n","// React\nimport React, { useContext } from \"react\";\n\n// material-ui\nimport { Typography, Chip, Button, Collapse, Alert } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport AccessTimeIcon from \"@material-ui/icons/AccessTime\";\n// local\nimport IconText from \"components/Shared/IconText\";\n\n// utils\nimport { timeSince } from \"utils/timeSince\";\n\n// redux\nimport { StateContext } from \"App\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n  titleRow: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(1)\n  },\n  marginLeft: {\n    marginLeft: theme.spacing(2)\n  },\n  marginRight: {\n    marginRight: theme.spacing(2)\n  },\n  linksRow: {\n    display: \"flex\",\n    marginBottom: theme.spacing(3),\n    alignItems: \"center\"\n  },\n  alert: {\n    width: \"100%\",\n    marginTop: theme.spacing(1)\n  }\n}));\n\nconst CustomAlert = ({ info, ...props }) => {\n  return (\n    <Alert\n      className={props.className}\n      action={\n        <Button color=\"inherit\" size=\"small\" href={info.link}>\n          DETAILS\n        </Button>\n      }\n      severity={info.type.toLowerCase()}\n    >\n      {info.message}\n    </Alert>\n  );\n};\n\nconst AdviseHeader = ({ adviseID }) => {\n  const classes = useStyles();\n  const state = useContext(StateContext);\n  const [expandAlerts, setExpandAlerts] = React.useState(false);\n\n  const calcTime = () => {\n    // if status says finished\n    if (state?.advise?.status?.finished_at) {\n      return (\n        \"Advise finished \" +\n        timeSince(new Date(state.advise.status.finished_at)) +\n        \" ago.\"\n      );\n    }\n    // if status is pending\n    else if (state?.advise?.status?.started_at) {\n      return (\n        \"Advise started \" +\n        timeSince(new Date(state.advise.status.started_at)) +\n        \" ago.\"\n      );\n    }\n    // if status is nulled so use metadata end date\n    else if (state?.advise?.metadata?.datetime) {\n      return (\n        \"Advise finished \" +\n        timeSince(new Date(state.advise.metadata.datetime + \"Z\")) +\n        \" ago.\"\n      );\n    } else {\n      return \"Time started/finished not available\";\n    }\n  };\n\n  const [statusText, statusColor] = (() => {\n    // if report is done\n    if (state?.advise?.report) {\n      if (state.advise.report.ERROR) {\n        return [\"ERROR\", \"error\"];\n      } else {\n        return [\"COMPLETE\", \"success\"];\n      }\n    }\n    // if report is not done\n    else if (state?.advise?.status?.state) {\n      return [state.advise.status.state.toUpperCase(), \"info\"];\n    } else {\n      return [\"UNKNOWN\", undefined];\n    }\n  })();\n\n  const alerts = state?.advise?.report?.stack_info\n    ? state.advise.report.stack_info.filter(alert => {\n        return alert.type === \"ERROR\";\n      })\n    : null;\n\n  return (\n    <div>\n      <Typography variant=\"h4\">\n        <b>{adviseID}</b>\n      </Typography>\n      <div className={classes.linksRow}>\n        <Chip label={statusText} color={statusColor} />\n        <IconText\n          className={classes.marginLeft}\n          text={calcTime()}\n          icon={<AccessTimeIcon />}\n        />\n      </div>\n      {alerts?.length > 0 ? (\n        <div>\n          <CustomAlert info={alerts[0]} />\n          <Collapse in={expandAlerts} timeout=\"auto\" unmountOnExit>\n            {alerts?.slice(1).map(info => {\n              return <CustomAlert info={info} className={classes.alert} />;\n            })}\n          </Collapse>\n\n          <Button\n            color=\"inherit\"\n            size=\"small\"\n            onClick={() => setExpandAlerts(!expandAlerts)}\n          >\n            {alerts?.length > 1 ? (expandAlerts ? \"LESS\" : \"MORE\") : null}\n          </Button>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default AdviseHeader;\n","export function recurseToRoot(start, end, edges) {\n  // get edges coming off of node *start*\n  const starting_edges = edges.filter(edge => start.includes(edge.from));\n\n  // recurse from each starting edge to root (0)\n  // note there could be multiple starting points\n  let combined = { nodes: [], edges: [] };\n  starting_edges.forEach(edge => {\n    const path = recurse(edge, { nodes: [], edges: [] }, edges, end);\n    combined = {\n      nodes: [...new Set([...path.nodes, ...combined.nodes])],\n      edges: [...new Set([...path.edges, ...combined.edges])]\n    };\n  });\n\n  return combined;\n}\n\nfunction recurse(edge, selection, edges, end) {\n  // cycle or allready visited OR\n  if (selection.edges.includes(edge.id)) {\n    return selection;\n  }\n\n  // add the edge id and nodes at either end of edge to selection\n  selection.nodes.push(edge.from, edge.to);\n  selection.edges.push(edge.id);\n\n  // cycle or allready visited OR\n  if (edge.to === end) {\n    return selection;\n  } else {\n    // find the next edges to go\n    // combine voth recursion branches together while removing dups\n    // return combined branches as one\n    let combined = { nodes: [], edges: [] };\n    edges\n      .filter(e => e.from === edge.to)\n      .forEach(e => {\n        const path = recurse(e, selection, edges, end);\n        combined = {\n          nodes: [...new Set([...path.nodes, ...combined.nodes])],\n          edges: [...new Set([...path.edges, ...combined.edges])]\n        };\n      });\n\n    return combined;\n  }\n}\n","export const options = {\n  manipulation: {\n    enabled: false,\n    editNode: function(nodeData, callback) {\n      nodeData.fixed = !nodeData.fixed.x;\n      callback(nodeData);\n    }\n  },\n  interaction: {\n    hover: true,\n    hoverConnectedEdges: false,\n    selectConnectedEdges: false,\n    selectable: false\n  },\n  edges: {\n    chosen: false,\n    smooth: false,\n    color: {\n      color: \"#5c6470\"\n    },\n    arrowStrikethrough: false,\n    arrows: {\n      from: {\n        enabled: true,\n        type: \"triangle\"\n      }\n    }\n  },\n  nodes: {\n    chosen: false,\n    color: {\n      background: \"#5c6470\",\n      border: \"#fff\",\n      hover: {\n        background: \"#f39200\",\n        border: \"#fff\"\n      }\n    },\n    shape: \"dot\",\n    size: 10,\n    borderWidth: 2,\n    labelHighlightBold: false,\n    font: {\n      color: \"#393e46\",\n      strokeWidth: 2,\n      size: 15\n    }\n  },\n  physics: {\n    hierarchicalRepulsion: {\n      damping: 0.1,\n      springLength: 200\n    },\n    solver: \"hierarchicalRepulsion\",\n    minVelocity: 0.15\n  }\n};\n","// react\nimport React, { useEffect, useRef } from \"react\";\n\n// utils and configs\nimport { recurseToRoot } from \"utils/recurseToRoot\";\nimport { options } from \"config/networkOptions\";\n\n// vis-network\nimport { Network } from \"vis-network/standalone/esm/vis-network\";\n\n// material ui\nimport SearchBar from \"components/Shared/SearchBar\";\nimport { makeStyles } from \"@material-ui/styles\";;\n\n// styling\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\"\n  },\n  canvas: {\n    flex: \"1 1 auto\",\n    height: \"75vh\"\n  }\n}));\n\nconst NetworkGraph = ({ data, searchText, root, ...props }) => {\n  const visJsRef = useRef(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    const network =\n      visJsRef.current && new Network(visJsRef.current, data, options);\n\n    // set root node to have specific color\n    const rootNode = data.nodes.get(root);\n    rootNode.color = \"#4fc1ea\";\n    rootNode.font = { color: \"#4fc1ea\", strokeWidth: 3, size: 20 };\n    data.nodes.updateOnly(rootNode);\n\n    // change curser when hovering and grabbing\n    // Get the canvas HTML element\n    var networkCanvas = document\n      .getElementById(\"mynetwork\")\n      .getElementsByTagName(\"canvas\")[0];\n\n    // changes the curser graphic depedning on where and what the mouse is doing\n    function changeCursor(newCursorStyle) {\n      networkCanvas.style.cursor = newCursorStyle;\n    }\n    network.on(\"hoverNode\", function() {\n      changeCursor(\"grab\");\n    });\n    network.on(\"blurNode\", function() {\n      changeCursor(\"default\");\n    });\n    network.on(\"dragStart\", function() {\n      changeCursor(\"grabbing\");\n    });\n    network.on(\"dragging\", function() {\n      changeCursor(\"grabbing\");\n    });\n    network.on(\"dragEnd\", function() {\n      changeCursor(\"grab\");\n    });\n\n    // fix (stick in place) node when done dragging\n    network.on(\"dragEnd\", function(params) {\n      if (params.nodes.length !== 0) {\n        network.editNode(params.nodes[0]);\n      }\n    });\n\n    // un stick node if already stuck\n    network.on(\"dragStart\", function(params) {\n      // check if node has not been touched or is fixed\n      // if fixed then un fix\n      if (\n        params.nodes.length !== 0 &&\n        network.body.nodes[params.nodes[0]].options.x !== undefined &&\n        network.body.nodes[params.nodes[0]].options.x\n      ) {\n        // un fix node\n        network.editNode(params.nodes[0]);\n      }\n    });\n  }, [visJsRef, data, root]);\n\n  // recursivly finds all paths from search result to root\n  const handleSearch = (query, data) => {\n    // clear selection if empty search bar\n    data.nodes.updateOnly(\n      data.nodes.get().map(e => {\n        if (e.id !== root) {\n          e[\"color\"] = options.nodes.color;\n          e[\"font\"] = options.nodes.font;\n        }\n        return e;\n      })\n    );\n\n    // reset edge colors\n    data.edges.updateOnly(\n      data.edges.get().map(e => {\n        e[\"color\"] = options.edges.color;\n        return e;\n      })\n    );\n\n    if (query === \"\") {\n      // reset node colors\n      return;\n    }\n\n    // use input text to find possible results\n    let possible_results = data.nodes.get({\n      filter: function(node) {\n        return node.label.includes(query);\n      }\n    });\n\n    // recurse through possible results\n    const selected = recurseToRoot(\n      possible_results.map(node => node.id),\n      root,\n      data.edges.map(e => e)\n    );\n\n    // grey out non search results\n    // nodes that are not in search results\n    const unselected_edges = data.edges\n      .get()\n      .filter(edge => !selected.edges.includes(edge.id))\n      .map(e => {\n        e[\"color\"] = { color: \"#e3e5e8\" };\n        return e;\n      });\n\n    // edges that are not in search results\n    const unselected_nodes = data.nodes\n      .get()\n      .filter(node => !selected.nodes.includes(node.id))\n      .map(e => {\n        if (e.id !== root) {\n          e[\"color\"] = { background: \"#e3e5e8\" };\n          e[\"font\"] = { color: \"#e3e5e8\", strokeWidth: 2, size: 15 };\n        }\n        return e;\n      });\n\n    // set searched nodes to a different color\n    possible_results = possible_results.map(e => {\n      if (e.id !== root) {\n        e[\"color\"] = { background: \"#f39200\" };\n      }\n      return e;\n    });\n\n    // update nodes and edges in the dataset\n    data.nodes.updateOnly(unselected_nodes.concat(possible_results));\n    data.edges.updateOnly(unselected_edges);\n  };\n\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      <SearchBar\n        label=\"Filter packages\"\n        onChange={text => handleSearch(text, data)}\n      />\n      <div ref={visJsRef} id=\"mynetwork\" className={classes.canvas} />\n    </div>\n  );\n};\n\nexport default NetworkGraph;\n","/**\n * Graph node/vertex that hold adjacencies nodes\n * For performance, uses a HashSet instead of array for adjacents.\n */\nexport class Node {\n  constructor(key, value) {\n    this.adjacents = new Set(); // adjacency list\n    this.key = key; // key\n    this.value = value;\n  }\n\n  /**\n   * Add node to adjacency list\n   * Runtime: O(1)\n   * @param {Node} node\n   */\n  addAdjacent(node) {\n    this.adjacents.add(node);\n  }\n\n  /**\n   * Check if a Node is adjacent to other\n   * Runtime: O(1)\n   * @param {Node} node\n   */\n  isAdjacent(node) {\n    return this.adjacents.has(node);\n  }\n\n  /**\n   * Get all adjacent nodes\n   */\n  getAdjacents() {\n    return Array.from(this.adjacents);\n  }\n}\n","import { Node } from \"utils/Node\";\n\n/**\n * Graph data structure implemented with an adjacent list\n */\nexport class Graph {\n  constructor() {\n    this.nodes = new Map();\n  }\n\n  /**\n   * Add a node to the graph.\n   */\n  addVertex(key, value) {\n    if (this.nodes.has(key)) {\n      return this.nodes.get(key);\n    }\n\n    const vertex = new Node(key, value);\n    this.nodes.set(key, vertex);\n    return vertex;\n  }\n\n  /**\n   * Create a connection between the source node and the destination node.\n   * If the nodes don't exist, then it will make them on the fly.\n   */\n  addEdge(source, destination) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n\n    sourceNode.addAdjacent(destinationNode);\n\n    return [sourceNode, destinationNode];\n  }\n\n  /**\n   * True if two nodes are adjacent.\n   */\n  areAdjacents(source, destination) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n\n    if (sourceNode && destinationNode) {\n      return sourceNode.isAdjacent(destinationNode);\n    }\n\n    return false;\n  }\n\n  /**\n   * Generic graph search where we can pass a bfs or dfs\n   */\n  *graphSearch(first, type = \"bfs\") {\n    const visited = new Map();\n    const visitList = [];\n\n    visitList.push(first);\n\n    while (visitList.length !== 0) {\n      const node = type === \"dfs\" ? visitList.pop() : visitList.shift();\n      if (node && !visited.has(node)) {\n        yield node;\n        visited.set(node);\n        node.getAdjacents().forEach(adj => visitList.push(adj));\n      }\n    }\n  }\n\n  /**\n   * Find a path between source and destination\n   * It might not be the optimal path\n   */\n  findPath(source, destination, path = new Map()) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n    const newPath = new Map(path);\n\n    if (!destinationNode || !sourceNode) return [];\n\n    newPath.set(sourceNode);\n\n    if (source === destination) {\n      return Array.from(newPath.keys());\n    }\n\n    // eslint-disable-next-line no-restricted-syntax\n    for (const node of sourceNode.getAdjacents()) {\n      if (!newPath.has(node)) {\n        const nextPath = this.findPath(node.value, destination, newPath);\n        if (nextPath.length) {\n          return nextPath;\n        }\n      }\n    }\n\n    return [];\n  }\n\n  /**\n   * Find all paths from source to destination\n   */\n  findAllPaths(source, destination, path = new Map()) {\n    const sourceNode = this.nodes.get(source);\n    const destinationNode = this.nodes.get(destination);\n    const newPath = new Map(path);\n\n    if (!destinationNode || !sourceNode) return [];\n\n    newPath.set(sourceNode);\n\n    if (source === destination) {\n      return [Array.from(newPath.keys())];\n    }\n\n    const paths = [];\n    sourceNode.getAdjacents().forEach(node => {\n      if (!newPath.has(node)) {\n        const nextPaths = this.findAllPaths(node.value, destination, newPath);\n        nextPaths.forEach(nextPath => paths.push(nextPath));\n      }\n    });\n    return paths;\n  }\n}\n","// React\nimport React, { useContext } from \"react\";\n\n// local components\nimport NetworkGraph from \"components/Metrics/NetworkGraph.js\";\n\n// utils\nimport { useFormatVisGraph } from \"utils/produceMetrics\";\n\n// material-ui\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// redux\nimport { StateContext } from \"App\";\n\n//vis-dataset\nimport { DataSet } from \"vis-network/standalone/esm/vis-network\";\n\nconst useStyles = makeStyles(theme => ({\n  graph: {\n    padding: theme.spacing(4)\n  }\n}));\n\nconst PackageDependencies = () => {\n  const classes = useStyles();\n  const state = useContext(StateContext);\n  const root = state.focus ?? \"*App\";\n\n  const visGraph = useFormatVisGraph(root, state.graph);\n\n  return (\n    <LoadingErrorTemplate isLoading={visGraph === undefined}>\n      <Paper>\n        <NetworkGraph\n          data={{\n            nodes: new DataSet(visGraph?.nodes),\n            edges: new DataSet(visGraph?.edges)\n          }}\n          className={classes.graph}\n          root={root}\n        />\n      </Paper>\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default PackageDependencies;\n","import { thothSearchForPackage } from \"services/thothApi\";\n\n// utils\nimport { Graph } from \"utils/Graph\";\n\n// redux\nimport { DispatchContext } from \"App\";\n\nimport { useContext, useEffect, useState } from \"react\";\n\n// React hook for computing metrics and applying to state\nexport function useComputeMetrics(graph, roots) {\n  const dispatch = useContext(DispatchContext);\n\n  useEffect(() => {\n    if (!graph || !roots) {\n      return;\n    }\n\n    let dependencies = {\n      all: {},\n      roots: {}\n    };\n\n    let licenses = { total: undefined, all: {} };\n\n    // for each starting node\n    Object.keys(roots).forEach(root => {\n      const bfs = graph.graphSearch(graph.nodes.get(root));\n      const visitedOrder = Array.from(bfs);\n\n      // depth to type of dependency\n      visitedOrder.forEach(node => {\n        const depth =\n          node.value.depth === 0 || root === node.value.id\n            ? \"roots\"\n            : node.value.depth === 1\n            ? \"direct\"\n            : \"indirect\";\n\n        // dependency metric\n        dependencies = {\n          all: {\n            ...dependencies.all,\n            [depth]: (dependencies.all[depth] ?? 0) + 1\n          },\n          roots: {\n            ...dependencies.roots,\n            [root]: {\n              ...(dependencies.roots[root] ?? null),\n              [depth]: (dependencies.roots?.[root]?.[depth] ?? 0) + 1\n            }\n          }\n        };\n\n        // licence metric\n        licenses = {\n          total: (licenses.total ?? 0) + 1,\n          root: licenses.root ?? node.value.metadata.license,\n          all: {\n            ...licenses.all,\n            [node.value.metadata.license]: {\n              ...(licenses.all[node.value.metadata.license] ?? null),\n              [node.value.label]: node.value.depth\n            }\n          }\n        };\n      });\n    });\n\n    // apply metrics to global state\n    dispatch({\n      type: \"metric\",\n      metric: \"dependencies\",\n      payload: dependencies\n    });\n    dispatch({\n      type: \"metric\",\n      metric: \"licenses\",\n      payload: licenses\n    });\n  }, [graph, dispatch, roots]);\n}\n\nexport function useFormatVisGraph(root, graph) {\n  const [visGraph, setVisGraph] = useState(undefined);\n\n  useEffect(() => {\n    if (!root || !graph) {\n      return;\n    }\n\n    const data = {\n      nodes: [],\n      edges: []\n    };\n\n    graph.nodes.forEach((value, key, map) => {\n      const node = map.get(key);\n      data.nodes.push({\n        id: node.value.id,\n        label: node.value.label\n      });\n\n      node.adjacents.forEach(adj => {\n        data.edges.push({\n          to: node.value.id,\n          from: adj.value.id\n        });\n      });\n    });\n\n    setVisGraph(data);\n  }, [root, graph]);\n\n  return visGraph;\n}\n\nexport function useLockFileToGraph(pipfile, pipfileLock) {\n  const dispatch = useContext(DispatchContext);\n\n  useEffect(() => {\n    if (!pipfile || !pipfileLock) {\n      return;\n    }\n\n    const graph = new Graph();\n\n    (async () => {\n      const cantBeRoots = [];\n\n      await Promise.all(\n        // create nodes\n        Object.entries(pipfileLock).map(async ([key, value]) => {\n          // if package in pipfile has a match in the pipfile.lock\n          await thothSearchForPackage(\n            key,\n            value.version.replace(\"==\", \"\")\n          ).then(metadata => {\n            const value = {\n              id: metadata.name.toLowerCase(),\n              label: metadata.name,\n              depth: null,\n              metadata: metadata\n            };\n\n            // add root to graph\n            graph.addVertex(value.id, value);\n\n            // add to cantBeRoots list\n            metadata.requires_dist?.forEach(adj => {\n              const adjacentName = adj.split(\" \", 1)[0];\n              const adjacentData = pipfileLock[adjacentName];\n\n              // if package exists in lockfile\n              if (adjacentData) {\n                cantBeRoots.push(adjacentName);\n              }\n            });\n          });\n        })\n      );\n\n      // get roots\n      const visited = new Map();\n      const visitList = [];\n      graph.nodes.forEach((value, key, map) => {\n        if (!cantBeRoots.includes(key) || Object.keys(pipfile).includes(key)) {\n          const node = map.get(key);\n          node.value.depth = 0;\n          visitList.push(node);\n        }\n      });\n\n      // run dfs to connect nodes\n\n      const promiseWhile = (data, condition, action) => {\n        var whilst = data => {\n          return condition(data)\n            ? action().then(whilst)\n            : Promise.resolve(data);\n        };\n        return whilst(data);\n      };\n\n      await promiseWhile(\n        visitList,\n        i => i.length > 0,\n        () => {\n          const node = visitList.pop();\n          if (node && !visited.has(node)) {\n            visited.set(node);\n\n            // get dependencies\n            if (node?.value?.metadata?.requires_dist) {\n              // for each dependency, parse to get name\n              node.value.metadata.requires_dist.map(async adj => {\n                const adjacentNode = graph.nodes.get(adj.split(\" \", 1)[0]);\n\n                // if package exists in lockfile\n                if (adjacentNode) {\n                  // update depth\n                  adjacentNode.value.depth = node.value.depth + 1;\n\n                  // add edge connecting parent and dependency\n                  graph.addEdge(node.key, adjacentNode.value.id);\n                  await visitList.push(adjacentNode);\n                }\n              });\n            }\n          }\n          return new Promise((resolve, reject) => {\n            resolve(visitList);\n          });\n        }\n      );\n\n      const value = {\n        id: \"*App\",\n        label: \"App\",\n        depth: -1\n      };\n\n      // add app to graph\n      const app = graph.addVertex(value.id, value);\n\n      Object.keys(pipfile).forEach(root => {\n        if (graph.nodes.get(root)) {\n          graph.addEdge(app.key, root);\n        }\n      });\n    })().then(() => {\n      dispatch({\n        type: \"graph\",\n        payload: graph\n      });\n    });\n  }, [pipfile, pipfileLock, dispatch]);\n}\n","// React\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\n// local\nimport PackageMetrics from \"components/Dashboard/PackageMetrics\";\nimport PackageHeader from \"components/Dashboard/PackageHeader\";\nimport AdviseHeader from \"components/Dashboard/AdviseHeader\";\n\nimport TabPanel from \"components/Shared/TabPanel\";\nimport PackageDependencies from \"components/Dashboard/PackageDependencies\";\n\n// utils\nimport { useComputeMetrics, useLockFileToGraph } from \"utils/produceMetrics\";\nimport { useInterval } from \"utils/useInterval\";\n\n// api\nimport { thothAdviseResult, thothAdviseStatus } from \"services/thothApi\";\n\n// redux\nimport { StateContext, DispatchContext } from \"App\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Tab, Tabs, Typography } from \"@material-ui/core\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    maxWidth: \"95%\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    paddingRight: theme.spacing(3),\n    paddingLeft: theme.spacing(3),\n    marginTop: theme.spacing(4)\n  }\n}));\n\n// The page that displays all analyis data\nexport const Dashboard = ({ location }) => {\n  const classes = useStyles();\n  const params = useParams();\n  const state = useContext(StateContext);\n  const dispatch = useContext(DispatchContext);\n\n  // for tab control\n  const [value, setValue] = useState(0);\n\n  // delay for each status api call\n  const [pollingTime, setPollingTime] = useState(null);\n\n  const getStatus = () => {\n    thothAdviseStatus(params.analysis_id).then(response => {\n      // set next polling delay\n      const status = response.data.status;\n\n      dispatch({\n        type: \"advise\",\n        param: \"status\",\n        payload: status\n      });\n\n      // check if advise is done\n      // if done then turn off polling whcih triggers another call for results\n      if (status.finished_at !== null) {\n        setPollingTime(null);\n      } else {\n        setPollingTime(\n          pollingTime !== null ? Math.min(pollingTime * 2, 8000) : null\n        );\n      }\n    });\n  };\n\n  // first reset state if using new anyalysis id\n  useEffect(() => {\n    if (!state?.analysis_id || params.analysis_id !== state?.analysis_id) {\n      dispatch({\n        type: \"reset\"\n      });\n      dispatch({\n        type: \"advise\",\n        param: \"analysis_id\",\n        payload: params.analysis_id\n      });\n    }\n  }, [params.analysis_id, state?.analysis_id, dispatch]);\n\n  // fetch results of advise\n  useEffect(() => {\n    // only run if polling is turned off (meaning the result is ready)\n    if (pollingTime !== null) {\n      return;\n    }\n\n    // get results of advise request\n    thothAdviseResult(params.analysis_id).then(response => {\n      const data = response.data;\n\n      // if cant run advise error\n      if (response.status === 400 || response.status === 404) {\n        // set error and stop polling\n        setPollingTime(null);\n        dispatch({\n          type: \"advise\",\n          param: \"error\",\n          payload: data.error\n        });\n      }\n\n      // if not done then start polling\n      else if (response.status === 202) {\n        if (response.data.status.state === \"error\") {\n          dispatch({\n            type: \"advise\",\n            param: \"status\",\n            payload: response.data.status\n          });\n        } else {\n          setPollingTime(500);\n        }\n      }\n\n      // if done then set results and stop polling\n      // note this could also have an error but should of been stopped above\n      else if (response.status === 200) {\n        // stop polling when done\n        setPollingTime(null);\n\n        if (data.result?.error) {\n          dispatch({\n            type: \"advise\",\n            param: \"error\",\n            payload: data.result.error_msg\n          });\n        }\n        dispatch({\n          type: \"advise\",\n          param: \"initProject\",\n          payload: data.result.parameters.project\n        });\n        dispatch({\n          type: \"advise\",\n          param: \"report\",\n          payload: data.result.report\n        });\n        dispatch({\n          type: \"advise\",\n          param: \"metadata\",\n          payload: data.metadata\n        });\n      }\n      // if an unknown response occured\n      else {\n        dispatch({\n          type: \"advise\",\n          param: \"error\",\n          payload: \"Unknown Error: Aborting\"\n        });\n      }\n    });\n  }, [params.analysis_id, dispatch, pollingTime]);\n\n  useInterval(() => {\n    getStatus();\n  }, pollingTime);\n\n  // .products[0].project\n  useLockFileToGraph(\n    state?.advise?.initProject?.requirements?.packages,\n    state?.advise?.initProject?.requirements_locked?.default\n  );\n  useComputeMetrics(\n    state.graph,\n    state?.advise?.initProject?.requirements?.packages\n  );\n\n  // handle tab change\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div className={classes.root}>\n      {state?.focus ? (\n        <PackageHeader />\n      ) : (\n        <AdviseHeader adviseID={params.analysis_id} />\n      )}\n      {state?.roots?.map(r => {\n        if (r.error) {\n          return (\n            <Typography color=\"error\" gutterBottom variant=\"body2\">\n              {r.error}\n            </Typography>\n          );\n        }\n        return null;\n      })}\n      <Tabs\n        value={value}\n        onChange={handleChange}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n      >\n        <Tab label=\"Overview\" />\n        <Tab label=\"Dependencies\" />\n      </Tabs>\n      <TabPanel value={value} index={0}>\n        <PackageMetrics />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <PackageDependencies />\n      </TabPanel>\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import { useEffect, useRef } from \"react\";\n\nexport const useInterval = (callback, delay) => {\n  const savedCallback = useRef();\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      const id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n","import { Route, Switch } from \"react-router-dom\";\nimport { ROOT, DASHBOARD } from \"./CONSTANTS\";\nimport NotFound from \"./NotFound\";\nimport Home from \"pages/Home/Home\";\nimport Dashboard from \"pages/Dashboard/Dashboard\";\n\nexport const RouterConfig = () => {\n  return (\n    <Switch>\n      <Route exact path={ROOT} component={Home} />\n      <Route exact path={DASHBOARD + \"/:analysis_id\"} component={Dashboard} />\n\n      <Route path=\"*\" status={404}>\n        <NotFound />\n      </Route>\n    </Switch>\n  );\n};\n\nexport default RouterConfig;\n","export const REPONAME = \"/thoth-search\";\nexport const ROOT = \"/\";\nexport const DASHBOARD = \"/dashboard\";\n","export function reducer(state, action) {\n  switch (action.type) {\n    case \"graph\":\n      return { ...state, graph: action.payload };\n    case \"metric\":\n      return {\n        ...state,\n        metrics: {\n          ...state.metrics,\n          [action.metric]: action.payload\n        }\n      };\n    case \"error\": {\n      return {\n        ...state,\n        error: action.payload\n      };\n    }\n    case \"advise\": {\n      return {\n        ...state,\n        advise: {\n          ...state.advise,\n          [action.param]: action.payload\n        }\n      };\n    }\n    case \"packageWarning\": {\n      return {\n        ...state,\n        packageWarning: action.payload\n      };\n    }\n    case \"reset\": {\n      return initState;\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport const initState = {};\n","// local utils and configs\nimport { themeLight } from \"styles/theme\";\n\n// ROUTER\nimport { BrowserRouter } from \"react-router-dom\";\nimport { RouterConfig } from \"navigation/RouterConfig\";\nimport { REPONAME } from \"navigation/CONSTANTS\";\n\n// material ui\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\n// react\nimport React, { useReducer } from \"react\";\n\n// redux\nimport { reducer, initState } from \"redux/reducer\";\n\n// context for reducer\nexport const StateContext = React.createContext();\nexport const DispatchContext = React.createContext();\n\nfunction App() {\n  // for state control\n  const [state, dispatch] = useReducer(reducer, initState);\n  return (\n    <ThemeProvider theme={themeLight}>\n      <CssBaseline />\n      <BrowserRouter basename={REPONAME}>\n        <StateContext.Provider value={state}>\n          <DispatchContext.Provider value={dispatch}>\n            <RouterConfig />\n          </DispatchContext.Provider>\n        </StateContext.Provider>\n      </BrowserRouter>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}