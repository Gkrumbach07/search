(this["webpackJsonpthoth-search"]=this["webpackJsonpthoth-search"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),i=n(88),s=n(3);o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(i.a,{})}),document.getElementById("root"))},88:function(e,t,n){"use strict";(function(e){var a=n(89),r=n(50),c=n(98),o=n(150),i=n(151),s=n(3);e.packagesReleases={},t.a=function(){return Object(s.jsxs)(o.a,{theme:a.a,children:[Object(s.jsx)(i.a,{}),Object(s.jsx)(r.a,{children:Object(s.jsx)(c.a,{})})]})}}).call(this,n(62))},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(69),r=Object(a.a)({palette:{background:{default:"#f9f9f9"}}})},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return je}));var a=n(11),r="/dashboard",c=n(33),o=n(3),i=function(){return Object(o.jsx)(c.a,{variant:"h2",children:"404: page not found!"})},s=n(36),d=n(0),l=n.n(d),u=n(189),f=n(187),j=n(197),b=Object(f.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"stretch",flexGrow:1}}})),h=function(e){var t=e.onChange,n=e.label,a=e.helperText,r=e.error,c=void 0!==r&&r,i=b();return Object(o.jsx)("div",{className:i.root,children:Object(o.jsx)(j.a,{type:"search",variant:"outlined",label:n,className:i.bar,onChange:function(e){return t(e.target.value)},helperText:a,error:c})})},p=n(66),g=n.n(p),x="https://api.moc.thoth-station.ninja/api/v1",O=function(e,t){return g.a.get("https://pypi.org/pypi/"+e+(t?"/"+t:"")+"/json")},m=Object(f.a)((function(e){return{root:{display:"flex",flexFlow:"column nowrap",alignItems:"center",marginTop:"20%"},search:{display:"flex",justifyContent:"center",alignItems:"stretch",minWidth:"50%"},description:{marginBottom:e.spacing(6)},title:{marginBottom:e.spacing(1)},button:{marginLeft:e.spacing(2)}}})),v=function(){var e=Object(a.f)(),t=m(),n=Object(d.useState)(""),r=Object(s.a)(n,2),i=r[0],l=r[1],f=Object(d.useState)(""),j=Object(s.a)(f,2),b=j[0],p=j[1];return Object(o.jsxs)("div",{className:t.root,children:[Object(o.jsx)(c.a,{variant:"h4",className:t.title,children:Object(o.jsx)("b",{children:"Thoth Search"})}),Object(o.jsx)(c.a,{variant:"body1",className:t.description,children:"Use this search box to lookup specific Python packages."}),Object(o.jsxs)("div",{className:t.search,children:[Object(o.jsx)(h,{label:"Search for a Python package",onChange:function(e){return function(e){l(e),""!==b&&p("")}(e)},helperText:b,error:""!==b}),Object(o.jsx)(u.a,{variant:"contained",color:"primary",onClick:function(){""!==i&&O(i).then((function(t){e.push("/dashboard?q="+i,t.data)})).catch((function(){p("No results")}))},className:t.button,children:Object(o.jsx)("b",{children:"Search"})})]})]})},y=n(190),k=n(192),w=n(191),N=Object(f.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),S=function(e){var t=e.cardMeta,n=e.cardBody,a=N();return Object(o.jsxs)(y.a,{className:a.root,children:[Object(o.jsx)(w.a,{action:t.action,title:t.title,subheader:t.subTitle}),Object(o.jsx)(k.a,{children:n})]})},B=n(193),C=function(e){e.data;return Object(o.jsxs)(B.a,{container:!0,spacing:3,children:[Object(o.jsx)(B.a,{item:!0,xs:6,children:Object(o.jsx)(S,{cardMeta:{title:"Dependencies"},cardBody:null})}),Object(o.jsx)(B.a,{item:!0,xs:6,children:Object(o.jsx)(S,{cardMeta:{title:"Licenses"},cardBody:null})}),Object(o.jsx)(B.a,{item:!0,xs:6,children:Object(o.jsx)(S,{cardMeta:{title:"Security Advisories"},cardBody:null})})]})},E=n(94),M=n.n(E),R=n(95),L=n.n(R),T=n(38),W=Object(f.a)((function(e){return{root:{display:"flex"}}})),I=function(e){var t=e.text,n=e.icon,a=e.link,r=Object(T.a)(e,["text","icon","link"]),i=W();return Object(o.jsxs)("div",{className:"".concat(i.root," ").concat(r.className),children:[n,Object(o.jsx)(c.a,{href:a||null,variant:"body2",align:"center",children:t})]})};function z(e){var t=Math.floor((new Date-e)/1e3),n=t/31536e3;if(n>1){var a=Math.floor(n);return a+" year"+(1!==a?"s":"")}if((n=t/2592e3)>1){var r=Math.floor(n);return r+" month"+(1!==r?"s":"")}if((n=t/86400)>1){var c=Math.floor(n);return c+" day"+(1!==c?"s":"")}if((n=t/3600)>1){var o=Math.floor(n);return o+" hour"+(1!==o?"s":"")}if((n=t/60)>1){var i=Math.floor(n);return i+" minute"+(1!==i?"s":"")}var s=Math.floor(t);return s+" second"+(1!==s?"s":"")}var D=Object(f.a)((function(e){return{titleRow:{display:"flex",alignItems:"center",marginBottom:e.spacing(1)},marginLeft:{marginLeft:e.spacing(2)},linksRow:{display:"flex",marginBottom:e.spacing(3)}}})),F=function(e){var t=e.data,n=D();return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:n.titleRow,children:[Object(o.jsx)(c.a,{variant:"h4",children:Object(o.jsx)("b",{children:t.info.name})}),Object(o.jsxs)(c.a,{className:n.marginLeft,variant:"subtitle1",children:["v",t.info.version]})]}),Object(o.jsx)(c.a,{gutterBottom:!0,variant:"body1",children:t.info.summary}),Object(o.jsxs)("div",{className:n.linksRow,children:[Object(o.jsx)(I,{text:t.info.license,icon:Object(o.jsx)(M.a,{})}),Object(o.jsx)(I,{className:n.marginLeft,text:"Latest version published "+z(new Date(t.releases[t.info.version][0].upload_time))+" ago.",icon:Object(o.jsx)(L.a,{})})]})]})},G=n(71),J=n(198),P=function(e){var t=e.children,n=e.value,a=e.index,r=Object(T.a)(e,["children","value","index"]);return Object(o.jsx)("div",Object(G.a)(Object(G.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(o.jsx)(J.a,{children:t})}))},q=n(17);function A(e,t,n){var a=n.filter((function(t){return e.includes(t.from)})),r={nodes:[],edges:[]};return a.forEach((function(e){var a=H(e,{nodes:[],edges:[]},n,t);r={nodes:Object(q.a)(new Set([].concat(Object(q.a)(a.nodes),Object(q.a)(r.nodes)))),edges:Object(q.a)(new Set([].concat(Object(q.a)(a.edges),Object(q.a)(r.edges))))}})),r}function H(e,t,n,a){if(t.edges.includes(e.id))return t;if(t.nodes.push(e.from,e.to),t.edges.push(e.id),e.to===a)return t;var r={nodes:[],edges:[]};return n.filter((function(t){return t.from===e.to})).forEach((function(e){var c=H(e,t,n,a);r={nodes:Object(q.a)(new Set([].concat(Object(q.a)(c.nodes),Object(q.a)(r.nodes)))),edges:Object(q.a)(new Set([].concat(Object(q.a)(c.edges),Object(q.a)(r.edges))))}})),r}var U={manipulation:{enabled:!1,editNode:function(e,t){e.fixed=!e.fixed.x,t(e)}},interaction:{hover:!0,hoverConnectedEdges:!1,selectConnectedEdges:!1,selectable:!1},edges:{chosen:!1,smooth:!1,color:{color:"#5c6470"},arrowStrikethrough:!1,arrows:{from:{enabled:!0,type:"triangle"}}},nodes:{chosen:!1,color:{background:"#5c6470",border:"#fff",hover:{background:"#f39200",border:"#fff"}},shape:"dot",size:10,borderWidth:2,labelHighlightBold:!1,font:{color:"#393e46",strokeWidth:2,size:15}},physics:{hierarchicalRepulsion:{damping:.1,springLength:200},solver:"hierarchicalRepulsion",minVelocity:.15}},V=n(32),Y=Object(f.a)((function(e){return{root:{display:"flex",flexFlow:"column nowrap"},canvas:{flex:"1 1 auto",height:"75vh"}}})),_=function(e){var t=e.data,n=(e.searchText,e.root),a=Object(T.a)(e,["data","searchText","root"]),r=Object(d.useRef)(null),c=Y(),i=null;Object(d.useEffect)((function(){i=r.current&&new V.b(r.current,t,U);var e=t.nodes.get(n);e.color="#4fc1ea",e.font={color:"#4fc1ea",strokeWidth:3,size:20},t.nodes.updateOnly(e);var a=document.getElementById("mynetwork").getElementsByTagName("canvas")[0];function c(e){a.style.cursor=e}i.on("hoverNode",(function(){c("grab")})),i.on("blurNode",(function(){c("default")})),i.on("dragStart",(function(){c("grabbing")})),i.on("dragging",(function(){c("grabbing")})),i.on("dragEnd",(function(){c("grab")})),i.on("dragEnd",(function(e){0!==e.nodes.length&&i.editNode(e.nodes[0])})),i.on("dragStart",(function(e){0!==e.nodes.length&&void 0!==i.body.nodes[e.nodes[0]].options.x&&i.body.nodes[e.nodes[0]].options.x&&i.editNode(e.nodes[0])}))}),[r,t,i]);return Object(o.jsxs)("div",{className:"".concat(c.root," ").concat(a.className),children:[Object(o.jsx)(h,{label:"Filter packages",onChange:function(e){return function(e,t,a){if(t.nodes.updateOnly(t.nodes.get().map((function(e){return e.id!==n&&(e.color=U.nodes.color,e.font=U.nodes.font),e}))),t.edges.updateOnly(t.edges.get().map((function(e){return e.color=U.edges.color,e}))),""!==e){var r=t.nodes.get({filter:function(t){return t.label.includes(e)}}),c=A(r.map((function(e){return e.id})),n,t.edges.map((function(e){return e}))),o=t.edges.get().filter((function(e){return!c.edges.includes(e.id)})).map((function(e){return e.color={color:"#e3e5e8"},e})),i=t.nodes.get().filter((function(e){return!c.nodes.includes(e.id)})).map((function(e){return e.id!==n&&(e.color={background:"#e3e5e8"},e.font={color:"#e3e5e8",strokeWidth:2,size:15}),e}));r=r.map((function(e){return e.id!==n&&(e.color={background:"#f39200"}),e})),t.nodes.updateOnly(i.concat(r)),t.edges.updateOnly(o)}}(e,t)}}),Object(o.jsx)("div",{ref:r,id:"mynetwork",className:c.canvas})]})},K=n(45),Q=n.n(K),X=n(96),Z=n(97),$=n.n(Z);function ee(e,t){var n=[],a=[];return n.push({id:e+t,label:e}),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://pypi.org/simple";return g.a.get(x+"/python/package/dependencies",{params:{name:e,version:t,index:n},headers:{accept:"application/json"}})}(e,t).then((function(e){var t=e.data.dependencies;return t=t.sort((function(e,t){return $()(e.version,t.version)}))})).then(function(){var r=Object(X.a)(Q.a.mark((function r(c){var o,i;return Q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=Q.a.mark((function r(o){return Q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,O(c[o].name,c[o].version).then((function(r){n.push({id:c[o].name+c[o].version,label:c[o].name}),a.push({to:e+t,from:c[o].name+c[o].version})}));case 2:case"end":return r.stop()}}),r)})),i=c.length-1;case 2:if(!(i>=0)){r.next=7;break}return r.delegateYield(o(i),"t0",4);case 4:i--,r.next=2;break;case 7:return r.abrupt("return",{nodes:new V.a(n),edges:new V.a(a)});case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}var te=n(149),ne=Object(f.a)((function(e){return{graph:{padding:e.spacing(4)}}})),ae=function(e){var t=e.data,n=ne(),a=Object(d.useState)(void 0),r=Object(s.a)(a,2),c=r[0],i=r[1];return Object(d.useEffect)((function(){ee(t.info.name,t.info.version).then((function(e){i(e)}))}),[t]),Object(o.jsx)(te.a,{children:void 0!==c?Object(o.jsx)(_,{data:c,className:n.graph,root:t.info.name+t.info.version}):null})},re=n(199),ce=n(194),oe=Object(f.a)((function(e){return{root:{flexGrow:1,maxWidth:"1440px",marginLeft:"auto",marginRight:"auto",paddingRight:e.spacing(3),paddingLeft:e.spacing(3),marginTop:e.spacing(4)}}})),ie=function(e){var t=e.location,n=oe(),a=t.state,r=l.a.useState(0),c=Object(s.a)(r,2),i=c[0],d=c[1];return Object(o.jsxs)("div",{className:n.root,children:[Object(o.jsx)(F,{data:a}),Object(o.jsxs)(re.a,{value:i,onChange:function(e,t){d(t)},indicatorColor:"primary",textColor:"primary",children:[Object(o.jsx)(ce.a,{label:"Overview"}),Object(o.jsx)(ce.a,{label:"Dependencies"})]}),Object(o.jsx)(P,{value:i,index:0,children:Object(o.jsx)(C,{})}),Object(o.jsx)(P,{value:i,index:1,children:Object(o.jsx)(ae,{data:a})})]})},se=n(188),de=n(195),le=n(196),ue=Object(f.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}})),fe=function(){var e=ue();return Object(d.useEffect)((function(){}),[]),Object(o.jsx)("div",{className:e.root,children:Object(o.jsx)(se.a,{component:"nav",children:Object(o.jsx)(de.a,{button:!0,component:"a",children:Object(o.jsx)(le.a,{primary:"Result"})})})})},je=function(){return Object(o.jsxs)(a.c,{children:[Object(o.jsx)(a.a,{exact:!0,path:"/",component:v}),Object(o.jsx)(a.a,{exact:!0,path:r,component:ie}),Object(o.jsx)(a.a,{exact:!0,path:"/search",component:fe}),Object(o.jsx)(a.a,{path:"*",children:Object(o.jsx)(i,{})})]})}}},[[101,1,2]]]);
//# sourceMappingURL=main.c5cdac31.chunk.js.map