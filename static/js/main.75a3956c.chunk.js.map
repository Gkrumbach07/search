{"version":3,"sources":["index.js","App.js","styles/theme.js","navigation/CONSTANTS.js","navigation/NotFound.js","components/Shared/SearchBar.js","services/CONSTANTS.js","services/thothApi.js","pages/Home/Home.js","components/InfoCard/InfoCard.js","components/Shared/ErrorPage.js","components/Shared/LoadingErrorTemplate.js","components/Shared/ProgressBar.js","components/Metrics/DependenciesMetric.js","components/Metrics/LicenseMetric.js","components/Dashboard/PackageMetrics.js","components/Shared/IconText.js","utils/timeSince.js","components/Dashboard/PackageHeader.js","components/Shared/TabPanel.js","utils/recurseToRoot.js","config/networkOptions.js","components/Metrics/DependenciesMetric/NetworkGraph.js","components/Dashboard/PackageDependencies.js","utils/createDependencyGraph.js","utils/produceMetrics.js","pages/Dashboard/Dashboard.js","navigation/RouterConfig.js"],"names":["ReactDOM","render","StrictMode","document","getElementById","global","packagesReleases","App","theme","themeLight","createMuiTheme","palette","background","default","ROOT","DASHBOARD","NotFound","text","Typography","variant","useStyles","makeStyles","root","display","flexDirection","alignItems","flexGrow","SearchBar","onChange","label","helperText","error","classes","className","TextField","type","bar","e","target","value","THOTH","searchForPackage","name","version","axios","get","PYPI","thothGetDependencies","index","params","timeout","headers","accept","flexFlow","marginTop","search","justifyContent","minWidth","description","marginBottom","spacing","title","button","marginLeft","Home","history","useHistory","useState","setSearch","setError","handleChange","Button","color","onClick","then","result","push","catch","bullet","margin","transform","fontSize","pos","InfoCard","cardMeta","cardBody","Card","CardHeader","action","subheader","subTitle","CardContent","ErrorPage","align","LoadingErrorTemplate","children","state","errorText","show404","loadingPage","undefined","CircularProgress","style","CustomLinearProgress","withStyles","height","borderRadius","colorPrimary","backgroundColor","grey","LinearProgress","gridTemplateColumns","gridGap","gridColumnStart","whiteSpace","overflow","textOverflow","textAlign","gridColumnEnd","ProgressBar","total","props","Tooltip","placement","DependenciesMetric","metric","deepError","totalDependencies","direct","indirect","LicenseMetric","totalLicenses","Object","keys","all","reduce","sum","key","parseFloat","gutterBottom","Divider","entries","map","MetricLayout","Grid","container","metrics","item","xs","sm","charAt","toUpperCase","slice","graph","IconText","icon","link","href","timeSince","date","seconds","Math","floor","Date","interval","num","titleRow","linksRow","PackageHeader","data","warning","info","summary","license","releases","upload_time","TabPanel","other","role","hidden","id","aria-labelledby","Box","recurseToRoot","start","end","edges","starting_edges","filter","edge","includes","from","combined","nodes","forEach","path","recurse","Set","selection","to","options","manipulation","enabled","editNode","nodeData","callback","fixed","x","interaction","hover","hoverConnectedEdges","selectConnectedEdges","selectable","chosen","smooth","arrowStrikethrough","arrows","border","shape","size","borderWidth","labelHighlightBold","font","strokeWidth","physics","hierarchicalRepulsion","damping","springLength","solver","minVelocity","canvas","flex","NetworkGraph","searchText","visJsRef","useRef","useEffect","network","current","Network","rootNode","updateOnly","networkCanvas","getElementsByTagName","changeCursor","newCursorStyle","cursor","on","length","body","query","possible_results","node","selected","unselected_edges","unselected_nodes","concat","handleSearch","ref","padding","PackageDependencies","Paper","DataSet","metadata","createDependencyGraph","a","depth","haveVisited","r","directDependencies","dependencies","sort","b","compareVersions","directHaveVisited","i","res","requires_dist","childTree","len","isAxiosError","Error","message","licenses","maxWidth","marginRight","paddingRight","paddingLeft","reducer","payload","metricName","fieldName","who","Dashboard","location","useParams","useReducer","dispatch","setValue","package","versions","sorted","package_version","v","applyMetrics","produceShallowMetrics","produceDeepMetrics","deepMetrics","field","Tabs","event","newValue","indicatorColor","textColor","Tab","PackageMetrics","RouterConfig","exact","component"],"mappings":"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","file":"static/js/main.75a3956c.chunk.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// local utils and configs\nimport { themeLight } from \"styles/theme\";\n\n// ROUTER\nimport { BrowserRouter } from \"react-router-dom\";\nimport { RouterConfig } from \"navigation/RouterConfig\";\n\n// material ui\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\n// globals\nglobal.packagesReleases = {};\n\nfunction App() {\n  return (\n    <MuiThemeProvider theme={themeLight}>\n      <CssBaseline />\n      <BrowserRouter>\n        <RouterConfig />\n      </BrowserRouter>\n    </MuiThemeProvider>\n  );\n}\n\nexport default App;\n","import { createMuiTheme } from \"@material-ui/core/styles\";\n\nexport const themeLight = createMuiTheme({\n  palette: {\n    background: {\n      default: \"#f9f9f9\"\n    }\n  }\n});\n","// sub route is used to work with git hub pages as the domain contains multiple apps\nconst SUBROUTE = \"thoth-search/\";\n\nexport const ROOT = \"/\" + SUBROUTE;\nexport const DASHBOARD = ROOT + \"dashboard\";\n","import { Typography } from \"@material-ui/core\";\n\nexport const NotFound = ({ text }) => {\n  return <Typography variant=\"h2\">404: {text ?? \"page\"} not found!</Typography>;\n};\n\nexport default NotFound;\n","// material ui\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// react\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    flexGrow: 1\n  }\n}));\n\nconst SearchBar = ({ onChange, label, helperText, error = false }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <TextField\n        type=\"search\"\n        variant=\"outlined\"\n        label={label}\n        className={classes.bar}\n        onChange={e => onChange(e.target.value)}\n        helperText={helperText}\n        error={error}\n      />\n    </div>\n  );\n};\n\nSearchBar.propTypes = {\n  label: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  helperText: PropTypes.string,\n  error: PropTypes.bool\n};\n\nexport default SearchBar;\n","export const PYPI = \"https://pypi.org/pypi\";\nexport const THOTH = \"https://api.moc.thoth-station.ninja/api/v1\";\n","import axios from \"axios\";\nimport { PYPI, THOTH } from \"./CONSTANTS\";\nimport compareVersions from \"tiny-version-compare\";\n\n// pypi\nexport const searchForPackage = (name, version) => {\n  return axios.get(\n    PYPI + \"/\" + name + (version ? \"/\" + version : \"\") + \"/json\"\n  );\n};\n\n// thoth\nexport const thothGetDependencies = (\n  name,\n  version,\n  index = \"https://pypi.org/simple\"\n) => {\n  return axios.get(THOTH + \"/python/package/dependencies\", {\n    params: {\n      name: name,\n      version: version,\n      index: index\n    },\n    timeout: 5000,\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n};\n\nexport const thothCompareLatestVersion = name => {\n  return axios\n    .get(THOTH + \"/python/package/versions\", {\n      params: {\n        name: name\n      },\n      timeout: 5000,\n      headers: {\n        accept: \"application/json\"\n      }\n    })\n    .then(res => {\n      if (res.data.versions.length === 0) {\n        return null;\n      } else {\n        const sorted = res.data.versions.sort(function(a, b) {\n          return compareVersions(a.package_version, b.package_version);\n        });\n\n        return sorted[sorted.length - 1].package_version;\n      }\n    })\n    .catch(() => {\n      return null;\n    });\n};\n","// react\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n// material-ui\nimport { Typography, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// local\nimport { DASHBOARD } from \"navigation/CONSTANTS\";\nimport SearchBar from \"components/Shared/SearchBar\";\n\n// api\nimport { searchForPackage } from \"services/thothApi\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\",\n    alignItems: \"center\",\n    marginTop: \"20%\"\n  },\n  search: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"stretch\",\n    minWidth: \"50%\"\n  },\n  description: {\n    marginBottom: theme.spacing(6)\n  },\n  title: {\n    marginBottom: theme.spacing(1)\n  },\n  button: {\n    marginLeft: theme.spacing(2)\n  }\n}));\n\nconst Home = () => {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const [search, setSearch] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleChange = e => {\n    setSearch(e);\n    if (error !== \"\") {\n      setError(\"\");\n    }\n  };\n\n  const handleSearch = () => {\n    if (search !== \"\") {\n      searchForPackage(search)\n        .then(result => {\n          //history.push(DASHBOARD + \"?q=\" + search, result.data);\n          history.push(DASHBOARD + \"/\" + search);\n        })\n        .catch(() => {\n          setError(\"No results\");\n        });\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h4\" className={classes.title}>\n        <b>Thoth Search</b>\n      </Typography>\n      <Typography variant=\"body1\" className={classes.description}>\n        Use this search box to lookup specific Python packages.\n      </Typography>\n      <div className={classes.search}>\n        <SearchBar\n          label=\"Search for a Python package\"\n          onChange={e => handleChange(e)}\n          helperText={error}\n          error={error !== \"\"}\n        />\n\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => handleSearch()}\n          className={classes.button}\n        >\n          <b>Search</b>\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\"\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\n\nconst InfoCard = ({ cardMeta, cardBody }) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root}>\n      <CardHeader\n        action={cardMeta.action}\n        title={cardMeta.title}\n        subheader={cardMeta.subTitle}\n      />\n      <CardContent>{cardBody}</CardContent>\n    </Card>\n  );\n};\n\nInfoCard.propTypes = {\n  cardMeta: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    subTitle: PropTypes.string,\n    action: PropTypes.element\n  }),\n  cardBody: PropTypes.element\n};\n\nexport default InfoCard;\n","import { Typography } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\nconst ErrorPage = ({ text }) => {\n  return (\n    <Typography align=\"center\" color=\"error\" variant=\"body1\">\n      {text}\n    </Typography>\n  );\n};\n\nErrorPage.propTypes = {\n  text: PropTypes.string.isRequired\n};\n\nexport default ErrorPage;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material ui\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\n// local\nimport ErrorPage from \"components/Shared/ErrorPage\";\nimport NotFound from \"navigation/NotFound\";\n\nconst LoadingErrorTemplate = ({\n  children,\n  state,\n  errorText,\n  show404,\n  loadingPage\n}) => {\n  return (\n    <>\n      {state === \"error\" ? (\n        show404 ? (\n          <NotFound text={show404} />\n        ) : (\n          <ErrorPage text={errorText ?? \"A unknown error occured\"} />\n        )\n      ) : state === undefined ? ( // loading if undefined\n        loadingPage ?? <CircularProgress style={{ marginLeft: \"50%\" }} />\n      ) : (\n        children\n      )}\n    </>\n  );\n};\n\nLoadingErrorTemplate.propTypes = {\n  state: PropTypes.any\n};\n\nexport default LoadingErrorTemplate;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { LinearProgress, Typography, Tooltip } from \"@material-ui/core\";\n\nconst CustomLinearProgress = withStyles(theme => ({\n  root: {\n    height: 10,\n    borderRadius: 5\n  },\n  colorPrimary: {\n    backgroundColor:\n      theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700]\n  },\n  bar: {\n    borderRadius: 5,\n    backgroundColor: \"#1a90ff\"\n  }\n}))(LinearProgress);\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(6,1fr)\",\n    alignItems: \"center\",\n    gridGap: theme.spacing(1)\n  },\n  label: {\n    gridColumnStart: 1,\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\"\n  },\n  value: {\n    gridColumnStart: 2,\n    textAlign: \"end\"\n  },\n  bar: {\n    gridColumnStart: 3,\n    gridColumnEnd: \"span 4\"\n  }\n}));\n\nconst ProgressBar = ({ value, total, label, ...props }) => {\n  const classes = useStyles();\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      <Tooltip title={label} placement=\"left\">\n        <Typography variant=\"body2\" className={classes.label}>\n          {label}\n        </Typography>\n      </Tooltip>\n\n      <Typography className={classes.value} variant=\"body2\">\n        {value}\n      </Typography>\n\n      <CustomLinearProgress\n        variant=\"determinate\"\n        value={total > 0 ? (value / total) * 100 : 0}\n        className={classes.bar}\n      />\n    </div>\n  );\n};\n\nProgressBar.propTypes = {\n  value: PropTypes.number.isRequired,\n  total: PropTypes.number.isRequired,\n  label: PropTypes.string\n};\n\nexport default ProgressBar;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst DependenciesMetric = ({ metric, deepError }) => {\n  const classes = useStyles();\n  const totalDependencies = (metric.direct ?? 0) + (metric.indirect ?? 0);\n\n  return (\n    <div className={classes.root}>\n      <LoadingErrorTemplate state={metric.direct}>\n        <ProgressBar\n          value={metric.direct ?? 0}\n          total={totalDependencies}\n          label={\"Direct\"}\n          className={classes.bar}\n        />\n      </LoadingErrorTemplate>\n\n      <LoadingErrorTemplate\n        state={deepError ? \"error\" : metric.indirect}\n        errorText=\"Could not run analysis on dependencies.\"\n      >\n        <ProgressBar\n          value={metric.indirect ?? 0}\n          total={totalDependencies}\n          label={\"Indirect\"}\n        />\n      </LoadingErrorTemplate>\n    </div>\n  );\n};\n\nDependenciesMetric.propTypes = {\n  metric: PropTypes.shape({\n    direct: PropTypes.number,\n    indirect: PropTypes.number\n  }).isRequired\n};\n\nexport default DependenciesMetric;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Typography, Divider } from \"@material-ui/core\";\n\n// local\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\nimport ProgressBar from \"components/Shared/ProgressBar\";\n\nconst useStyles = makeStyles(theme => ({\n  bar: {\n    marginBottom: theme.spacing(1)\n  },\n  marginBottom: {\n    marginBottom: theme.spacing(2)\n  }\n}));\n\nconst LicenseMetric = ({ metric, deepError }) => {\n  const classes = useStyles();\n  const totalLicenses = Object.keys(metric?.all ?? {}).reduce(\n    (sum, key) => sum + parseFloat(metric.all[key] || 0),\n    0\n  );\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body2\" gutterBottom className={classes.label}>\n        <b>License</b>\n      </Typography>\n      <Divider />\n      <Typography className={classes.marginBottom} variant=\"h6\">\n        {metric.root}\n      </Typography>\n      <Typography variant=\"body2\" gutterBottom className={classes.label}>\n        <b>Dependency Licenses</b>\n      </Typography>\n      <Divider />\n      <LoadingErrorTemplate\n        state={deepError ? \"error\" : metric.all}\n        errorText=\"Could not run analysis on dependencies.\"\n      >\n        {Object.entries(metric?.all ?? {}).map(([key, value]) => {\n          return (\n            <ProgressBar\n              key={key}\n              value={value ?? 0}\n              total={totalLicenses}\n              label={key}\n              className={classes.bar}\n            />\n          );\n        })}\n      </LoadingErrorTemplate>\n    </div>\n  );\n};\n\nLicenseMetric.propTypes = {\n  metric: PropTypes.shape({\n    root: PropTypes.string,\n    all: PropTypes.object\n  }).isRequired\n};\n\nexport default LicenseMetric;\n","// local components\nimport InfoCard from \"components/InfoCard/InfoCard\";\nimport DependenciesMetric from \"components/Metrics/DependenciesMetric\";\nimport LicenseMetric from \"components/Metrics/LicenseMetric\";\n\n// material-ui\nimport Grid from \"@material-ui/core/Grid\";\n\nconst MetricLayout = ({ state }) => {\n  return (\n    <Grid container spacing={3}>\n      {Object.entries(state.metrics).map(([key, value]) => {\n        return (\n          <Grid item xs={12} sm={6} key={key}>\n            <InfoCard\n              cardMeta={{\n                title: key.charAt(0).toUpperCase() + key.slice(1)\n              }}\n              cardBody={\n                key === \"dependencies\" ? (\n                  <DependenciesMetric\n                    metric={value}\n                    deepError={state.error.graph}\n                  />\n                ) : key === \"licenses\" ? (\n                  <LicenseMetric metric={value} deepError={state.error.graph} />\n                ) : null\n              }\n            />\n          </Grid>\n        );\n      })}\n    </Grid>\n  );\n};\n\nexport default MetricLayout;\n","// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// react\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  }\n}));\n\nconst IconText = ({ text, icon, link, ...props }) => {\n  const classes = useStyles();\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      {icon}\n      <Typography href={link ? link : null} variant=\"body2\" align=\"center\">\n        {text}\n      </Typography>\n    </div>\n  );\n};\n\nexport default IconText;\n\nIconText.propTypes = {\n  text: PropTypes.string.isRequired,\n  icon: PropTypes.element.isRequired,\n  link: PropTypes.string\n};\n","export function timeSince(date) {\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = seconds / 31536000;\n\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" year\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 2592000;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" month\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 86400;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" day\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 3600;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" hour\" + (num !== 1 ? \"s\" : \"\");\n  }\n  interval = seconds / 60;\n  if (interval > 1) {\n    const num = Math.floor(interval);\n    return num + \" minute\" + (num !== 1 ? \"s\" : \"\");\n  }\n  const num = Math.floor(seconds);\n  return num + \" second\" + (num !== 1 ? \"s\" : \"\");\n}\n","// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\n\n// local\nimport IconText from \"components/Shared/IconText\";\n\n// utils\nimport { timeSince } from \"utils/timeSince\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n  titleRow: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(1)\n  },\n  marginLeft: {\n    marginLeft: theme.spacing(2)\n  },\n  linksRow: {\n    display: \"flex\",\n    marginBottom: theme.spacing(3)\n  }\n}));\n\nconst PackageHeader = ({ data, warning }) => {\n  const classes = useStyles();\n\n  return (\n    <div>\n      <div className={classes.titleRow}>\n        <Typography variant=\"h4\">\n          <b>{data.info.name}</b>\n        </Typography>\n        <Typography className={classes.marginLeft} variant=\"subtitle1\">\n          v{data.info?.version}\n        </Typography>\n      </div>\n      {warning ? (\n        <Typography color=\"error\" gutterBottom variant=\"body2\">\n          {warning}\n        </Typography>\n      ) : null}\n\n      <Typography gutterBottom variant=\"body1\">\n        {data.info?.summary}\n      </Typography>\n      <div className={classes.linksRow}>\n        <IconText text={data.info?.license} icon={<GavelIcon />} />\n        <IconText\n          className={classes.marginLeft}\n          text={\n            \"Latest version published \" +\n            timeSince(\n              new Date(data.releases[data.info.version][0]?.upload_time)\n            ) +\n            \" ago.\"\n          }\n          icon={<BookmarkIcon />}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default PackageHeader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Box from \"@material-ui/core/Box\";\n\nconst TabPanel = props => {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </div>\n  );\n};\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nexport default TabPanel;\n","export function recurseToRoot(start, end, edges) {\n  // get edges coming off of node *start*\n  const starting_edges = edges.filter(edge => start.includes(edge.from));\n\n  // recurse from each starting edge to root (0)\n  // note there could be multiple starting points\n  let combined = { nodes: [], edges: [] };\n  starting_edges.forEach(edge => {\n    const path = recurse(edge, { nodes: [], edges: [] }, edges, end);\n    combined = {\n      nodes: [...new Set([...path.nodes, ...combined.nodes])],\n      edges: [...new Set([...path.edges, ...combined.edges])]\n    };\n  });\n\n  return combined;\n}\n\nfunction recurse(edge, selection, edges, end) {\n  // cycle or allready visited OR\n  if (selection.edges.includes(edge.id)) {\n    return selection;\n  }\n\n  // add the edge id and nodes at either end of edge to selection\n  selection.nodes.push(edge.from, edge.to);\n  selection.edges.push(edge.id);\n\n  // cycle or allready visited OR\n  if (edge.to === end) {\n    return selection;\n  } else {\n    // find the next edges to go\n    // combine voth recursion branches together while removing dups\n    // return combined branches as one\n    let combined = { nodes: [], edges: [] };\n    edges\n      .filter(e => e.from === edge.to)\n      .forEach(e => {\n        const path = recurse(e, selection, edges, end);\n        combined = {\n          nodes: [...new Set([...path.nodes, ...combined.nodes])],\n          edges: [...new Set([...path.edges, ...combined.edges])]\n        };\n      });\n\n    return combined;\n  }\n}\n","export const options = {\n  manipulation: {\n    enabled: false,\n    editNode: function(nodeData, callback) {\n      nodeData.fixed = !nodeData.fixed.x;\n      callback(nodeData);\n    }\n  },\n  interaction: {\n    hover: true,\n    hoverConnectedEdges: false,\n    selectConnectedEdges: false,\n    selectable: false\n  },\n  edges: {\n    chosen: false,\n    smooth: false,\n    color: {\n      color: \"#5c6470\"\n    },\n    arrowStrikethrough: false,\n    arrows: {\n      from: {\n        enabled: true,\n        type: \"triangle\"\n      }\n    }\n  },\n  nodes: {\n    chosen: false,\n    color: {\n      background: \"#5c6470\",\n      border: \"#fff\",\n      hover: {\n        background: \"#f39200\",\n        border: \"#fff\"\n      }\n    },\n    shape: \"dot\",\n    size: 10,\n    borderWidth: 2,\n    labelHighlightBold: false,\n    font: {\n      color: \"#393e46\",\n      strokeWidth: 2,\n      size: 15\n    }\n  },\n  physics: {\n    hierarchicalRepulsion: {\n      damping: 0.1,\n      springLength: 200\n    },\n    solver: \"hierarchicalRepulsion\",\n    minVelocity: 0.15\n  }\n};\n","// react\nimport React, { useEffect, useRef } from \"react\";\n\n// utils and configs\nimport { recurseToRoot } from \"utils/recurseToRoot\";\nimport { options } from \"config/networkOptions\";\n\n// vis-network\nimport { Network } from \"vis-network/standalone/esm/vis-network\";\n\n// material ui\nimport SearchBar from \"components/Shared/SearchBar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// styling\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\"\n  },\n  canvas: {\n    flex: \"1 1 auto\",\n    height: \"75vh\"\n  }\n}));\n\nconst NetworkGraph = ({ data, searchText, root, ...props }) => {\n  const visJsRef = useRef(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    const network =\n      visJsRef.current && new Network(visJsRef.current, data, options);\n\n    // set root node to have specific color\n    const rootNode = data.nodes.get(root);\n    rootNode.color = \"#4fc1ea\";\n    rootNode.font = { color: \"#4fc1ea\", strokeWidth: 3, size: 20 };\n    data.nodes.updateOnly(rootNode);\n\n    // change curser when hovering and grabbing\n    // Get the canvas HTML element\n    var networkCanvas = document\n      .getElementById(\"mynetwork\")\n      .getElementsByTagName(\"canvas\")[0];\n\n    // changes the curser graphic depedning on where and what the mouse is doing\n    function changeCursor(newCursorStyle) {\n      networkCanvas.style.cursor = newCursorStyle;\n    }\n    network.on(\"hoverNode\", function() {\n      changeCursor(\"grab\");\n    });\n    network.on(\"blurNode\", function() {\n      changeCursor(\"default\");\n    });\n    network.on(\"dragStart\", function() {\n      changeCursor(\"grabbing\");\n    });\n    network.on(\"dragging\", function() {\n      changeCursor(\"grabbing\");\n    });\n    network.on(\"dragEnd\", function() {\n      changeCursor(\"grab\");\n    });\n\n    // fix (stick in place) node when done dragging\n    network.on(\"dragEnd\", function(params) {\n      if (params.nodes.length !== 0) {\n        network.editNode(params.nodes[0]);\n      }\n    });\n\n    // un stick node if already stuck\n    network.on(\"dragStart\", function(params) {\n      // check if node has not been touched or is fixed\n      // if fixed then un fix\n      if (\n        params.nodes.length !== 0 &&\n        network.body.nodes[params.nodes[0]].options.x !== undefined &&\n        network.body.nodes[params.nodes[0]].options.x\n      ) {\n        // un fix node\n        network.editNode(params.nodes[0]);\n      }\n    });\n  }, [visJsRef, data, root]);\n\n  // recursivly finds all paths from search result to root\n  const handleSearch = (query, data) => {\n    // clear selection if empty search bar\n    data.nodes.updateOnly(\n      data.nodes.get().map(e => {\n        if (e.id !== root) {\n          e[\"color\"] = options.nodes.color;\n          e[\"font\"] = options.nodes.font;\n        }\n        return e;\n      })\n    );\n\n    // reset edge colors\n    data.edges.updateOnly(\n      data.edges.get().map(e => {\n        e[\"color\"] = options.edges.color;\n        return e;\n      })\n    );\n\n    if (query === \"\") {\n      // reset node colors\n      return;\n    }\n\n    // use input text to find possible results\n    let possible_results = data.nodes.get({\n      filter: function(node) {\n        return node.label.includes(query);\n      }\n    });\n\n    // recurse through possible results\n    const selected = recurseToRoot(\n      possible_results.map(node => node.id),\n      root,\n      data.edges.map(e => e)\n    );\n\n    // grey out non search results\n    // nodes that are not in search results\n    const unselected_edges = data.edges\n      .get()\n      .filter(edge => !selected.edges.includes(edge.id))\n      .map(e => {\n        e[\"color\"] = { color: \"#e3e5e8\" };\n        return e;\n      });\n\n    // edges that are not in search results\n    const unselected_nodes = data.nodes\n      .get()\n      .filter(node => !selected.nodes.includes(node.id))\n      .map(e => {\n        if (e.id !== root) {\n          e[\"color\"] = { background: \"#e3e5e8\" };\n          e[\"font\"] = { color: \"#e3e5e8\", strokeWidth: 2, size: 15 };\n        }\n        return e;\n      });\n\n    // set searched nodes to a different color\n    possible_results = possible_results.map(e => {\n      if (e.id !== root) {\n        e[\"color\"] = { background: \"#f39200\" };\n      }\n      return e;\n    });\n\n    // update nodes and edges in the dataset\n    data.nodes.updateOnly(unselected_nodes.concat(possible_results));\n    data.edges.updateOnly(unselected_edges);\n  };\n\n  return (\n    <div className={`${classes.root} ${props.className}`}>\n      <SearchBar\n        label=\"Filter packages\"\n        onChange={text => handleSearch(text, data)}\n      />\n      <div ref={visJsRef} id=\"mynetwork\" className={classes.canvas} />\n    </div>\n  );\n};\n\nexport default NetworkGraph;\n","// React\nimport React from \"react\";\n\n// local components\nimport NetworkGraph from \"components/Metrics/DependenciesMetric/NetworkGraph.js\";\n\n// material-ui\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n//vis-dataset\nimport { DataSet } from \"vis-network/standalone/esm/vis-network\";\n\nconst useStyles = makeStyles(theme => ({\n  graph: {\n    padding: theme.spacing(4)\n  }\n}));\n\nconst PackageDependencies = ({ state }) => {\n  const classes = useStyles();\n\n  return (\n    <LoadingErrorTemplate\n      state={state.error.graph ? \"error\" : state.graph}\n      errorText=\"Could not load in dependency graph.\"\n    >\n      <Paper>\n        <NetworkGraph\n          data={{\n            nodes: new DataSet(state.graph?.nodes),\n            edges: new DataSet(state.graph?.edges)\n          }}\n          className={classes.graph}\n          root={state.metadata.info.name + state.metadata.info.version}\n        />\n      </Paper>\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default PackageDependencies;\n","import { thothGetDependencies, searchForPackage } from \"services/thothApi\";\nimport compareVersions from \"tiny-version-compare\";\n\n// this function populates the globla state\n// with a graph of all package dependencies.\n// It uses Thoth API to get dependencies.\n// And uses PyPi to get metadata\nexport async function createDependencyGraph(\n  name,\n  version,\n  depth = 2,\n  haveVisited = []\n) {\n  const nodes = [];\n  const edges = [];\n\n  // add initial node\n  if (haveVisited.length === 0) {\n    nodes.push({\n      id: name + version,\n      label: name\n    });\n  }\n\n  // increase depth tracker\n  depth -= 1;\n\n  // get dep list through thoth's database\n  return await thothGetDependencies(name, version)\n    .then(async r => {\n      // sort the direct dependencies by version\n      const directDependencies = r.data.dependencies.sort(function(a, b) {\n        return compareVersions(a.version, b.version);\n      });\n\n      // this will prevent duplicate direct dependencies\n      const directHaveVisited = [];\n\n      // for each direct dependency (start at bottom to et the latest versions first)\n      for (let i = directDependencies.length - 1; i >= 0; i--) {\n        // only include one version of a dependency (latest)\n        if (!directHaveVisited.includes(directDependencies[i].name)) {\n          // add dependency to have direct visited lookup table\n          directHaveVisited.push(directDependencies[i].name);\n\n          // get metadata of package\n          const childTree = await searchForPackage(\n            directDependencies[i].name,\n            directDependencies[i].version\n          ).then(async res => {\n            // create network edge from dependency to parent\n            edges.push({\n              to: name + version,\n              from: directDependencies[i].name + directDependencies[i].version\n            });\n\n            // create a network node of dependency only if\n            // node has not been visited in any other branch\n            if (!haveVisited.includes(directDependencies[i].name)) {\n              // add dependency to overall visisted list\n              haveVisited.push(directDependencies[i].name);\n\n              // add node\n              nodes.push({\n                id: directDependencies[i].name + directDependencies[i].version,\n                label: directDependencies[i].name,\n                metadata: res.data,\n                depth: depth\n              });\n\n              // recurse into dependency's dependencies\n              // if there are dependencies and depth has not been reached\n              if (\n                res.data.info.requires_dist !== null &&\n                res.data.info.requires_dist.length !== 0 &&\n                depth !== 0\n              ) {\n                return await createDependencyGraph(\n                  directDependencies[i].name,\n                  directDependencies[i].version,\n                  depth,\n                  haveVisited\n                ).then(r => {\n                  // return child tree (nodes and edges)\n                  return {\n                    nodes: r.nodes,\n                    edges: r.edges\n                  };\n                });\n              }\n            }\n          });\n\n          // add child tree to parent\n          if (childTree) {\n            for (let x = 0, len = childTree.nodes.length; x < len; x++) {\n              nodes.push(childTree.nodes[x]);\n            }\n            for (let x = 0, len = childTree.edges.length; x < len; x++) {\n              edges.push(childTree.edges[x]);\n            }\n          }\n        }\n      }\n\n      return {\n        nodes: nodes,\n        edges: edges\n      };\n    })\n    .catch(error => {\n      // if timeout\n      if (error.isAxiosError) {\n        return new Error(error.message);\n      }\n      // package or version is not in Thoth DB\n      // skip its dependencies\n      return {\n        nodes: nodes,\n        edges: edges\n      };\n    });\n}\n","// utils\nimport { createDependencyGraph } from \"utils/createDependencyGraph\";\n\n// this function creates a deep dependency graph and\n// produces metrics based on it and the roots metadata\n// this function can take a long amount of time if the\n// graph is very large\nexport function produceShallowMetrics(metadata) {\n  let state = {};\n\n  state.metrics = {};\n\n  // produce dependency metrics\n  state.metrics.dependencies = {\n    direct: metadata.info.requires_dist?.length ?? 0\n  };\n\n  // set state\n  state.metrics = {\n    dependencies: {\n      direct: metadata.info.requires_dist?.length ?? 0\n    },\n    licenses: {\n      root: metadata.info.license\n    }\n  };\n\n  return state;\n}\n\n// this function creates a deep dependency graph and\n// produces metrics based on it and the roots metadata\n// this function can take a long amount of time if the\n// graph is very large\nexport async function produceDeepMetrics(metadata, depth = -1) {\n  let state = {};\n\n  return await createDependencyGraph(\n    metadata.info.name,\n    metadata.info.version,\n    depth\n  ).then(graph => {\n    // set the state objects graph data\n    state.graph = graph;\n\n    state.metrics = {};\n\n    // for each dependency get update total metrics\n    let licenses = {};\n    graph.nodes.forEach(node => {\n      // produce dependency metrics if not root\n      if (node.metadata) {\n        // existing licence\n\n        if (licenses[node.metadata.info.license]) {\n          licenses[node.metadata.info.license] += 1;\n        }\n        // new license\n        licenses[node.metadata.info.license] = 1;\n      }\n    });\n\n    // set state\n    state.metrics = {\n      dependencies: {\n        indirect:\n          graph.nodes.length - (metadata.info.requires_dist?.length ?? 0) - 1\n      },\n      licenses: {\n        all: licenses\n      }\n    };\n\n    // produce license Metrics\n    // produce security metrics\n\n    return state;\n  });\n}\n","// React\nimport React, { useEffect, useState, useReducer } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\n// local\nimport PackageMetrics from \"components/Dashboard/PackageMetrics\";\nimport PackageHeader from \"components/Dashboard/PackageHeader\";\nimport TabPanel from \"components/Shared/TabPanel\";\nimport PackageDependencies from \"components/Dashboard/PackageDependencies\";\nimport LoadingErrorTemplate from \"components/Shared/LoadingErrorTemplate\";\n\n// API\nimport { searchForPackage, thothCompareLatestVersion } from \"services/thothApi\";\n\n// utils\nimport {\n  produceDeepMetrics,\n  produceShallowMetrics\n} from \"utils/produceMetrics\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    maxWidth: \"95%\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    paddingRight: theme.spacing(3),\n    paddingLeft: theme.spacing(3),\n    marginTop: theme.spacing(4)\n  }\n}));\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"metadata\":\n      return { ...state, metadata: action.payload };\n    case \"graph\":\n      return { ...state, graph: action.payload };\n    case \"metric\":\n      return {\n        ...state,\n        metrics: { ...state.metrics, [action.metricName]: action.payload }\n      };\n    case \"metric-field\":\n      return {\n        ...state,\n        metrics: {\n          ...state.metrics,\n          [action.metricName]: {\n            ...state.metrics[action.metricName],\n            [action.fieldName]: action.payload\n          }\n        }\n      };\n    case \"warning\": {\n      return {\n        ...state,\n        warning: action.payload\n      };\n    }\n    case \"error\": {\n      return {\n        ...state,\n        error: { [action.who]: action.payload }\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\n// The page that displays all analyis data\nexport const Dashboard = ({ location }) => {\n  const classes = useStyles();\n  const params = useParams();\n\n  // for state control\n  const [state, dispatch] = useReducer(reducer, {\n    metadata: undefined,\n    graph: undefined,\n    metrics: {},\n    error: {\n      graph: false,\n      metadata: false\n    }\n  });\n\n  // for tab control\n  const [value, setValue] = useState(0);\n\n  // before render\n  useEffect(() => {\n    // if the package or version doesnt exists, act accordingly\n    searchForPackage(params?.package, params?.version)\n      .then(r => {\n        // check if thoth is up to data for package\n        thothCompareLatestVersion(r.data.info.name).then(v => {\n          if (v !== r.data.info.version) {\n            dispatch({\n              type: \"warning\",\n              payload: v\n                ? \"Thoth currently supports up to version \" +\n                  v +\n                  \", while the most recent version is \" +\n                  r.data.info.version +\n                  \".\"\n                : \"Thoth currently does not support this package.\"\n            });\n          }\n        });\n\n        // set root/parent package metdata for shallow analyis\n        dispatch({ type: \"metadata\", payload: r.data });\n        applyMetrics(produceShallowMetrics(r.data).metrics);\n\n        // preform deep analysis in the background, update state when finished\n        produceDeepMetrics(r.data, 3)\n          .then(deepMetrics => {\n            // set graph data and metrics to state\n            dispatch({ type: \"graph\", payload: deepMetrics.graph });\n            applyMetrics(deepMetrics.metrics);\n          })\n          .catch(e => {\n            dispatch({\n              type: \"error\",\n              who: \"graph\",\n              payload: true\n            });\n          });\n      })\n      .catch(e => {\n        // does not exist\n        dispatch({ type: \"error\", who: \"metadata\", payload: true });\n      });\n  }, [params]);\n\n  // component specific functions //\n\n  // applsy all metrics to state q\n  const applyMetrics = metrics => {\n    for (const metricName of Object.keys(metrics)) {\n      // for each field on metric\n      for (const [field, payload] of Object.entries(metrics[metricName])) {\n        // add metrics to state.\n        dispatch({\n          type: \"metric-field\",\n          fieldName: field,\n          metricName: metricName,\n          payload: payload\n        });\n      }\n    }\n  };\n\n  // handle tab chnage\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <LoadingErrorTemplate\n      state={state.error.metadata ? \"error\" : state.metadata}\n      show404={\"Package\"}\n    >\n      <div className={classes.root}>\n        <PackageHeader data={state.metadata} warning={state.warning} />\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n        >\n          <Tab label=\"Overview\" />\n          <Tab label=\"Dependencies\" />\n        </Tabs>\n        <TabPanel value={value} index={0}>\n          <PackageMetrics state={state} />\n        </TabPanel>\n        <TabPanel value={value} index={1}>\n          <PackageDependencies state={state} />\n        </TabPanel>\n      </div>\n    </LoadingErrorTemplate>\n  );\n};\n\nexport default Dashboard;\n","import { Route, Switch } from \"react-router-dom\";\nimport { ROOT, DASHBOARD } from \"./CONSTANTS\";\nimport NotFound from \"./NotFound\";\nimport Home from \"pages/Home/Home\";\nimport Dashboard from \"pages/Dashboard/Dashboard\";\n\nexport const RouterConfig = () => {\n  return (\n    <Switch>\n      <Route exact path={ROOT} component={Home} />\n      <Route\n        exact\n        path={DASHBOARD + \"/:package/:version?\"}\n        component={Dashboard}\n      />\n\n      <Route path=\"*\">\n        <NotFound />\n      </Route>\n    </Switch>\n  );\n};\n\nexport default RouterConfig;\n"],"sourceRoot":""}